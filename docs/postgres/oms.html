<!-- $Header: /cvsroot/autodoc/autodoc/html.tmpl,v 1.4 2006/05/16 19:01:27 rbt Exp $ -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
  <head>
    <title>Index for oms</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <style type="text/css">
	BODY {
		color:	#000000;
		background-color: #FFFFFF;
		font-family: Helvetica, sans-serif;
	}

	P {
		margin-top: 5px;
		margin-bottom: 5px;
	}

	P.w3ref {
		font-size: 8pt;
		font-style: italic;
		text-align: right;
	}

	P.detail {
		font-size: 10pt;
	}

	.error {
		color: #FFFFFF;
		background-color: #FF0000;
	}

	H1, H2, H3, H4, H5, H6 {
	}

	OL {
		list-style-type: upper-alpha;
	}

	UL.topic {
		list-style-type: upper-alpha;
	}

	LI.topic {
		font-weight : bold;
	}

	HR {
		color: #00FF00;
		background-color: #808080;
	}

	TABLE {
		border-width: medium;
		padding: 3px;
		background-color: #000000;
		width: 90%;
	}

	CAPTION {
		text-transform: capitalize;
		font-weight : bold;
		font-size: 14pt;
	}

	TH {
		color: #FFFFFF;
		background-color: #000000;
		text-align: left;
	}

	TR {
		color: #000000;
		background-color: #000000;
		vertical-align: top;
	}

	TR.tr0 {
		background-color: #F0F0F0;
	}

	TR.tr1 {
		background-color: #D8D8D8;
	}

	TD {
		font-size: 12pt;
	}

	TD.col0 {
		font-weight : bold;
		width: 20%;
	}

	TD.col1 {
		font-style: italic;
		width: 15%;
	}

	TD.col2 {
		font-size: 12px;
	}
    </style>
    <link rel="stylesheet" type="text/css" media="all" href="all.css">
    <link rel="stylesheet" type="text/css" media="screen" href="screen.css">
    <link rel="stylesheet" type="text/css" media="print" href="print.css">
    <meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
  </head>
  <body>

    <!-- Primary Index -->
	<p><br><br>Dumped on 2017-05-12</p>
<h1><a name="index">Index of database - oms</a></h1>
<ul>
    
    <li><a name="contacts.schema">contacts</a></li><ul>
    	<li><a href="#contacts.table.contacts">contacts</a></li>
  	
    </ul>
    
    <li><a name="events.schema">events</a></li><ul>
    	<li><a href="#events.table.comments">comments</a></li><li><a href="#events.table.datas">datas</a></li><li><a href="#events.table.datas-000112">datas_000112</a></li><li><a href="#events.table.datas-199001">datas_199001</a></li><li><a href="#events.table.datas-201504">datas_201504</a></li><li><a href="#events.table.datas-201506">datas_201506</a></li><li><a href="#events.table.datas-201508">datas_201508</a></li><li><a href="#events.table.datas-201509">datas_201509</a></li><li><a href="#events.table.datas-201510">datas_201510</a></li><li><a href="#events.table.datas-201511">datas_201511</a></li><li><a href="#events.table.datas-201610">datas_201610</a></li><li><a href="#events.table.datas-201701">datas_201701</a></li><li><a href="#events.table.datas-201704">datas_201704</a></li><li><a href="#events.table.datas-201705">datas_201705</a></li><li><a href="#events.table.eventtypes">eventtypes</a></li><li><a href="#events.table.reception-modes">reception_modes</a></li><li><a href="#events.table.statustypes">statustypes</a></li><li><a href="#events.view.view-datas-details">view_datas_details</a></li><li><a href="#events.view.view-datas-details-isopen">view_datas_details_isopen</a></li><li><a href="#events.view.view-eventtypes-to-client">view_eventtypes_to_client</a></li>
  	<li><a href="#events.function.check-before-insert">check_before_insert()</a></li><li><a href="#events.function.fun-create-table-partition-datas-idatetimeevent-timestamp-with-time-zone">fun_create_table_partition_datas(idatetimeevent timestamp with time zone)</a></li><li><a href="#events.function.fun-event-assignment-admin-assigned-bigint-iideventtype-bigint-iidaccount-bigint">fun_event_assignment(admin_assigned bigint, iideventtype bigint, iidaccount bigint)</a></li><li><a href="#events.function.fun-set-expired-events">fun_set_expired_events()</a></li><li><a href="#events.function.import-events">import_events()</a></li><li><a href="#events.function.on-insert">on_insert()</a></li>
    </ul>
    
    <li><a name="gui.schema">gui</a></li><ul>
    	<li><a href="#gui.table.column-properties">column_properties</a></li><li><a href="#gui.table.menus">menus</a></li><li><a href="#gui.table.tables-view-properties">tables_view_properties</a></li><li><a href="#gui.view.view-columns-properties">view_columns_properties</a></li><li><a href="#gui.view.view-table-view-columns-properties">view_table_view_columns_properties</a></li><li><a href="#gui.view.view-table-view-properties">view_table_view_properties</a></li>
  	<li><a href="#gui.function.fun-mapper">fun_mapper()</a></li>
    </ul>
    
    <li><a name="octopus.schema">octopus</a></li><ul>
    	<li><a href="#octopus.table.octopus-by-account">octopus_by_account</a></li><li><a href="#octopus.table.octopus-by-equipment">octopus_by_equipment</a></li><li><a href="#octopus.table.octopus-function">octopus_function</a></li><li><a href="#octopus.table.octopus-functions-base">octopus_functions_base</a></li><li><a href="#octopus.table.octopus-task-queue">octopus_task_queue</a></li><li><a href="#octopus.view.view-task-by-account">view_task_by_account</a></li>
  	
    </ul>
    
    <li><a name="pgagent.schema">pgagent</a></li><ul>
    	<li><a href="#pgagent.table.pga-exception">pga_exception</a></li><li><a href="#pgagent.table.pga-job">pga_job</a></li><li><a href="#pgagent.table.pga-jobagent">pga_jobagent</a></li><li><a href="#pgagent.table.pga-jobclass">pga_jobclass</a></li><li><a href="#pgagent.table.pga-joblog">pga_joblog</a></li><li><a href="#pgagent.table.pga-jobstep">pga_jobstep</a></li><li><a href="#pgagent.table.pga-jobsteplog">pga_jobsteplog</a></li><li><a href="#pgagent.table.pga-schedule">pga_schedule</a></li>
  	<li><a href="#pgagent.function.pga-exception-trigger">pga_exception_trigger()</a></li><li><a href="#pgagent.function.pga-is-leap-year-smallint">pga_is_leap_year(smallint)</a></li><li><a href="#pgagent.function.pga-job-trigger">pga_job_trigger()</a></li><li><a href="#pgagent.function.pga-next-schedule-integer-timestamp-with-time-zone-timestamp-with-time-zone-booleanARRAY-booleanARRAY-booleanARRAY-booleanARRAY-booleanARRAY">pga_next_schedule(integer, timestamp with time zone, timestamp with time zone, boolean[], boolean[], boolean[], boolean[], boolean[])</a></li><li><a href="#pgagent.function.pga-schedule-trigger">pga_schedule_trigger()</a></li><li><a href="#pgagent.function.pgagent-schema-version">pgagent_schema_version()</a></li>
    </ul>
    
    <li><a name="public.schema">public</a></li><ul>
    	<li><a href="#public.table.account-contacts">account_contacts</a></li><li><a href="#public.table.account-states">account_states</a></li><li><a href="#public.table.account-types">account_types</a></li><li><a href="#public.table.account-users">account_users</a></li><li><a href="#public.table.accounts">accounts</a></li><li><a href="#public.table.accounts">accounts__</a></li><li><a href="#public.table.admins">admins</a></li><li><a href="#public.table.attachments">attachments</a></li><li><a href="#public.table.attention-group">attention_group</a></li><li><a href="#public.table.configuration-server">configuration_server</a></li><li><a href="#public.table.divisions">divisions</a></li><li><a href="#public.table.emails">emails</a></li><li><a href="#public.table.equipments">equipments</a></li><li><a href="#public.table.event-comments">event_comments</a></li><li><a href="#public.table.event-comments-2016">event_comments_2016</a></li><li><a href="#public.table.event-comments-2017">event_comments_2017</a></li><li><a href="#public.table.event-comments-attachments">event_comments_attachments</a></li><li><a href="#public.table.event-reception-modes">event_reception_modes</a></li><li><a href="#public.table.event-statustypes">event_statustypes</a></li><li><a href="#public.table.events">events</a></li><li><a href="#public.table.events-2015">events_2015</a></li><li><a href="#public.table.events-2016">events_2016</a></li><li><a href="#public.table.events-2017">events_2017</a></li><li><a href="#public.table.events-dbsizes">events_dbsizes</a></li><li><a href="#public.table.events-dbsizes-2015">events_dbsizes_2015</a></li><li><a href="#public.table.events-dbsizes-2016">events_dbsizes_2016</a></li><li><a href="#public.table.events-device-uptime">events_device_uptime</a></li><li><a href="#public.table.events-device-uptime-2015">events_device_uptime_2015</a></li><li><a href="#public.table.events-device-uptime-2016">events_device_uptime_2016</a></li><li><a href="#public.table.events-device-uptime-2017">events_device_uptime_2017</a></li><li><a href="#public.table.events-diskspace">events_diskspace</a></li><li><a href="#public.table.events-diskspace-2015">events_diskspace_2015</a></li><li><a href="#public.table.events-diskspace-2016">events_diskspace_2016</a></li><li><a href="#public.table.events-diskspace-2017">events_diskspace_2017</a></li><li><a href="#public.table.events-jobs">events_jobs</a></li><li><a href="#public.table.events-jobs-1990">events_jobs_1990</a></li><li><a href="#public.table.events-jobs-2014">events_jobs_2014</a></li><li><a href="#public.table.events-jobs-2015">events_jobs_2015</a></li><li><a href="#public.table.events-jobs-2016">events_jobs_2016</a></li><li><a href="#public.table.events-jobs-2017">events_jobs_2017</a></li><li><a href="#public.table.events-last-idevent">events_last_idevent</a></li><li><a href="#public.table.events-login">events_login</a></li><li><a href="#public.table.events-login-2017">events_login_2017</a></li><li><a href="#public.table.events-networkdevice-ping">events_networkdevice_ping</a></li><li><a href="#public.table.events-networkdevice-ping-2016">events_networkdevice_ping_2016</a></li><li><a href="#public.table.events-networkdevice-ping-2017">events_networkdevice_ping_2017</a></li><li><a href="#public.table.eventtypes">eventtypes</a></li><li><a href="#public.table.eventtypes-groups">eventtypes_groups</a></li><li><a href="#public.table.farma-lista-precios-farmacias">farma_lista_precios_farmacias</a></li><li><a href="#public.table.file-links">file_links</a></li><li><a href="#public.table.groups">groups</a></li><li><a href="#public.table.identification-types">identification_types</a></li><li><a href="#public.table.network-devices">network_devices</a></li><li><a href="#public.table.notification-area">notification_area</a></li><li><a href="#public.table.phone-providers">phone_providers</a></li><li><a href="#public.table.phone-types">phone_types</a></li><li><a href="#public.table.phones">phones</a></li><li><a href="#public.table.providers">providers</a></li><li><a href="#public.table.table-modification-log">table_modification_log</a></li><li><a href="#public.table.udc-columns">udc_columns</a></li><li><a href="#public.table.udc-tables-columns">udc_tables_columns</a></li><li><a href="#public.table.udc-tables-views">udc_tables_views</a></li><li><a href="#public.view.view-account-contacts">view_account_contacts</a></li><li><a href="#public.view.view-account-network-devices">view_account_network_devices</a></li><li><a href="#public.view.view-account-users">view_account_users</a></li><li><a href="#public.view.view-accounts">view_accounts</a></li><li><a href="#public.view.view-accounts-contacts-admins">view_accounts_contacts_admins</a></li><li><a href="#public.view.view-accounts-oams-assigned">view_accounts_oams_assigned</a></li><li><a href="#public.view.view-accounts-users-pwd">view_accounts_users_pwd</a></li><li><a href="#public.view.view-admins">view_admins</a></li><li><a href="#public.view.view-contact-groups-they-belong">view_contact_groups_they_belong</a></li><li><a href="#public.view.view-contacts">view_contacts</a></li><li><a href="#public.view.view-equipments">view_equipments</a></li><li><a href="#public.view.view-event-login-report">view_event_login_report</a></li><li><a href="#public.view.view-events-jobs">view_events_jobs</a></li><li><a href="#public.view.view-events-last-by-ideventtype">view_events_last_by_ideventtype</a></li><li><a href="#public.view.view-events-monitor">view_events_monitor</a></li><li><a href="#public.view.view-events-monitor-general">view_events_monitor_general</a></li><li><a href="#public.view.view-events-monitor-network-devices">view_events_monitor_network_devices</a></li><li><a href="#public.view.view-events-with-eventtypes-detail">view_events_with_eventtypes_detail</a></li><li><a href="#public.view.view-eventtypes-to-client">view_eventtypes_to_client</a></li><li><a href="#public.view.view-farma-lista-precios">view_farma_lista_precios</a></li><li><a href="#public.view.view-last-modif-tables">view_last_modif_tables</a></li><li><a href="#public.view.view-table-schema">view_table_schema</a></li><li><a href="#public.view.view-udc-tables-views">view_udc_tables_views</a></li><li><a href="#public.table.xmpps">xmpps</a></li>
  	<li><a href="#public.function.accounts-insert-update">accounts_insert_update()</a></li><li><a href="#public.function.admins-insert-update">admins_insert_update()</a></li><li><a href="#public.function.admins-update-admin-pwd">admins_update_admin_pwd()</a></li><li><a href="#public.function.contacts-insert-update">contacts_insert_update()</a></li><li><a href="#public.function.contacts-update-admin-pwd">contacts_update_admin_pwd()</a></li><li><a href="#public.function.equipment-insert-update">equipment_insert_update()</a></li><li><a href="#public.function.event-comments-after-insert">event_comments_after_insert()</a></li><li><a href="#public.function.event-comments-before-insert-redirect-partition">event_comments_before_insert_redirect_partition()</a></li><li><a href="#public.function.events-assignment-check-before-insert">events_assignment_check_before_insert()</a></li><li><a href="#public.function.events-check-before-insert">events_check_before_insert()</a></li><li><a href="#public.function.events-on-insert">events_on_insert()</a></li><li><a href="#public.function.eventtypes-before-insert-update">eventtypes_before_insert_update()</a></li><li><a href="#public.function.fun-account-auto-account-idivision-text-iaccount-bigint">fun_account_auto_account(idivision text, iaccount bigint)</a></li><li><a href="#public.function.fun-check-sessionid-idadmin-iip-text-isessionid-text-iusername-text">fun_check_sessionid_idadmin(iip text, isessionid text, iusername text)</a></li><li><a href="#public.function.fun-create-table-partition-idatetimeevent-text-inherts-table-timestamp-with-time-zone">fun_create_table_partition(idatetimeevent text, inherts_table timestamp with time zone)</a></li><li><a href="#public.function.fun-create-table-partition-events-data-idatetimeevent-text-inherts-table-timestamp-with-time-zone">fun_create_table_partition_events_data(idatetimeevent text, inherts_table timestamp with time zone)</a></li><li><a href="#public.function.fun-edit-event-comments-fun-msg-integer-fun-return-integer-iidevent-timestamp-without-time-zone-istatus-integer-icomment-event-text-iseconds-integer-istart-bigint">fun_edit_event_comments(fun_msg integer, fun_return integer, iidevent timestamp without time zone, istatus integer, icomment_event text, iseconds integer, istart bigint)</a></li><li><a href="#public.function.fun-event-assignment-admin-assigned-bigint-iideventtype-bigint-iidaccount-bigint">fun_event_assignment(admin_assigned bigint, iideventtype bigint, iidaccount bigint)</a></li><li><a href="#public.function.fun-event-comment-insert-selected-fun-msg-integerARRAY-fun-return-integer-iidadmin-text-istatus-integer-icomment-integer">fun_event_comment_insert_selected(fun_msg integer[], fun_return integer, iidadmin text, istatus integer, icomment integer)</a></li><li><a href="#public.function.fun-event-comments-table-create-partition-idatetimeevent-timestamp-without-time-zone">fun_event_comments_table_create_partition(idatetimeevent timestamp without time zone)</a></li><li><a href="#public.function.fun-event-get-detail-as-json-iidevent-bigint">fun_event_get_detail_as_json(iidevent bigint)</a></li><li><a href="#public.function.fun-event-insert-fun-msg-timestamp-without-time-zone-fun-return-integer-iidadmin-integer-idescription-text-iideventtype-integer-ipriority-integer-izu-integer-icode-text-iidaccount-integer">fun_event_insert(fun_msg timestamp without time zone, fun_return integer, iidadmin integer, idescription text, iideventtype integer, ipriority integer, izu integer, icode text, iidaccount integer)</a></li><li><a href="#public.function.fun-event-insert-by-ideventtype-fun-msg-timestamp-without-time-zone-fun-return-integer-iidadmin-integer-idescription-integer-iideventtype-integer-ipriority-text-izu-integer">fun_event_insert_by_ideventtype(fun_msg timestamp without time zone, fun_return integer, iidadmin integer, idescription integer, iideventtype integer, ipriority text, izu integer)</a></li><li><a href="#public.function.fun-event-insert-by-ideventtype-account-fun-msg-timestamp-without-time-zone-fun-return-text-iidadmin-integer-idescription-integer-iideventtype-integer-ipriority-text-izu-integer">fun_event_insert_by_ideventtype_account(fun_msg timestamp without time zone, fun_return text, iidadmin integer, idescription integer, iideventtype integer, ipriority text, izu integer)</a></li><li><a href="#public.function.fun-event-insert-diskspace-ofun-msg-bigint-ofun-return-text-isize-real">fun_event_insert_diskspace(ofun_msg bigint, ofun_return text, isize real)</a></li><li><a href="#public.function.fun-event-status-get-label-istatus-integer">fun_event_status_get_label(istatus integer)</a></li><li><a href="#public.function.fun-event-time-last-eventtype-account-not-closed-izu-integer-iideventtype-timestamp-without-time-zone-idateevent-integer-iidaccount-bigint">fun_event_time_last_eventtype_account_not_closed(izu integer, iideventtype timestamp without time zone, idateevent integer, iidaccount bigint)</a></li><li><a href="#public.function.fun-expired-session">fun_expired_session()</a></li><li><a href="#public.function.fun-farma-event-insert-jobs-ofun-msg-bigint-ofun-return-timestamp-with-time-zone-ijob-next-run-bigint-ijob-run-duration-integer-ijob-date-create-integer-ijob-description-bigint-ijob-enabled-text-ijob-name-boolean-izu-text-job-current-execution-status-timestamp-with-time-zone-last-run-outcome-integer-iidaccount-timestamp-with-time-zone">fun_farma_event_insert_jobs(ofun_msg bigint, ofun_return timestamp with time zone, ijob_next_run bigint, ijob_run_duration integer, ijob_date_create integer, ijob_description bigint, ijob_enabled text, ijob_name boolean, izu text, job_current_execution_status timestamp with time zone, last_run_outcome integer, iidaccount timestamp with time zone)</a></li><li><a href="#public.function.fun-farma-event-insert-lista-precios-icantidad-productos-text-ilista-activa-text-ilista-principal-text-ioficina-integer">fun_farma_event_insert_lista_precios(icantidad_productos text, ilista_activa text, ilista_principal text, ioficina integer)</a></li><li><a href="#public.function.fun-farma-event-insert-sqlserver-uptime-iuptime-bigint-iidequipment-integer">fun_farma_event_insert_sqlserver_uptime(iuptime bigint, iidequipment integer)</a></li><li><a href="#public.function.fun-farma-event-insert-statusdb-account-ofun-msg-bigint-ofun-return-bigint-idblogsize-text-idbfilesize-bigint-istate-des-integer-istatus-text-izu-real-inamedb-real">fun_farma_event_insert_statusdb_account(ofun_msg bigint, ofun_return bigint, idblogsize text, idbfilesize bigint, istate_des integer, istatus text, izu real, inamedb real)</a></li><li><a href="#public.function.fun-farma-import-accounts-fun-msg-text-fun-return-text-cedula-sup-operativo-text-iemail-text-telf2-text-telf1-timestamp-without-time-zone-idb-pwd-timestamp-without-time-zone-idb-user-text-iaccount-text-iend-date-text-istart-date-text-iaddress-ref-text-iaddress-text-ilast-name-text">fun_farma_import_accounts(fun_msg text, fun_return text, cedula_sup_operativo text, iemail text, telf2 text, telf1 timestamp without time zone, idb_pwd timestamp without time zone, idb_user text, iaccount text, iend_date text, istart_date text, iaddress_ref text, iaddress text, ilast_name text)</a></li><li><a href="#public.function.fun-farma-import-accounts-insertemail-iemail-bigint-iidcontact-text">fun_farma_import_accounts_insertemail(iemail bigint, iidcontact text)</a></li><li><a href="#public.function.fun-farma-import-accounts-insertphone-inumber-bigint-iidcontact-text">fun_farma_import_accounts_insertphone(inumber bigint, iidcontact text)</a></li><li><a href="#public.function.fun-farma-import-asig-personal-farma-fun-msg-text-fun-return-text-oficina-text-estado-text-perfil-referencia-boolean-pwd-text">fun_farma_import_asig_personal_farma(fun_msg text, fun_return text, oficina text, estado text, perfil_referencia boolean, pwd text)</a></li><li><a href="#public.function.fun-farma-import-nomina-fun-msg-text-fun-return-text-iemail-timestamp-without-time-zone-itelf2-text-itelf1-integer-iaddress-ref-text-iaddress-text-inote-text-igender-text-iidentification-text-ibirthday-text">fun_farma_import_nomina(fun_msg text, fun_return text, iemail timestamp without time zone, itelf2 text, itelf1 integer, iaddress_ref text, iaddress text, inote text, igender text, iidentification text, ibirthday text)</a></li><li><a href="#public.function.fun-farma-import-nomina-email-fun-msg-integer-fun-return-text">fun_farma_import_nomina_email(fun_msg integer, fun_return text)</a></li><li><a href="#public.function.fun-farma-import-nomina-telf-fun-msg-integer-fun-return-text">fun_farma_import_nomina_telf(fun_msg integer, fun_return text)</a></li><li><a href="#public.function.fun-farma-import-tec-fun-msg-text-fun-return-text-itype-text-iidentification-text">fun_farma_import_tec(fun_msg text, fun_return text, itype text, iidentification text)</a></li><li><a href="#public.function.fun-farma-import-tec-asig-fun-msg-text-fun-return-text">fun_farma_import_tec_asig(fun_msg text, fun_return text)</a></li><li><a href="#public.function.fun-farma-update-lista-precios-farmacias-fun-msg-integer-fun-return-text-iprovincia-text-i159productos-integer-i159activa-text-i159principal-text-iproductos-integer-iactiva-text">fun_farma_update_lista_precios_farmacias(fun_msg integer, fun_return text, iprovincia text, i159productos integer, i159activa text, i159principal text, iproductos integer, iactiva text)</a></li><li><a href="#public.function.fun-farma-update-lista-precios-srv159-fun-msg-text-fun-return-text-iproductos-text-iactiva-integer">fun_farma_update_lista_precios_srv159(fun_msg text, fun_return text, iproductos text, iactiva integer)</a></li><li><a href="#public.function.fun-firts-load">fun_firts_load()</a></li><li><a href="#public.function.fun-general-login-msg-text-idcontact-text-fullname-text-username-inet-login-boolean">fun_general_login(msg text, idcontact text, fullname text, username inet, login boolean)</a></li><li><a href="#public.function.fun-get-idaccount-by-account-iiddivision-text-iaccount-bigint">fun_get_idaccount_by_account(iiddivision text, iaccount bigint)</a></li><li><a href="#public.function.fun-heartbeat-isessionid-bigint-iidadmin-text">fun_heartbeat(isessionid bigint, iidadmin text)</a></li><li><a href="#public.function.fun-last-modified-table-remove-olds">fun_last_modified_table_remove_olds()</a></li><li><a href="#public.function.fun-login-system-iuseragent-text-iip-text-ipwd-inet-iuser-text">fun_login_system(iuseragent text, iip text, ipwd inet, iuser text)</a></li><li><a href="#public.function.fun-logout-system-iip-boolean-ifullname-bigint-iid-text-iisadmin-inet">fun_logout_system(iip boolean, ifullname bigint, iid text, iisadmin inet)</a></li><li><a href="#public.function.fun-notification-app-send-iidadmin-integer-inbody-integer-intitle-boolean-insnd-text-inimg-text-incloseable-text-intimeout-text-ipriority-bigint">fun_notification_app_send(iidadmin integer, inbody integer, intitle boolean, insnd text, inimg text, incloseable text, intimeout text, ipriority bigint)</a></li><li><a href="#public.function.fun-oams-mapper">fun_oams_mapper()</a></li><li><a href="#public.function.fun-pnatural-import-accounts-fun-msg-text-fun-return-text-cedula-sup-operativo-text-iemail-text-telf2-text-telf1-timestamp-without-time-zone-idb-pwd-timestamp-without-time-zone-idb-user-text-iaccount-text-iend-date-text-istart-date-text-iaddress-ref-text-iaddress-text-ilast-name-text">fun_pnatural_import_accounts(fun_msg text, fun_return text, cedula_sup_operativo text, iemail text, telf2 text, telf1 timestamp without time zone, idb_pwd timestamp without time zone, idb_user text, iaccount text, iend_date text, istart_date text, iaddress_ref text, iaddress text, ilast_name text)</a></li><li><a href="#public.function.fun-pnatural-import-asig-personal-pnatural-fun-msg-text-fun-return-text-oficina-text-estado-text-perfil-referencia-boolean-pwd-text">fun_pnatural_import_asig_personal_pnatural(fun_msg text, fun_return text, oficina text, estado text, perfil_referencia boolean, pwd text)</a></li><li><a href="#public.function.fun-quick-create-account-fun-msg-integer-fun-return-integer-iaddress-ref-text-iaddress-text-iididtype-text-iidentification-text-ilast-name-integer-ifirst-name-text-iaccount-text">fun_quick_create_account(fun_msg integer, fun_return integer, iaddress_ref text, iaddress text, iididtype text, iidentification text, ilast_name integer, ifirst_name text, iaccount text)</a></li><li><a href="#public.function.fun-receiver-raid-reports-fun-msg-text-fun-return-timestamp-without-time-zone-iline-file-text-idescription-text-iproducttype-text-ihostname-integer">fun_receiver_raid_reports(fun_msg text, fun_return timestamp without time zone, iline_file text, idescription text, iproducttype text, ihostname integer)</a></li><li><a href="#public.function.fun-remove-notifications-old">fun_remove_notifications_old()</a></li><li><a href="#public.function.fun-set-expired-events">fun_set_expired_events()</a></li><li><a href="#public.function.fun-sufix-name-by-date-idate-timestamp-with-time-zone">fun_sufix_name_by_date(idate timestamp with time zone)</a></li><li><a href="#public.function.fun-udc-get-structure-table-view-table-view-fields-text-table-view-name-textARRAY">fun_udc_get_structure_table_view(table_view_fields text, table_view_name text[])</a></li><li><a href="#public.function.fun-udc-get-structure-table-view-all-table-view-fields-text-table-view-name-textARRAY">fun_udc_get_structure_table_view_all(table_view_fields text, table_view_name text[])</a></li><li><a href="#public.function.fun-udc-mapper-tables-views">fun_udc_mapper_tables_views()</a></li><li><a href="#public.function.fun-view-contact-groups-they-belong-note-bigint">fun_view_contact_groups_they_belong(note bigint)</a></li><li><a href="#public.function.fun-view-farma-lista-precios">fun_view_farma_lista_precios()</a></li><li><a href="#public.function.notifications-before-insert">notifications_before_insert()</a></li><li><a href="#public.function.on-changed-table">on_changed_table()</a></li><li><a href="#public.function.on-update-row-update-ts">on_update_row_update_ts()</a></li>
    </ul>
    
    <li><a name="scheduled-tasks.schema">scheduled_tasks</a></li><ul>
    	<li><a href="#scheduled-tasks.table.task-list">task_list</a></li>
  	
    </ul>
    
    <li><a name="secondary.schema">secondary</a></li><ul>
    	<li><a href="#secondary.table.eta-movinventarios">eta_movinventarios</a></li>
  	
    </ul>
    
</ul>

    <!-- Schema Creation -->
    <!-- contactscontacts -->

		
		<hr>
		<h1>Schema contacts</h1>
		

		
		
        <hr>
		<h2>Table:
			
			<a href="#contacts.schema">contacts</a>.<a name="contacts.table.contacts">contacts</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>contacts.contacts Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idcontact</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				<br><br>Indica si el contacto esta habilitado o no.
Por ejemplo si el contacto debe usarse o no para otras areas de la aplicacion.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>first_name</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				<br><br>Nombre del contacto.
Este campo es oblogatorio y no puede ser nulo.

				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>last_name</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				<br><br>Apellido del contacto.
Este valor puede ser nulo aunque no se recomienda.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>birthday</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>identification</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				<br><br>Este campo es importante, obligatorio y unico entre todos los registros.
Es un identificador unico entre el resto de contactos.

				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.identification-types">public.identification_types.ididtype</a>
                  
                
                  
                
                </td>
            	<td>ididtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				<br><br>Tipo de identificacion (Ej.: Cedula, RUC, etc)
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>postal_code</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				<br><br>Codigo Postal
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>gender</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Genero:
0 - No establecido
1 - Hombre
2 - Mujer
3 - No aplica
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geox</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				<br><br>Geolocalizacion X
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geoy</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				<br><br>Geolocalizacion Y
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>address</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				<br><br>Direccion del contacto
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>address_ref</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				<br><br>Puntos referenciales para ubucacion del contacto
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>groups</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				<br><br>Id de los grupos a los que pertenece este abonado
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#public.table.admins">public.admins</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#contacts.schema">Schema contacts</a>
    </p>
	

	<!-- We've gone through the table structure, now lets take a look at user functions -->
	

<!-- eventsevents -->

		
		<hr>
		<h1>Schema events</h1>
		
			<p>Almacenado y procesado de eventos en este schema</p>
		

		
		
        <hr>
		<h2>Table:
			
			<a href="#events.schema">events</a>.<a name="events.table.comments">comments</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.comments Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>ideventcomment</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events.comments_ideventcomments_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>start</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>seconds</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>comment_event</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idstatustype</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idcontact</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#events.schema">events</a>.<a name="events.table.datas">datas</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.datas Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events.events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#events.table.statustypes">events.statustypes.idstatustype</a>
                  
                
                </td>
            	<td>idstatustype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                  
                  <a href="#public.table.accounts">public.accounts.idaccount</a>
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                  
                  <a href="#events.table.eventtypes">events.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>idcontact de quien ingresa el evento, esto es creado para funcionalidad de mesa de ayuda ya que no solo administradores podran ingresar eventos, sino tambien usuarios.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				

				
				DEFAULT 1
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				<br><br>Campo no debe ser editado manualmente, se actualiza segun el idstatustype, se crea para crear un indice que mejore el tiempo de busqueda de eventos abiertos.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>id del administrador que al momento tiene a cargo el evento
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>details</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>report_validator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se guarda vacio, unicamente es utilizado para validar el report_validator enviado desde una aplicacion externa o via web.
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       datas_idaccount_ideventtype_idx idaccount, ideventtype
    
       fki_evetn_statustype_id idstatustype
    
       fki_sfsdf ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#events.schema">events</a>.<a name="events.table.datas-000112">datas_000112</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.datas_000112 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events.events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>idcontact de quien ingresa el evento, esto es creado para funcionalidad de mesa de ayuda ya que no solo administradores podran ingresar eventos, sino tambien usuarios.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#events.table.reception-modes">events.reception_modes.idreceptionmode</a>
                  
                
                </td>
            	<td>idreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				DEFAULT 1
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				<br><br>Campo no debe ser editado manualmente, se actualiza segun el idstatustype, se crea para crear un indice que mejore el tiempo de busqueda de eventos abiertos.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>id del administrador que al momento tiene a cargo el evento
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>details</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>report_validator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table events.datas_000112 Inherits
        
            
           <a href="#events.table.datas">datas</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>events.datas_000112 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>datas_000112_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (- (1)::double precision)))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       datas_000112_idaccount_ideventtype_idx idaccount, ideventtype
    
       datas_000112_ideventtype_idx ideventtype
    
       datas_000112_idstatustype_idx idstatustype
    
       index_datas_000112_idaccideventt idaccount, ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#events.schema">events</a>.<a name="events.table.datas-199001">datas_199001</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.datas_199001 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events.events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>idcontact de quien ingresa el evento, esto es creado para funcionalidad de mesa de ayuda ya que no solo administradores podran ingresar eventos, sino tambien usuarios.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#events.table.reception-modes">events.reception_modes.idreceptionmode</a>
                  
                
                </td>
            	<td>idreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				DEFAULT 1
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				<br><br>Campo no debe ser editado manualmente, se actualiza segun el idstatustype, se crea para crear un indice que mejore el tiempo de busqueda de eventos abiertos.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>id del administrador que al momento tiene a cargo el evento
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>details</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>report_validator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table events.datas_199001 Inherits
        
            
           <a href="#events.table.datas">datas</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>events.datas_199001 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>datas_199001_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (1990)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       datas_199001_idaccount_ideventtype_idx idaccount, ideventtype
    
       index_datas_199001_idaccideventt idaccount, ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#events.schema">events</a>.<a name="events.table.datas-201504">datas_201504</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.datas_201504 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events.events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>idcontact de quien ingresa el evento, esto es creado para funcionalidad de mesa de ayuda ya que no solo administradores podran ingresar eventos, sino tambien usuarios.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#events.table.reception-modes">events.reception_modes.idreceptionmode</a>
                  
                
                </td>
            	<td>idreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				DEFAULT 1
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				<br><br>Campo no debe ser editado manualmente, se actualiza segun el idstatustype, se crea para crear un indice que mejore el tiempo de busqueda de eventos abiertos.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>id del administrador que al momento tiene a cargo el evento
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>details</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>report_validator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table events.datas_201504 Inherits
        
            
           <a href="#events.table.datas">datas</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>events.datas_201504 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>datas_201504_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2015)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       datas_201504_idaccount_ideventtype_idx idaccount, ideventtype
    
       index_datas_201504_idaccideventt idaccount, ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#events.schema">events</a>.<a name="events.table.datas-201506">datas_201506</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.datas_201506 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events.events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>idcontact de quien ingresa el evento, esto es creado para funcionalidad de mesa de ayuda ya que no solo administradores podran ingresar eventos, sino tambien usuarios.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#events.table.reception-modes">events.reception_modes.idreceptionmode</a>
                  
                
                </td>
            	<td>idreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				DEFAULT 1
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				<br><br>Campo no debe ser editado manualmente, se actualiza segun el idstatustype, se crea para crear un indice que mejore el tiempo de busqueda de eventos abiertos.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>id del administrador que al momento tiene a cargo el evento
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>details</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>report_validator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table events.datas_201506 Inherits
        
            
           <a href="#events.table.datas">datas</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>events.datas_201506 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>datas_201506_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2015)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       datas_201506_idaccount_ideventtype_idx idaccount, ideventtype
    
       index_datas_201506_idaccideventt idaccount, ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#events.schema">events</a>.<a name="events.table.datas-201508">datas_201508</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.datas_201508 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events.events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>idcontact de quien ingresa el evento, esto es creado para funcionalidad de mesa de ayuda ya que no solo administradores podran ingresar eventos, sino tambien usuarios.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#events.table.reception-modes">events.reception_modes.idreceptionmode</a>
                  
                
                </td>
            	<td>idreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				DEFAULT 1
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				<br><br>Campo no debe ser editado manualmente, se actualiza segun el idstatustype, se crea para crear un indice que mejore el tiempo de busqueda de eventos abiertos.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>id del administrador que al momento tiene a cargo el evento
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>details</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>report_validator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table events.datas_201508 Inherits
        
            
           <a href="#events.table.datas">datas</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>events.datas_201508 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>datas_201508_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2015)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       datas_201508_idaccount_ideventtype_idx idaccount, ideventtype
    
       index_datas_201508_idaccideventt idaccount, ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#events.schema">events</a>.<a name="events.table.datas-201509">datas_201509</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.datas_201509 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events.events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>idcontact de quien ingresa el evento, esto es creado para funcionalidad de mesa de ayuda ya que no solo administradores podran ingresar eventos, sino tambien usuarios.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#events.table.reception-modes">events.reception_modes.idreceptionmode</a>
                  
                
                </td>
            	<td>idreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				DEFAULT 1
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				<br><br>Campo no debe ser editado manualmente, se actualiza segun el idstatustype, se crea para crear un indice que mejore el tiempo de busqueda de eventos abiertos.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>id del administrador que al momento tiene a cargo el evento
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>details</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>report_validator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table events.datas_201509 Inherits
        
            
           <a href="#events.table.datas">datas</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>events.datas_201509 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>datas_201509_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2015)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       datas_201509_idaccount_ideventtype_idx idaccount, ideventtype
    
       index_datas_201509_idaccideventt idaccount, ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#events.schema">events</a>.<a name="events.table.datas-201510">datas_201510</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.datas_201510 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events.events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>idcontact de quien ingresa el evento, esto es creado para funcionalidad de mesa de ayuda ya que no solo administradores podran ingresar eventos, sino tambien usuarios.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#events.table.reception-modes">events.reception_modes.idreceptionmode</a>
                  
                
                </td>
            	<td>idreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				DEFAULT 1
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				<br><br>Campo no debe ser editado manualmente, se actualiza segun el idstatustype, se crea para crear un indice que mejore el tiempo de busqueda de eventos abiertos.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>id del administrador que al momento tiene a cargo el evento
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>details</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>report_validator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table events.datas_201510 Inherits
        
            
           <a href="#events.table.datas">datas</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>events.datas_201510 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>datas_201510_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2015)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       datas_201510_idaccount_ideventtype_idx idaccount, ideventtype
    
       index_datas_201510_idaccideventt idaccount, ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#events.schema">events</a>.<a name="events.table.datas-201511">datas_201511</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.datas_201511 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events.events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>idcontact de quien ingresa el evento, esto es creado para funcionalidad de mesa de ayuda ya que no solo administradores podran ingresar eventos, sino tambien usuarios.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#events.table.reception-modes">events.reception_modes.idreceptionmode</a>
                  
                
                </td>
            	<td>idreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				DEFAULT 1
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				<br><br>Campo no debe ser editado manualmente, se actualiza segun el idstatustype, se crea para crear un indice que mejore el tiempo de busqueda de eventos abiertos.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>id del administrador que al momento tiene a cargo el evento
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>details</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>report_validator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table events.datas_201511 Inherits
        
            
           <a href="#events.table.datas">datas</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>events.datas_201511 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>datas_201511_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2015)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       datas_201511_idaccount_ideventtype_idx idaccount, ideventtype
    
       index_datas_201511_idaccideventt idaccount, ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#events.schema">events</a>.<a name="events.table.datas-201610">datas_201610</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.datas_201610 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events.events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>idcontact de quien ingresa el evento, esto es creado para funcionalidad de mesa de ayuda ya que no solo administradores podran ingresar eventos, sino tambien usuarios.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#events.table.reception-modes">events.reception_modes.idreceptionmode</a>
                  
                
                </td>
            	<td>idreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				DEFAULT 1
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				<br><br>Campo no debe ser editado manualmente, se actualiza segun el idstatustype, se crea para crear un indice que mejore el tiempo de busqueda de eventos abiertos.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>id del administrador que al momento tiene a cargo el evento
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>details</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>report_validator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table events.datas_201610 Inherits
        
            
           <a href="#events.table.datas">datas</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>events.datas_201610 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>datas_201610_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2016)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       datas_201610_idaccount_ideventtype_idx idaccount, ideventtype
    
       index_datas_201610_idaccideventt idaccount, ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#events.schema">events</a>.<a name="events.table.datas-201701">datas_201701</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.datas_201701 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events.events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>idcontact de quien ingresa el evento, esto es creado para funcionalidad de mesa de ayuda ya que no solo administradores podran ingresar eventos, sino tambien usuarios.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#events.table.reception-modes">events.reception_modes.idreceptionmode</a>
                  
                
                </td>
            	<td>idreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				DEFAULT 1
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				<br><br>Campo no debe ser editado manualmente, se actualiza segun el idstatustype, se crea para crear un indice que mejore el tiempo de busqueda de eventos abiertos.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>id del administrador que al momento tiene a cargo el evento
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>details</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>report_validator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table events.datas_201701 Inherits
        
            
           <a href="#events.table.datas">datas</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>events.datas_201701 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>datas_201701_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2017)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       datas_201701_idaccount_ideventtype_idx idaccount, ideventtype
    
       index_datas_201701_idaccideventt idaccount, ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#events.schema">events</a>.<a name="events.table.datas-201704">datas_201704</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.datas_201704 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events.events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>idcontact de quien ingresa el evento, esto es creado para funcionalidad de mesa de ayuda ya que no solo administradores podran ingresar eventos, sino tambien usuarios.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#events.table.reception-modes">events.reception_modes.idreceptionmode</a>
                  
                
                </td>
            	<td>idreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				DEFAULT 1
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				<br><br>Campo no debe ser editado manualmente, se actualiza segun el idstatustype, se crea para crear un indice que mejore el tiempo de busqueda de eventos abiertos.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>id del administrador que al momento tiene a cargo el evento
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>details</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>report_validator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table events.datas_201704 Inherits
        
            
           <a href="#events.table.datas">datas</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>events.datas_201704 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>datas_201704_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2017)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       datas_201704_idaccount_ideventtype_idx idaccount, ideventtype
    
       datas_201704_ideventtype_idx ideventtype
    
       datas_201704_idstatustype_idx idstatustype
    
       index_datas_201704_idaccideventt idaccount, ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#events.schema">events</a>.<a name="events.table.datas-201705">datas_201705</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.datas_201705 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events.events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>idcontact de quien ingresa el evento, esto es creado para funcionalidad de mesa de ayuda ya que no solo administradores podran ingresar eventos, sino tambien usuarios.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#events.table.reception-modes">events.reception_modes.idreceptionmode</a>
                  
                
                </td>
            	<td>idreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				DEFAULT 1
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				<br><br>Campo no debe ser editado manualmente, se actualiza segun el idstatustype, se crea para crear un indice que mejore el tiempo de busqueda de eventos abiertos.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>id del administrador que al momento tiene a cargo el evento
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>details</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>report_validator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se guarda vacio, unicamente es utilizado para validar el report_validator enviado desde una aplicacion externa o via web.
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table events.datas_201705 Inherits
        
            
           <a href="#events.table.datas">datas</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>events.datas_201705 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>datas_201705_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2017)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       datas_201705_idaccount_ideventtype_idx idaccount, ideventtype
    
       datas_201705_ideventtype_idx ideventtype
    
       datas_201705_idstatustype_idx idstatustype
    
       index_datas_201705_idaccideventt idaccount, ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#events.schema">events</a>.<a name="events.table.eventtypes">eventtypes</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.eventtypes Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events.eventtypes_ideventtype_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>treatment</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>manual</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>date_editable</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>notify_timeout</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>notify_closable</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>notify_img</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>notify_snd</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>label</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>code</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>notify_all_users</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>expiration</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>auto_close_on_event_defined</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enable_auto_close_on_event_defined</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventtype_group</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>eventtype_attention_group</td>
            	<td>bigint[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#events.table.datas">events.datas</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#events.schema">events</a>.<a name="events.table.reception-modes">reception_modes</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.reception_modes Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events.reception_modes_idreceptionmode_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>mode</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>label_mode</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#events.table.datas-000112">events.datas_000112</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-199001">events.datas_199001</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201504">events.datas_201504</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201506">events.datas_201506</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201508">events.datas_201508</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201509">events.datas_201509</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201510">events.datas_201510</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201511">events.datas_201511</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201610">events.datas_201610</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201701">events.datas_201701</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201704">events.datas_201704</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201705">events.datas_201705</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#events.schema">events</a>.<a name="events.table.statustypes">statustypes</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.statustypes Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idstatustype</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events.statustypes_ideventstatustype_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>status</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>label_status</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>internal</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#events.table.datas">events.datas</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#events.schema">events</a>.<a name="events.view.view-datas-details">view_datas_details</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.view_datas_details Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>identification</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>iddivision</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>account</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idaccountstate</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>account_state</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>status_type</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>label_status</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>label_eventtype</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>equipment</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>label_mode</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled_reception_mode</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>details</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled_equipment</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled_eventtype</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled_account</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT accounts.idaccount
,
    accounts.account_name
,
    accounts.identification
,
    accounts.iddivision
,
    accounts.account
,
    account_states.idaccountstate
,
    account_states.state AS account_state
,
    datas.idevent
,
    datas.dateevent
,
    datas.idstatustype
,
    statustypes.status AS status_type
,
    statustypes.label_status
,
    datas.priority
,
    datas.ideventtype
,
    eventtypes.label AS label_eventtype
,
    datas.description
,
    datas.zu
,
    datas.idequipment
,
    equipments.equipment
,
    datas.idreceptionmode
,
    reception_modes.label_mode
,
    reception_modes.enabled AS enabled_reception_mode
,
    datas.isopen
,
    datas.details
,
    datas.idadmin_assigned
,
    equipments.enabled AS enabled_equipment
,
    eventtypes.enabled AS enabled_eventtype
,
    accounts.enabled AS enabled_account
   
FROM accounts
,
    account_states
,
    events.datas
,
    events.statustypes
,
    events.eventtypes
,
    equipments
,
    events.reception_modes
  
WHERE (
     (accounts.idaccount = datas.idaccount)
   AND (account_states.idaccountstate = accounts.idaccountstate)
   AND (statustypes.idstatustype = datas.idstatustype)
   AND (eventtypes.ideventtype = datas.ideventtype)
   AND (equipments.idequipment = datas.idequipment)
   AND (reception_modes.idreceptionmode = datas.idreceptionmode)
);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#events.schema">events</a>.<a name="events.view.view-datas-details-isopen">view_datas_details_isopen</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.view_datas_details_isopen Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled_account</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>account_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>identification</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>iddivision</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccountstate</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account_state</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>label_status</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>label_eventtype</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>equipment</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>details</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT view_datas_details.idaccount
,
    view_datas_details.enabled_account
,
    view_datas_details.account_name
,
    view_datas_details.identification
,
    view_datas_details.iddivision
,
    view_datas_details.account
,
    view_datas_details.idaccountstate
,
    view_datas_details.account_state
,
    view_datas_details.idevent
,
    view_datas_details.dateevent
,
    view_datas_details.idstatustype
,
    view_datas_details.label_status
,
    view_datas_details.priority
,
    view_datas_details.ideventtype
,
    view_datas_details.label_eventtype
,
    view_datas_details.description
,
    view_datas_details.zu
,
    view_datas_details.idequipment
,
    view_datas_details.equipment
,
    view_datas_details.idreceptionmode
,
    view_datas_details.isopen
,
    view_datas_details.idadmin_assigned
,
    view_datas_details.details
   
FROM events.view_datas_details
  
WHERE (view_datas_details.isopen = true);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#events.schema">events</a>.<a name="events.view.view-eventtypes-to-client">view_eventtypes_to_client</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>events.view_eventtypes_to_client Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventtype</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>label</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT eventtypes.ideventtype
,
    eventtypes.label
   
FROM events.eventtypes
  
WHERE (eventtypes.manual = true);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#events.schema">Schema events</a>
    </p>
	

	<!-- We've gone through the table structure, now lets take a look at user functions -->
	
		<hr>
		<h2>Function:
			<a href="#events.schema">events</a>.<a name="events.function.check-before-insert">check_before_insert()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE 
  table_part TEXT DEFAULT &#39;1990&#39;; 
  et eventtypes%ROWTYPE; 
  --tbl TEXT DEFAULT &#39;events&#39;; 
  is_valid  BOOLEAN DEFAULT FALSE; 
  iaenabled BOOLEAN DEFAULT FALSE; 
  constraint_name_table TEXT DEFAULT &#39;_dateevent_check&#39;; 
  dateevent_year INTEGER DEFAULT 1990; 
  iuuidevent UUID; 
  lastidevent BIGINT;
  iiddivision BIGINT; 
BEGIN 

--table_part := fun_create_table_partition_events_data(tg_table_name, NEW.dateevent:: timestamp WITH TIME zone);
  table_part := events.fun_create_table_partition_datas(NEW.dateevent:: timestamp WITH TIME zone);
  

/*
constraint_name_table := table_part 
  ||&#39;_dateevent_check&#39;; 
  dateevent_year := Extract(year FROM NEW.dateevent); 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   information_schema.table_constraints 
           WHERE  constraint_type = &#39;CHECK&#39; 
           AND    table_name = table_part 
           AND    constraint_name = constraint_name_table ) THEN 
    EXECUTE &#39;ALTER TABLE &#39; 
    ||table_part::text 
    ||&#39;   ADD CONSTRAINT &#39; 
    ||constraint_name_table::text 
    ||&#39; CHECK (EXTRACT(YEAR FROM dateevent) = &#39; 
    ||dateevent_year::text 
    ||&#39;::double precision);&#39;; 
  END IF ; 
*/

  /* 
select * from information_schema.table_constraints where constraint_type = &#39;CHECK&#39; 
*/ 



/*
CREATE TRIGGER on_before_update_ideventstatustype
  BEFORE UPDATE OF isopen
  ON events
  FOR EACH ROW
  EXECUTE PROCEDURE events_update_ideventstatustype();
*/

/*
  IF NOT EXISTS 
    ( 
           SELECT trigger_name 
           FROM   information_schema.TRIGGERS 
           WHERE  event_object_table = table_part 
           AND    trigger_name = &#39;on_before_update_ideventstatustype&#39; ) THEN 
    ---------------------- 
    EXECUTE &#39;CREATE TRIGGER on_before_update_ideventstatustype   BEFORE UPDATE OF isopen   ON &#39; 
    ||table_part::text 
    ||&#39;   FOR EACH ROW   EXECUTE PROCEDURE events_update_ideventstatustype();&#39;; 
  END IF ; 
  */


-------------------------
  IF NOT EXISTS 
    ( 
           SELECT trigger_name 
           FROM   information_schema.TRIGGERS 
           WHERE  event_object_table = table_part 
           AND    trigger_name = &#39;on_insert_event&#39; ) THEN 
    ---------------------- 
    EXECUTE &#39;CREATE TRIGGER on_insert_event   AFTER INSERT   ON &#39; 
    ||table_part::text 
    ||&#39;   FOR EACH ROW   EXECUTE PROCEDURE events_on_insert();&#39;; 
  END IF ; 

  





  
  -- El unico dato para validar si el equipo o la cuenta son correctos es el idaccount o el idequipment
  CASE 
  WHEN NEW.idaccount IS NULL 
    AND 
    NEW.idequipment IS NULL THEN 
    RAISE notice &#39;1) El idaccount o el idequipment no pueden ser nulos&#39;; 
  WHEN NEW.idaccount IS NULL 
    AND 
    NEW.idequipment &gt; 0 THEN 
    SELECT coalesce( 
                      ( 
                      SELECT idaccount 
                      FROM   equipments 
                      WHERE  idequipment = NEW.idequipment), -1000) 
    INTO   NEW.idaccount; 
     
    IF NEW.idaccount &gt; 0 THEN 
      is_valid := TRUE; 
    ELSE 
      is_valid := FALSE; 
      NEW.idaccount := NULL; 
      -- Debemos insertar un evento que indique que se trata de insertar un evento de un idequipment sin asociar a un idaccount que no existe
      RAISE notice &#39;2) **** idequipment (%) no tiene idaccount asociada o es incorrecta&#39;, NEW.idaccount;
    END IF; 
  WHEN NEW.idaccount &gt;= 0 THEN 
    is_valid := TRUE; 
    --NEW.idequipment := 0; 
    RAISE notice &#39;3) ***** idaccount (%)&#39;, NEW.idaccount; 
  ELSE 
    RAISE notice &#39;3) ***** No pasa nada (%)&#39;, NEW.idaccount; 
    is_valid := FALSE; 
  END CASE; 
  RAISE notice &#39;4) Vamos a la validacion de ideventtype y relacionados&#39;; 
  IF is_valid THEN -- Obtenemos los datos del tipo de evento 
    SELECT * 
    INTO   et 
    FROM   eventtypes 
    WHERE  ideventtype = NEW.ideventtype; 
   
    -- Obtenemos los datos de la cuenta 
    SELECT enabled 
    INTO   iaenabled 
    FROM   accounts 
    WHERE  idaccount = NEW.idaccount; 
     
    CASE 
    WHEN NOT iaenabled THEN 
      NEW.idstatustype := 9; 
    WHEN et.expiration &lt;= 0 THEN 
      NEW.idstatustype := 2; 
    ELSE 
      RAISE notice &#39;events_before_insert ???? &#39;; 
    END CASE; 

/*
    ------------------------------------------------------------------------------------------------------- 
    -- Revisamos si el idcontact que ingresa el evento existe, si es null ponemos a 0 
    IF NOT EXISTS 
      ( 
             SELECT * 
             FROM   contacts 
             WHERE  idcontact = NEW.idcontact) THEN 
      NEW.idcontact := 0; 
    END IF;
    */
     


    -- Validamos ideventtype y relacionados 
    IF NEW.ideventtype IS NULL 
      OR 
      NEW.ideventtype &lt; 1 THEN 
      RAISE notice &#39;5) IF NEW.ideventtype IS NULL OR NEW.ideventtype &lt; 1&#39;; 
      NEW.ideventtype := 0; 
    END IF; 
    RAISE notice &#39;6) Hacemos un select del tipo de evento&#39;; 
    IF (NEW.description IS NULL 
      OR 
      Length(NEW.description) &lt; 1) 
      AND 
      et.label IS NOT NULL THEN 
      RAISE notice &#39;7) IF (NEW.description IS NULL OR LENGTH(NEW.description) &lt; 1) AND et.label IS NOT NULL&#39;;
      NEW.description := et.label; 
    END IF; 
    IF (NEW.priority IS NULL 
      OR 
      NEW.priority &lt; 1) 
      AND 
      et.priority IS NOT NULL THEN 
      RAISE notice &#39;8) IF (NEW.priority IS NULL OR NEW.priority &lt; 1) AND et.priority IS NOT NULL&#39;;
      NEW.priority := et.priority; 
    END IF; 
    RAISE notice &#39;9) Finaliza las verificaciones, ahora va a insertar en la particion %&#39;, table_part;
    ------------------------------------------------------------ 
    -- Este bloque es especifico para cada tabla 
    CASE 
      -------------------------------------------- 
      -- hacemos el check especifico para la tabla events_diskspace 
    WHEN tg_table_name = &#39;events&#39; THEN -- Creamos el uuidevent en base a los campos 
      /*  NEW.uuidevent := Md5(Extract(epoch FROM NEW.dateevent)::text 
||NEW.idaccount::text 
||NEW.ideventtype::text 
||NEW.zu::text 
||NEW.idequipment::text)::uuid; */ 
      -------------------------------------------- 
    WHEN tg_table_name = &#39;events_dbsizes&#39; THEN -- Creamos el uuidevent en base a los campos 
      iuuidevent := md5( NEW.idaccount::text 
      ||NEW.ideventtype::text 
      ||NEW.zu::text 
      ||NEW.idequipment::text 
      ||NEW.db_name 
      ||NEW.db_type::text)::uuid; 
      SELECT idevent 
      INTO   lastidevent 
      FROM   events_last_idevent 
      WHERE  uuidevent = iuuidevent; 
       
      IF lastidevent &gt; 0 THEN 
        IF EXISTS 
          ( 
                 SELECT * 
                 FROM   events_dbsizes 
                 WHERE  idevent = lastidevent 
                 AND    db_size = NEW.db_size) THEN 
          RETURN NULL; 
        END IF; 
      END IF; 
      -------------------------------------------- 
    WHEN tg_table_name = &#39;events_device_uptime&#39; THEN -- Creamos el uuidevent en base a los campos 
      iuuidevent := Md5( NEW.idaccount::text 
      ||NEW.ideventtype::text 
      ||NEW.zu::text 
      ||NEW.idequipment::text)::uuid; 
      SELECT idevent 
      INTO   lastidevent 
      FROM   events_last_idevent 
      WHERE  uuidevent = iuuidevent; 
       
      IF lastidevent &gt; 0 THEN 
        IF EXISTS 
          ( 
                 SELECT * 
                 FROM   events_device_uptime 
                 WHERE  idevent = lastidevent 
                 AND    uptime = NEW.uptime) THEN 
          RETURN NULL; 
        END IF; 
      END IF; 
      -------------------------------------------- 
    WHEN tg_table_name = &#39;events_diskspace&#39; THEN -- Creamos el uuidevent en base a los campos
      iuuidevent := Md5( NEW.idaccount::text 
      ||NEW.ideventtype::text 
      ||NEW.zu::text 
      ||NEW.idequipment::text 
      ||NEW.drive)::uuid; 
      SELECT idevent 
      INTO   lastidevent 
      FROM   events_last_idevent 
      WHERE  uuidevent = iuuidevent; 
       
      IF lastidevent &gt; 0 THEN 
        IF EXISTS 
          ( 
                 SELECT * 
                 FROM   events_diskspace 
                 WHERE  idevent = lastidevent 
                 AND    drive_size = NEW.drive_size 
                 AND    drive_free = NEW.drive_free) THEN 
          RETURN NULL; 
        END IF; 
      END IF; 
      -------------------------------------------- 
    WHEN tg_table_name = &#39;events_jobs&#39; THEN -- Creamos el uuidevent en base a los campos 
      iuuidevent := Md5( NEW.idaccount::text 
      ||NEW.ideventtype::text 
      ||NEW.zu::text 
      ||NEW.idequipment::text 
      ||NEW.job_name)::uuid; 
      SELECT idevent 
      INTO   lastidevent 
      FROM   events_last_idevent 
      WHERE  uuidevent = iuuidevent; 
       
      IF lastidevent &gt; 0 THEN 
        IF EXISTS 
          ( 
                 SELECT * 
                 FROM   events_jobs 
                 WHERE  idevent = lastidevent 
                 AND    job_date_create = NEW.job_date_create 
                 AND    job_run_duration = NEW.job_run_duration 
                 AND    job_run_status = NEW.job_run_status 
                 AND    job_next_run = NEW.job_next_run) THEN 
          RETURN NULL; 
        END IF; 
      END IF; 
      -------------------------------------------- 
    WHEN tg_table_name = &#39;events_networkdevice_ping&#39; THEN -- Creamos el uuidevent en base a los campos 
      iuuidevent := Md5( NEW.idaccount::text 
      ||NEW.ideventtype::text 
      ||NEW.zu::text 
      ||NEW.idequipment::text)::uuid; 
      SELECT idevent 
      INTO   lastidevent 
      FROM   events_last_idevent 
      WHERE  uuidevent = iuuidevent; 
       
      IF lastidevent &gt; 0 THEN 
        IF EXISTS 
          ( 
                 SELECT * 
                 FROM   events_networkdevice_ping 
                 WHERE  idevent = lastidevent 
                 AND    roundtriptime = NEW.roundtriptime) THEN 
          RETURN NULL; 
        END IF; 
      END IF; 
    WHEN tg_table_name = &#39;events_raid&#39; THEN -- Creamos el uuidevent en base a los campos 
      /*NEW.uuidevent := Md5(Extract(epoch FROM NEW.dateevent)::text 
||NEW.idaccount::text 
||NEW.ideventtype::text 
||NEW.zu::text 
||NEW.idequipment::text)::uuid;   */ 
    ELSE 

    END CASE; 

SELECT isopen INTO NEW.isopen FROM events.statustypes WHERE idstatustype = NEW.idstatustype;


IF NEW.isopen = TRUE THEN
 --NEW.idadmin_assigned := fun_event_assignment(NEW.idaccount, NEW.ideventtype, NEW.idadmin_assigned);
 


END IF; 



    EXECUTE &#39;INSERT INTO events.&#39; 
    || quote_ident(table_part) 
    || &#39; SELECT ($1).*&#39; USING NEW; 
  END IF; 
  RETURN NULL; 
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#events.schema">events</a>.<a name="events.function.fun-create-table-partition-datas-idatetimeevent-timestamp-with-time-zone">fun_create_table_partition_datas(idatetimeevent timestamp with time zone)</a>
		</h2>
<h3>Returns: text</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

part TEXT DEFAULT &#39;19000101&#39;;
constraint_name_table TEXT DEFAULT &#39;_dateevent_check&#39;;
dateevent_year INTEGER DEFAULT 1990; 
inherts_table TEXT DEFAULT &#39;datas&#39;;

BEGIN

part := inherts_table||&#39;_&#39;||to_char(idatetimeevent, &#39;YYYYMM&#39;)::TEXT;

IF NOT EXISTS(SELECT table_name FROM information_schema.tables WHERE  table_schema = &#39;events&#39; AND table_name = part LIMIT 1) THEN

EXECUTE &#39;CREATE TABLE IF NOT EXISTS events.&#39;||part::TEXT||&#39;(
   LIKE events.datas INCLUDING DEFAULTS INCLUDING CONSTRAINTS INCLUDING INDEXES INCLUDING STORAGE INCLUDING COMMENTS
) 
INHERITS (events.datas)
WITH (
  OIDS = FALSE,
  toast.autovacuum_enabled=true
);&#39;;


-- Trigger: on_changed_table on events

-- DROP TRIGGER on_changed_table ON events;

EXECUTE &#39;CREATE TRIGGER on_changed_table
  AFTER INSERT OR UPDATE OR DELETE
  ON events.&#39;||part::TEXT||&#39;
  FOR EACH ROW
  EXECUTE PROCEDURE on_changed_table();&#39;;

-- Trigger: on_update_row on events

-- DROP TRIGGER on_update_row ON events;

EXECUTE &#39;CREATE TRIGGER on_update_row
  BEFORE UPDATE
  ON events.&#39;||part::TEXT||&#39;
  FOR EACH ROW
  EXECUTE PROCEDURE on_update_row_update_ts();&#39;;


  constraint_name_table := part ||&#39;_dateevent_check&#39;; 
  dateevent_year := Extract(year FROM idatetimeevent); 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   information_schema.table_constraints 
           WHERE  constraint_type = &#39;CHECK&#39; 
           AND    table_name = part 
           AND    constraint_schema = &#39;events&#39; 
           AND    constraint_name = constraint_name_table ) THEN 
    EXECUTE &#39;ALTER TABLE events.&#39; 
    ||part::text 
    ||&#39;   ADD CONSTRAINT &#39; 
    ||constraint_name_table::text 
    ||&#39; CHECK (EXTRACT(YEAR FROM dateevent) = &#39; 
    ||dateevent_year::text 
    ||&#39;::double precision);&#39;; 
  END IF ; 



-----------------------------------------------

-------------------------
  IF NOT EXISTS 
    ( 
           SELECT trigger_name 
           FROM   information_schema.TRIGGERS 
           WHERE  event_object_table = part 
           AND    event_object_schema = &#39;events&#39; 
           AND    trigger_name = &#39;on_insert_event&#39; ) THEN 
    ---------------------- 
    EXECUTE &#39;CREATE TRIGGER on_insert_event   AFTER INSERT   ON events.&#39; 
    ||part::text 
    ||&#39;   FOR EACH ROW   EXECUTE PROCEDURE events.on_insert();&#39;; 
  END IF ; 

  
  ---------------------- 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   information_schema.table_constraints 
           WHERE  constraint_type = &#39;FOREIGN KEY&#39; 
           AND    constraint_schema = &#39;events&#39;            
           AND    table_name = part 
           AND    constraint_name = &#39;fk_&#39; 
                         ||part 
                         ||&#39;_idadmin&#39;) THEN 
    EXECUTE &#39;ALTER TABLE events.&#39; 
    ||part 
    ||&#39;  ADD CONSTRAINT fk_&#39; 
    ||part 
    ||&#39;_idadmin FOREIGN KEY (idadmin) REFERENCES admins (idadmin)  ON UPDATE CASCADE ON DELETE CASCADE;&#39;;
  END IF; 
  
  ---------------------- 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   information_schema.table_constraints 
           WHERE  constraint_type = &#39;FOREIGN KEY&#39; 
           AND    constraint_schema = &#39;events&#39;                       
           AND    table_name = part 
           AND    constraint_name = &#39;fk_&#39; 
                         ||part 
                         ||&#39;_idreceptionmode&#39;) THEN 
    EXECUTE &#39;ALTER TABLE events.&#39; 
    ||part 
    ||&#39;  ADD CONSTRAINT fk_&#39; 
    ||part 
    ||&#39;_receptionmode FOREIGN KEY (idreceptionmode) REFERENCES events.reception_modes (idreceptionmode)  ON UPDATE CASCADE ON DELETE SET NULL;&#39;;
  END IF; 



  ---------------------- 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   information_schema.table_constraints 
           WHERE  constraint_type = &#39;FOREIGN KEY&#39;
	   AND    constraint_schema = &#39;events&#39;                       
           AND    table_name = part 
           AND    constraint_name = &#39;fk_&#39; 
                         ||part 
                         ||&#39;_ideventtype&#39;) THEN 
    EXECUTE &#39;ALTER TABLE events.&#39; 
    ||part 
    ||&#39;  ADD CONSTRAINT fk_&#39; 
    ||part 
    ||&#39;_ideventtype FOREIGN KEY (ideventtype) REFERENCES eventtypes (ideventtype)  ON UPDATE CASCADE ON DELETE SET NULL;&#39;;
  END IF; 

  ---------------------- 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   pg_indexes 
           WHERE  tablename = part 
           AND schemaname = &#39;events&#39;
           AND    indexname = &#39;index_&#39; 
                         ||part 
                         ||&#39;_isopen&#39;) THEN 
    EXECUTE &#39; CREATE UNIQUE INDEX index_&#39; 
    ||part 
    ||&#39;_isopen   ON events.&#39; 
    ||part 
    ||&#39; USING btree (dateevent, idstatustype, idaccount, ideventtype, zu, idequipment)
  WHERE isopen = true;&#39;; 
  END IF; 


  ---------------------- 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   pg_indexes 
           WHERE  tablename = part 
           AND schemaname = &#39;events&#39;           
           AND    indexname = &#39;index_&#39; 
                         ||part 
                         ||&#39;_idaccideventt&#39;) THEN 
    EXECUTE &#39; CREATE INDEX index_&#39; 
    ||part 
    ||&#39;_idaccideventt   ON events.&#39; 
    ||part 
    ||&#39; USING btree (idaccount, ideventtype)&#39;; 
  END IF; 




  
  

END IF;


RETURN part;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#events.schema">events</a>.<a name="events.function.fun-event-assignment-admin-assigned-bigint-iideventtype-bigint-iidaccount-bigint">fun_event_assignment(admin_assigned bigint, iideventtype bigint, iidaccount bigint)</a>
		</h2>
<h3>Returns: bigint</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

R BIGINT;
iiddivision BIGINT;
iisopen boolean DEFAULT FALSE;

BEGIN

IF EXISTS(SELECT * FROM admins WHERE idadmin = admin_assigned) THEN
R := admin_assigned;
ELSE   

-------------------- 
-- TODO - Debe haber un bloque que auto asigne el evento al administrador que sea conveniente si el status esta en 0
-- Buscamos que administradores tienen acceso a la division y al iaccount de la cuenta de este evento
SELECT iddivision INTO iiddivision FROM accounts WHERE idcontact = iidaccount;

SELECT idadmin 
INTO   R 
FROM   admins 
WHERE  iiddivision = ANY(divisions) 
AND    iidaccount = ANY (idaccounts) limit 1; 

END IF;


RETURN R;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#events.schema">events</a>.<a name="events.function.fun-set-expired-events">fun_set_expired_events()</a>
		</h2>
<h3>Returns: integer</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

fun_return INTEGER DEFAULT 0;
cursor1 CURSOR FOR select * from (select idevent, dateevent, ideventtype, (extract(epoch from age(now(), dateevent))/60) AS minutes_event, (select expiration from eventtypes where ideventtype = ev.ideventtype) as limit_expiration
 from events.datas ev where isopen = true ) as v WHERE minutes_event &gt;=  limit_expiration;
    cursor1_row RECORD;

BEGIN


    FOR cursor1_row IN cursor1 LOOP
            -- if cursor1_row.minutes_event &gt;=  cursor1_row.limit_expiration then
        --  PERFORM fun_edit_event_comments(0, 0, now()::timestamp without time zone, 1, &#39;Event expired. Automatically closed by the system.&#39;::text, 5, cursor1_row.idevent::bigint);   
INSERT INTO events.comments(
            idadmin, start, seconds, comment_event, idstatustype, idevent)
    VALUES (0, now(), 1, &#39;Event expired. Automatically closed by the system.&#39;, 5, cursor1_row.idevent::bigint);
fun_return := fun_return+1;
  --     end if;  
    END LOOP;

    

RETURN fun_return;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#events.schema">events</a>.<a name="events.function.import-events">import_events()</a>
		</h2>
<h3>Returns: integer</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

fun_return INTEGER DEFAULT 0;
cursor1 CURSOR FOR SELECT * FROM events ORDER BY idevent LIMIT 1000  OFFSET 10000;
    cursor1_row RECORD;

BEGIN


    FOR cursor1_row IN cursor1 LOOP


INSERT INTO events.datas(
            dateevent, idstatustype, idaccount, priority, ideventtype, description, zu, idequipment, 
            idreceptionmode, isopen, idadmin_assigned)
    VALUES (cursor1_row.dateevent, cursor1_row.ideventstatustype, cursor1_row.idaccount, cursor1_row.priority, cursor1_row.ideventtype, cursor1_row.description, cursor1_row.zu, 
       cursor1_row.idequipment, cursor1_row.ideventreceptionmode, 
       cursor1_row.isopen, cursor1_row.idadmin_assigned);
       
fun_return := fun_return+1;

    END LOOP;

    

RETURN fun_return;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#events.schema">events</a>.<a name="events.function.on-insert">on_insert()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE 
  ilabel TEXT DEFAULT &#39;&#39;; 
  ibody TEXT DEFAULT &#39;&#39;; 
  iafn TEXT DEFAULT &#39;&#39;; 
  ialn TEXT DEFAULT &#39;&#39;; 
  iaccount TEXT DEFAULT &#39;&#39;; 
  iaenabled BOOLEAN DEFAULT TRUE; 
  isessionid TEXT DEFAULT &#39;&#39;; 
  iiddivision     BIGINT; 
  idadminassigned BIGINT; 
  iuuidevent UUID; 
  et events.eventtypes%ROWTYPE; 
  array_ideventtypes_closed_for_this_ideventtype INTEGER[]; 
  idevent_for_close_on_restore                   INT DEFAULT 0; 
BEGIN 
  RAISE notice &#39;&gt;&gt;&gt; 1) Inicia Trigger events_on_insert&#39;; 
  RAISE notice &#39;&gt;&gt;&gt; 2)&#39;; 

  /*
  -- Obtenemos los datos del tipo de evento 
  SELECT * 
  INTO   et 
  FROM   events.eventtypes 
  WHERE  ideventtype = NEW.ideventtype; 
   
  RAISE notice &#39;&gt;&gt;&gt;&gt; 3)&#39;; 
  -- Obtenemos los datos de la cuenta 
  SELECT account, 
         first_name, 
         last_name, 
         enabled, 
         iddivision 
  INTO   iaccount, 
         iafn, 
         ialn, 
         iaenabled, 
         iiddivision 
  FROM   accounts 
  WHERE  idcontact = NEW.idaccount; 
   
  RAISE notice &#39;&gt;&gt;&gt; 4)&#39;; 
  IF et.notify_all_users THEN 
    isessionid := &#39;all&#39;; 
 -- ELSE 

   
  END IF; 
  RAISE notice &#39;&gt;&gt;&gt;&gt; 5)&#39;; 
  IF iaenabled 
    AND 
    NEW.priority &lt; 21 THEN 
    RAISE notice &#39;&gt;&gt;&gt; 6)&#39;; 
    -- Mostramos la notificacion solo si la prioridad es menor o = que 20 
    ilabel := ialn 
    ||&#39; &#39; 
    ||iafn 
    ||&#39; [&#39; 
    ||iaccount 
    ||&#39;]&lt;/br&gt;&#39; 
    ||et.label 
    ||&#39;&lt;/br&gt;&#39;; 
    INSERT INTO notification_area 
                ( 
                            urgency, 
                            timeout, 
                            closable, 
                            img, 
                            snd, 
                            title, 
                            BODY, 
                            sessionid 
                ) 
                VALUES 
                ( 
                            NEW.priority, 
                            et.notify_timeout, 
                            et.notify_closable, 
                            et.notify_img, 
                            et.notify_snd, 
                            ilabel, 
                            &#39;&lt;b&gt;&#39; 
                                        ||NEW.dateevent 
                                        ||&#39;&lt;/b&gt;&lt;/br&gt;&#39; 
                                        ||NEW.description, 
                            isessionid 
                ); 
   
  END IF; 



-- Auto cerramos los eventos se se haya programado para ser cerrados por la llegada de este evento
-- 1. Obtenemos la lista de los ideventtypes que sern cerrados por el ideventtype de este evento
IF et.enable_auto_close_on_event_defined THEN 
  RAISE notice &#39;&gt;&gt;&gt; 7) SELECT idevent FROM events.datas WHERE ideventtype = ANY(%) AND ideventstatustype = 0 AND idaccount = % AND zu = % AND idevent != %&#39;, et.auto_close_on_event_defined, NEW.idaccount, NEW.zu, NEW.idevent;
  FOR idevent_for_close_on_restore IN 
  SELECT idevent 
  FROM   events.datas 
  WHERE  ideventtype = ANY(et.auto_close_on_event_defined) 
  AND    isopen = true 
  AND    idaccount = NEW.idaccount 
  AND    zu = NEW.zu 
  AND    idevent != NEW.idevent LOOP RAISE notice &#39;&gt;&gt;&gt; 8) Se cierra automaticamente el evento % por restauracion&#39;,
         idevent_for_close_on_restore; 
   
  INSERT INTO events.comments 
              ( 
                          comment_event, 
                          idevent, 
                          idstatustype 
              ) 
              VALUES 
              ( 
                          &#39;Event closed for restoring or status changed event - idevent &#39; 
                                      ||NEW.idevent, 
                          idevent_for_close_on_restore, 
                          7 
              ); 

END LOOP; 
END IF; 

*/



RAISE notice &#39;&gt;&gt;&gt; 9) TERMINA EVENTS_ON_INSERT&#39;; 

/*
-----------------------------------
-- Este bloque es especifico de cada tabla heredada para determinar el idevent del ultimo evento segun los parametros que sean necesarios
CASE 
  WHEN tg_table_name LIKE &#39;events_dbsizes%&#39; THEN -- Creamos el uuidevent en base a los campos
  iuuidevent := md5( 
  NEW.idaccount::text 
  ||NEW.ideventtype::text 
  ||NEW.zu::text 
  ||NEW.idequipment::text||NEW.db_name||NEW.db_type::TEXT)::uuid; 
  
WHEN tg_table_name LIKE &#39;events_device_uptime%&#39; THEN -- Creamos el uuidevent en base a los campos
  iuuidevent := md5( 
  NEW.idaccount::text 
  ||NEW.ideventtype::text 
  ||NEW.zu::text 
  ||NEW.idequipment::text)::uuid; 

WHEN tg_table_name LIKE &#39;events_diskspace%&#39; THEN -- Creamos el uuidevent en base a los campos
  iuuidevent := md5( 
  NEW.idaccount::text 
  ||NEW.ideventtype::text 
  ||NEW.zu::text 
  ||NEW.idequipment::text||NEW.drive)::uuid; 

WHEN tg_table_name LIKE &#39;events_jobs%&#39; THEN -- Creamos el uuidevent en base a los campos
  iuuidevent := md5( 
  NEW.idaccount::text 
  ||NEW.ideventtype::text 
  ||NEW.zu::text 
  ||NEW.idequipment::text||NEW.job_name)::uuid; 

WHEN tg_table_name LIKE &#39;events_networkdevice_ping%&#39; THEN -- Creamos el uuidevent en base a los campos
  iuuidevent := md5( 
  NEW.idaccount::text 
  ||NEW.ideventtype::text 
  ||NEW.zu::text 
  ||NEW.idequipment::text)::uuid; 

WHEN tg_table_name LIKE &#39;events_login%&#39; THEN -- Creamos el uuidevent en base a los campos
  iuuidevent := md5( 
  NEW.idaccount::text 
  ||NEW.ideventtype::text 
  --||NEW.zu::text 
  ||NEW.idadmin::text)::uuid; 


RAISE notice &#39;&gt;&gt;&gt; 9) idaccount % / ideventtype = % / idadmin = %&#39;, NEW.idaccount, NEW.ideventtype, NEW.idadmin;
  
ELSE 

  iuuidevent := md5( 
  NEW.idaccount::text 
  ||NEW.ideventtype::text 
  ||NEW.zu::text 
  ||NEW.idequipment::text)::uuid; 

END CASE; 
*/


RETURN NULL; 
END;</pre>
	

<!-- guigui -->

		
		<hr>
		<h1>Schema gui</h1>
		

		
		
        <hr>
		<h2>Table:
			
			<a href="#gui.schema">gui</a>.<a name="gui.table.column-properties">column_properties</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>gui.column_properties Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>hash_num</td>
            	<td>text</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>column_label</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>column_width</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>column_decorator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>column_class</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_rendercell</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_formatter</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_classname</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>show</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>column_position</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT 999
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_editable</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_sortable</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_editon</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_resizable</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>field_iconclass</td>
            	<td>text</td>
                <td><i>
				

				
				DEFAULT &#39;glyphicon-pencil&#39;::text
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>field_placeholder</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_editor</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_autosave</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_autoselect</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_dismissonenter</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_editor_args</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#gui.schema">Schema gui</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#gui.schema">gui</a>.<a name="gui.table.menus">menus</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>gui.menus Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idmenu</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>structure</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>show</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>name</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				DEFAULT &#39;label&#39;::text
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>url</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>parent</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>type</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>groups</td>
            	<td>bigint[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>admins</td>
            	<td>bigint[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>nameeventonclick</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#gui.schema">Schema gui</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#gui.schema">gui</a>.<a name="gui.table.tables-view-properties">tables_view_properties</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>gui.tables_view_properties Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>title_dgrid</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>row_selector_dgrid</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>add_button_enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>delete_button_enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>export_button_enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_selectionmode</td>
            	<td>text</td>
                <td><i>
				

				
				DEFAULT &#39;none&#39;::text
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_allowtextselection</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_deselectonrefresh</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_allowselectall</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>tschema_tname</td>
            	<td>text</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#gui.schema">Schema gui</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#gui.schema">gui</a>.<a name="gui.view.view-columns-properties">view_columns_properties</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>gui.view_columns_properties Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>hash_num</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>tschema_tname</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>table_schema</td>
            	<td>information_schema.sql_identifier</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>table_name</td>
            	<td>information_schema.sql_identifier</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>column_name</td>
            	<td>information_schema.sql_identifier</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>data_type</td>
            	<td>information_schema.character_data</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>column_label</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>column_width</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>column_decorator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>column_class</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_rendercell</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_formatter</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_classname</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>show</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>column_position</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_editable</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_sortable</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_editon</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_resizable</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>field_iconclass</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>field_placeholder</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_editor</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_autosave</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_autoselect</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_dismissonenter</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_editor_args</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT view_table_schema.hash_num
,
    view_table_schema.tschema_tname
,
    view_table_schema.table_schema
,
    view_table_schema.table_name
,
    view_table_schema.column_name
,
    view_table_schema.data_type
,
    column_properties.column_label
,
    column_properties.column_width
,
    column_properties.column_decorator
,
    column_properties.column_class
,
    column_properties.dgrid_rendercell
,
    column_properties.dgrid_formatter
,
    column_properties.dgrid_classname
,
    column_properties.show
,
    column_properties.column_position
,
    column_properties.dgrid_editable
,
    column_properties.dgrid_sortable
,
    column_properties.dgrid_editon
,
    column_properties.dgrid_resizable
,
    column_properties.field_iconclass
,
    column_properties.field_placeholder
,
    column_properties.dgrid_editor
,
    column_properties.dgrid_autosave
,
    column_properties.dgrid_autoselect
,
    column_properties.dgrid_dismissonenter
,
    column_properties.dgrid_editor_args
   
FROM view_table_schema
,
    gui.column_properties
  
WHERE (view_table_schema.hash_num = column_properties.hash_num);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#gui.schema">Schema gui</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#gui.schema">gui</a>.<a name="gui.view.view-table-view-columns-properties">view_table_view_columns_properties</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>gui.view_table_view_columns_properties Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>title_dgrid</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>row_selector_dgrid</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>add_button_enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>delete_button_enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>export_button_enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_selectionmode</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_allowtextselection</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_deselectonrefresh</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_allowselectall</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>tschema_tname</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>columns_properties</td>
            	<td>json</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT vtvp.title_dgrid
,
    vtvp.row_selector_dgrid
,
    vtvp.add_button_enabled
,
    vtvp.delete_button_enabled
,
    vtvp.export_button_enabled
,
    vtvp.dgrid_selectionmode
,
    vtvp.dgrid_allowtextselection
,
    vtvp.dgrid_deselectonrefresh
,
    vtvp.dgrid_allowselectall
,
    vtvp.ts
,
    vtvp.footprint_row
,
    vtvp.tschema_tname
,
    
(
SELECT to_json
     (array_agg
           (vcp.*)
     ) AS to_json
           
  FROM (
      SELECT view_columns_properties.column_name AS field
           ,
                    view_columns_properties.data_type
           ,
                    view_columns_properties.column_label
           ,
                    view_columns_properties.column_width
           ,
                    view_columns_properties.column_decorator
           ,
                    view_columns_properties.column_class
           ,
                    view_columns_properties.dgrid_rendercell AS &quot;renderCell&quot;
           ,
                    view_columns_properties.dgrid_formatter
           ,
                    view_columns_properties.dgrid_classname
           ,
                    view_columns_properties.show
           ,
                    view_columns_properties.column_position
           ,
                    view_columns_properties.dgrid_editable
           ,
                    view_columns_properties.dgrid_sortable
           ,
                    view_columns_properties.dgrid_editon AS &quot;editOn&quot;
           ,
                    view_columns_properties.dgrid_resizable
           ,
                    view_columns_properties.field_iconclass
           ,
                    view_columns_properties.field_placeholder
           ,
                    view_columns_properties.dgrid_editor AS editor
           ,
                    view_columns_properties.dgrid_autosave
           ,
                    view_columns_properties.dgrid_autoselect
           ,
                    view_columns_properties.dgrid_dismissonenter
           ,
                    view_columns_properties.dgrid_editor_args
                   
        FROM gui.view_columns_properties
                  
       WHERE (view_columns_properties.tschema_tname = vtvp.tschema_tname)
                  
    ORDER BY view_columns_properties.column_position
     ) vcp
) AS columns_properties
   
FROM gui.tables_view_properties vtvp;</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#gui.schema">Schema gui</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#gui.schema">gui</a>.<a name="gui.view.view-table-view-properties">view_table_view_properties</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>gui.view_table_view_properties Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>tschema_tname</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>table_schema</td>
            	<td>information_schema.sql_identifier</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>table_name</td>
            	<td>information_schema.sql_identifier</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>title_dgrid</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>row_selector_dgrid</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>add_button_enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>delete_button_enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>export_button_enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_selectionmode</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_allowtextselection</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_deselectonrefresh</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_allowselectall</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT view_table_schema.tschema_tname
,
    view_table_schema.table_schema
,
    view_table_schema.table_name
,
    tables_view_properties.title_dgrid
,
    tables_view_properties.row_selector_dgrid
,
    tables_view_properties.add_button_enabled
,
    tables_view_properties.delete_button_enabled
,
    tables_view_properties.export_button_enabled
,
    tables_view_properties.dgrid_selectionmode
,
    tables_view_properties.dgrid_allowtextselection
,
    tables_view_properties.dgrid_deselectonrefresh
,
    tables_view_properties.dgrid_allowselectall
   
FROM view_table_schema
,
    gui.tables_view_properties
  
WHERE (tables_view_properties.tschema_tname = view_table_schema.tschema_tname);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#gui.schema">Schema gui</a>
    </p>
	

	<!-- We've gone through the table structure, now lets take a look at user functions -->
	
		<hr>
		<h2>Function:
			<a href="#gui.schema">gui</a>.<a name="gui.function.fun-mapper">fun_mapper()</a>
		</h2>
<h3>Returns: integer</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

fun_return INTEGER DEFAULT 0;
cursor1 CURSOR FOR SELECT * FROM public.view_table_schema where table_name NOT LIKE &#39;%_20%&#39; AND table_name NOT LIKE &#39;%_19%&#39;;
    cursor1_row RECORD;

BEGIN


    FOR cursor1_row IN cursor1 LOOP
    
IF NOT EXISTS(SELECT * FROM gui.column_properties WHERE hash_num = cursor1_row.hash_num AND column_label = cursor1_row.column_name) THEN
INSERT INTO gui.column_properties(
            hash_num, column_label)
    VALUES (cursor1_row.hash_num, cursor1_row.column_name);
    
END IF;


IF NOT EXISTS(SELECT * FROM gui.tables_view_properties WHERE tschema_tname = cursor1_row.tschema_tname) THEN
INSERT INTO gui.tables_view_properties(
            tschema_tname)
    VALUES (cursor1_row.tschema_tname);    
END IF;

    END LOOP;

    

RETURN fun_return;
END;</pre>
	

<!-- octopusoctopus -->

		
		<hr>
		<h1>Schema octopus</h1>
		

		
		
        <hr>
		<h2>Table:
			
			<a href="#octopus.schema">octopus</a>.<a name="octopus.table.octopus-by-account">octopus_by_account</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>octopus.octopus_by_account Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idoctopus_byaccount</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;octopus_by_account_idoctopus_byaccount_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				NOT NULL
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idoctopusfunction</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>datetime_start</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				NOT NULL
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>datetime_end</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_run</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>next_run</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>parameters</td>
            	<td>json</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>trigger_time</td>
            	<td>json</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>status</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.accounts">public.accounts__.idcontact</a>
                  
                
                </td>
            	<td>idaccount</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table octopus.octopus_by_account Inherits
        
            
           <a href="#octopus.table.octopus-functions-base">octopus_functions_base</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>octopus.octopus_by_account Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>ck_octopus_dtstart_dtend</td>
                <td>CHECK ((datetime_start &lt; datetime_end))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#octopus.schema">Schema octopus</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#octopus.schema">octopus</a>.<a name="octopus.table.octopus-by-equipment">octopus_by_equipment</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>octopus.octopus_by_equipment Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idoctopus_byaccount</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;octopus_by_account_idoctopus_byaccount_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				NOT NULL
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idoctopusfunction</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>datetime_start</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				NOT NULL
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>datetime_end</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_run</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>next_run</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>parameters</td>
            	<td>json</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>trigger_time</td>
            	<td>json</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>status</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.equipments">public.equipments.idequipment</a>
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table octopus.octopus_by_equipment Inherits
        
            
           <a href="#octopus.table.octopus-functions-base">octopus_functions_base</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>octopus.octopus_by_equipment Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>ck_octopus_dtstart_dtend</td>
                <td>CHECK ((datetime_start &lt; datetime_end))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#octopus.schema">Schema octopus</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#octopus.schema">octopus</a>.<a name="octopus.table.octopus-function">octopus_function</a>
		</h2>
        
         <p>Lista de funciones implementadas en octopus (En el servidor) y sus parametros predeterminados</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>octopus.octopus_function Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idoctopusfunction</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>function_name</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>default_parameters</td>
            	<td>json</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>label_function</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				<br><br>Nombre de la funcion en el servidor octopus (Funcion JS)
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>trigger_time</td>
            	<td>json</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#octopus.table.octopus-functions-base">octopus.octopus_functions_base</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#octopus.schema">Schema octopus</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#octopus.schema">octopus</a>.<a name="octopus.table.octopus-functions-base">octopus_functions_base</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>octopus.octopus_functions_base Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idoctopus_byaccount</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				NOT NULL
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#octopus.table.octopus-function">octopus.octopus_function.idoctopusfunction</a>
                  
                
                </td>
            	<td>idoctopusfunction</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>datetime_start</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				NOT NULL
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>datetime_end</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_run</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>next_run</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>parameters</td>
            	<td>json</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>trigger_time</td>
            	<td>json</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>status</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>octopus.octopus_functions_base Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>ck_octopus_dtstart_dtend</td>
                <td>CHECK ((datetime_start &lt; datetime_end))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#octopus.schema">Schema octopus</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#octopus.schema">octopus</a>.<a name="octopus.table.octopus-task-queue">octopus_task_queue</a>
		</h2>
        
         <p>Lista de tareas pendientes para ser procesadas por octopus.
</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>octopus.octopus_task_queue Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idoctopus_taskqueue</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idoctopustask</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>datetime_task</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>task_parameters</td>
            	<td>json</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>task_status</td>
            	<td>smallint</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#octopus.schema">Schema octopus</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#octopus.schema">octopus</a>.<a name="octopus.view.view-task-by-account">view_task_by_account</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>octopus.view_task_by_account Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idcontact</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled_account</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccountstate</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idaccounttype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>iddivision</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled_task</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idoctopusfunction</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>datetime_start</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>datetime_end</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>last_run</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>next_run</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>status</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>parameters</td>
            	<td>json</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>trigger_time</td>
            	<td>json</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled_function</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>function_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>label_function</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT accounts__.idcontact
,
    accounts__.enabled AS enabled_account
,
    accounts__.idaccountstate
,
    accounts__.idaccounttype
,
    accounts__.iddivision
,
    octopus_by_account.enabled AS enabled_task
,
    octopus_function.idoctopusfunction
,
    octopus_by_account.datetime_start
,
    octopus_by_account.datetime_end
,
    octopus_by_account.last_run
,
    octopus_by_account.next_run
,
    octopus_by_account.status
,
        CASE
            WHEN 
(
     (octopus_by_account.parameters IS NULL)
    OR (length
           (
                 (octopus_by_account.parameters)::text
           ) &gt; 0
     )
) THEN octopus_function.default_parameters
            ELSE octopus_by_account.parameters
        END AS parameters
,
        CASE
            WHEN 
(
     (octopus_by_account.trigger_time IS NULL)
    OR (length
           (
                 (octopus_by_account.trigger_time)::text
           ) &gt; 0
     )
) THEN octopus_function.trigger_time
            ELSE octopus_by_account.trigger_time
        END AS trigger_time
,
    octopus_function.enabled AS enabled_function
,
    octopus_function.function_name
,
    octopus_function.label_function
   
FROM accounts__
,
    octopus.octopus_by_account
,
    octopus.octopus_function
  
WHERE (
     (accounts__.idcontact = octopus_by_account.idaccount)
   AND (octopus_by_account.idoctopusfunction = octopus_function.idoctopusfunction)
);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#octopus.schema">Schema octopus</a>
    </p>
	

	<!-- We've gone through the table structure, now lets take a look at user functions -->
	

<!-- pgagentpgagent -->

		
		<hr>
		<h1>Schema pgagent</h1>
		
			<p>pgAgent system tables</p>
		

		
		
        <hr>
		<h2>Table:
			
			<a href="#pgagent.schema">pgagent</a>.<a name="pgagent.table.pga-exception">pga_exception</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pgagent.pga_exception Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>jexid</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#pgagent.table.pga-schedule">pgagent.pga_schedule.jscid</a>
                  
                
                </td>
            	<td>jexscid</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>jexdate</td>
            	<td>date</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jextime</td>
            	<td>time without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       pga_exception_jexscid jexscid
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#pgagent.schema">Schema pgagent</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#pgagent.schema">pgagent</a>.<a name="pgagent.table.pga-job">pga_job</a>
		</h2>
        
         <p>Job main entry</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pgagent.pga_job Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>jobid</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#pgagent.table.pga-jobclass">pgagent.pga_jobclass.jclid</a>
                  
                
                </td>
            	<td>jobjclid</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>jobname</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jobdesc</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				DEFAULT &#39;&#39;::text
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>jobhostagent</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				DEFAULT &#39;&#39;::text
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jobenabled</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>jobcreated</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				NOT NULL
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jobchanged</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				NOT NULL
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#pgagent.table.pga-jobagent">pgagent.pga_jobagent.jagpid</a>
                  
                
                </td>
            	<td>jobagentid</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>Agent that currently executes this job.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jobnextrun</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>joblastrun</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#pgagent.table.pga-joblog">pgagent.pga_joblog</a></li>
			</ul>
		
			<ul>
				<li><a href="#pgagent.table.pga-jobstep">pgagent.pga_jobstep</a></li>
			</ul>
		
			<ul>
				<li><a href="#pgagent.table.pga-schedule">pgagent.pga_schedule</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#pgagent.schema">Schema pgagent</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#pgagent.schema">pgagent</a>.<a name="pgagent.table.pga-jobagent">pga_jobagent</a>
		</h2>
        
         <p>Active job agents</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pgagent.pga_jobagent Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>jagpid</td>
            	<td>integer</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jaglogintime</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				NOT NULL
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>jagstation</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#pgagent.table.pga-job">pgagent.pga_job</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#pgagent.schema">Schema pgagent</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#pgagent.schema">pgagent</a>.<a name="pgagent.table.pga-jobclass">pga_jobclass</a>
		</h2>
        
         <p>Job classification</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pgagent.pga_jobclass Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>jclid</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jclname</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#pgagent.table.pga-job">pgagent.pga_job</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#pgagent.schema">Schema pgagent</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#pgagent.schema">pgagent</a>.<a name="pgagent.table.pga-joblog">pga_joblog</a>
		</h2>
        
         <p>Job run logs.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pgagent.pga_joblog Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>jlgid</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#pgagent.table.pga-job">pgagent.pga_job.jobid</a>
                  
                
                </td>
            	<td>jlgjobid</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>jlgstatus</td>
            	<td>character(1)</td>
                <td><i>
				

				NOT NULL
				DEFAULT &#39;r&#39;::bpchar
				</i>
				<br><br>Status of job: r=running, s=successfully finished, f=failed, i=no steps to execute, d=aborted
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jlgstart</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				NOT NULL
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>jlgduration</td>
            	<td>interval</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>pgagent.pga_joblog Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>pga_joblog_jlgstatus_check</td>
                <td>CHECK ((jlgstatus = ANY (ARRAY[&#39;r&#39;::bpchar, &#39;s&#39;::bpchar, &#39;f&#39;::bpchar, &#39;i&#39;::bpchar, &#39;d&#39;::bpchar])))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#pgagent.table.pga-jobsteplog">pgagent.pga_jobsteplog</a></li>
			</ul>
		
		

    <!-- Indexes -->
    
       pga_joblog_jobid jlgjobid
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#pgagent.schema">Schema pgagent</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#pgagent.schema">pgagent</a>.<a name="pgagent.table.pga-jobstep">pga_jobstep</a>
		</h2>
        
         <p>Job step to be executed</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pgagent.pga_jobstep Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>jstid</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#pgagent.table.pga-job">pgagent.pga_job.jobid</a>
                  
                
                </td>
            	<td>jstjobid</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>jstname</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jstdesc</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				DEFAULT &#39;&#39;::text
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>jstenabled</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jstkind</td>
            	<td>character(1)</td>
                <td><i>
				

				NOT NULL
				
				</i>
				<br><br>Kind of jobstep: s=sql, b=batch
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>jstcode</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jstconnstr</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				DEFAULT &#39;&#39;::text
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>jstdbname</td>
            	<td>name</td>
                <td><i>
				

				NOT NULL
				DEFAULT &#39;&#39;::name
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jstonerror</td>
            	<td>character(1)</td>
                <td><i>
				

				NOT NULL
				DEFAULT &#39;f&#39;::bpchar
				</i>
				<br><br>What to do if step returns an error: f=fail the job, s=mark step as succeeded and continue, i=mark as fail but ignore it and proceed
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>jscnextrun</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>pgagent.pga_jobstep Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>pga_jobstep_check</td>
                <td>CHECK ((((jstconnstr &lt;&gt; &#39;&#39;::text) AND (jstkind = &#39;s&#39;::bpchar)) OR ((jstconnstr = &#39;&#39;::text) AND ((jstkind = &#39;b&#39;::bpchar) OR (jstdbname &lt;&gt; &#39;&#39;::name)))))</td>
            </tr>
			
            <tr class="tr1">
				<td>pga_jobstep_check1</td>
                <td>CHECK ((((jstdbname &lt;&gt; &#39;&#39;::name) AND (jstkind = &#39;s&#39;::bpchar)) OR ((jstdbname = &#39;&#39;::name) AND ((jstkind = &#39;b&#39;::bpchar) OR (jstconnstr &lt;&gt; &#39;&#39;::text)))))</td>
            </tr>
			
            <tr class="tr0">
				<td>pga_jobstep_jstkind_check</td>
                <td>CHECK ((jstkind = ANY (ARRAY[&#39;b&#39;::bpchar, &#39;s&#39;::bpchar])))</td>
            </tr>
			
            <tr class="tr1">
				<td>pga_jobstep_jstonerror_check</td>
                <td>CHECK ((jstonerror = ANY (ARRAY[&#39;f&#39;::bpchar, &#39;s&#39;::bpchar, &#39;i&#39;::bpchar])))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#pgagent.table.pga-jobsteplog">pgagent.pga_jobsteplog</a></li>
			</ul>
		
		

    <!-- Indexes -->
    
       pga_jobstep_jobid jstjobid
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#pgagent.schema">Schema pgagent</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#pgagent.schema">pgagent</a>.<a name="pgagent.table.pga-jobsteplog">pga_jobsteplog</a>
		</h2>
        
         <p>Job step run logs.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pgagent.pga_jobsteplog Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>jslid</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#pgagent.table.pga-joblog">pgagent.pga_joblog.jlgid</a>
                  
                
                </td>
            	<td>jsljlgid</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#pgagent.table.pga-jobstep">pgagent.pga_jobstep.jstid</a>
                  
                
                </td>
            	<td>jsljstid</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jslstatus</td>
            	<td>character(1)</td>
                <td><i>
				

				NOT NULL
				DEFAULT &#39;r&#39;::bpchar
				</i>
				<br><br>Status of job step: r=running, s=successfully finished,  f=failed stopping job, i=ignored failure, d=aborted
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>jslresult</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Return code of job step
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jslstart</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				NOT NULL
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>jslduration</td>
            	<td>interval</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jsloutput</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>pgagent.pga_jobsteplog Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>pga_jobsteplog_jslstatus_check</td>
                <td>CHECK ((jslstatus = ANY (ARRAY[&#39;r&#39;::bpchar, &#39;s&#39;::bpchar, &#39;i&#39;::bpchar, &#39;f&#39;::bpchar, &#39;d&#39;::bpchar])))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       pga_jobsteplog_jslid jsljlgid
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#pgagent.schema">Schema pgagent</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#pgagent.schema">pgagent</a>.<a name="pgagent.table.pga-schedule">pga_schedule</a>
		</h2>
        
         <p>Job schedule exceptions</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>pgagent.pga_schedule Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>jscid</td>
            	<td>serial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#pgagent.table.pga-job">pgagent.pga_job.jobid</a>
                  
                
                </td>
            	<td>jscjobid</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>jscname</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jscdesc</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				DEFAULT &#39;&#39;::text
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>jscenabled</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jscstart</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				NOT NULL
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>jscend</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jscminutes</td>
            	<td>boolean[]</td>
                <td><i>
				

				NOT NULL
				DEFAULT &#39;{f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f}&#39;::boolean[]
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>jschours</td>
            	<td>boolean[]</td>
                <td><i>
				

				NOT NULL
				DEFAULT &#39;{f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f}&#39;::boolean[]
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jscweekdays</td>
            	<td>boolean[]</td>
                <td><i>
				

				NOT NULL
				DEFAULT &#39;{f,f,f,f,f,f,f}&#39;::boolean[]
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>jscmonthdays</td>
            	<td>boolean[]</td>
                <td><i>
				

				NOT NULL
				DEFAULT &#39;{f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f}&#39;::boolean[]
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>jscmonths</td>
            	<td>boolean[]</td>
                <td><i>
				

				NOT NULL
				DEFAULT &#39;{f,f,f,f,f,f,f,f,f,f,f,f}&#39;::boolean[]
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>pgagent.pga_schedule Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>pga_schedule_jschours_size</td>
                <td>CHECK ((array_upper(jschours, 1) = 24))</td>
            </tr>
			
            <tr class="tr1">
				<td>pga_schedule_jscminutes_size</td>
                <td>CHECK ((array_upper(jscminutes, 1) = 60))</td>
            </tr>
			
            <tr class="tr0">
				<td>pga_schedule_jscmonthdays_size</td>
                <td>CHECK ((array_upper(jscmonthdays, 1) = 32))</td>
            </tr>
			
            <tr class="tr1">
				<td>pga_schedule_jscmonths_size</td>
                <td>CHECK ((array_upper(jscmonths, 1) = 12))</td>
            </tr>
			
            <tr class="tr0">
				<td>pga_schedule_jscweekdays_size</td>
                <td>CHECK ((array_upper(jscweekdays, 1) = 7))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#pgagent.table.pga-exception">pgagent.pga_exception</a></li>
			</ul>
		
		

    <!-- Indexes -->
    
       pga_jobschedule_jobid jscjobid
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#pgagent.schema">Schema pgagent</a>
    </p>
	

	<!-- We've gone through the table structure, now lets take a look at user functions -->
	
		<hr>
		<h2>Function:
			<a href="#pgagent.schema">pgagent</a>.<a name="pgagent.function.pga-exception-trigger">pga_exception_trigger()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        <p>Update the job&#39;s next run time whenever an exception changes</p>
        <pre>
DECLARE

    v_jobid int4 := 0;

BEGIN

     IF TG_OP = &#39;DELETE&#39; THEN

        SELECT INTO v_jobid jscjobid FROM pgagent.pga_schedule WHERE jscid = OLD.jexscid;

        -- update pga_job from remaining schedules
        -- the actual calculation of jobnextrun will be performed in the trigger
        UPDATE pgagent.pga_job
           SET jobnextrun = NULL
         WHERE jobenabled AND jobid = v_jobid;
        RETURN OLD;
    ELSE

        SELECT INTO v_jobid jscjobid FROM pgagent.pga_schedule WHERE jscid = NEW.jexscid;

        UPDATE pgagent.pga_job
           SET jobnextrun = NULL
         WHERE jobenabled AND jobid = v_jobid;
        RETURN NEW;
    END IF;
END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#pgagent.schema">pgagent</a>.<a name="pgagent.function.pga-is-leap-year-smallint">pga_is_leap_year(smallint)</a>
		</h2>
<h3>Returns: boolean</h3>
<h3>Language: PLPGSQL</h3>
        <p>Returns TRUE if $1 is a leap year</p>
        <pre>
BEGIN
    IF $1 % 4 != 0 THEN
        RETURN FALSE;
    END IF;

    IF $1 % 100 != 0 THEN
        RETURN TRUE;
    END IF;

    RETURN $1 % 400 = 0;
END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#pgagent.schema">pgagent</a>.<a name="pgagent.function.pga-job-trigger">pga_job_trigger()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        <p>Update the job&#39;s next run time.</p>
        <pre>
BEGIN
    IF NEW.jobenabled THEN
        IF NEW.jobnextrun IS NULL THEN
             SELECT INTO NEW.jobnextrun
                    MIN(pgagent.pga_next_schedule(jscid, jscstart, jscend, jscminutes, jschours, jscweekdays, jscmonthdays, jscmonths))
               FROM pgagent.pga_schedule
              WHERE jscenabled AND jscjobid=OLD.jobid;
        END IF;
    ELSE
        NEW.jobnextrun := NULL;
    END IF;
    RETURN NEW;
END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#pgagent.schema">pgagent</a>.<a name="pgagent.function.pga-next-schedule-integer-timestamp-with-time-zone-timestamp-with-time-zone-booleanARRAY-booleanARRAY-booleanARRAY-booleanARRAY-booleanARRAY">pga_next_schedule(integer, timestamp with time zone, timestamp with time zone, boolean[], boolean[], boolean[], boolean[], boolean[])</a>
		</h2>
<h3>Returns: timestamp with time zone</h3>
<h3>Language: PLPGSQL</h3>
        <p>Calculates the next runtime for a given schedule</p>
        <pre>
DECLARE
    jscid           ALIAS FOR $1;
    jscstart        ALIAS FOR $2;
    jscend          ALIAS FOR $3;
    jscminutes      ALIAS FOR $4;
    jschours        ALIAS FOR $5;
    jscweekdays     ALIAS FOR $6;
    jscmonthdays    ALIAS FOR $7;
    jscmonths       ALIAS FOR $8;

    nextrun         timestamp := &#39;1970-01-01 00:00:00-00&#39;;
    runafter        timestamp := &#39;1970-01-01 00:00:00-00&#39;;

    bingo            bool := FALSE;
    gotit            bool := FALSE;
    foundval        bool := FALSE;
    daytweak        bool := FALSE;
    minutetweak        bool := FALSE;

    i                int2 := 0;
    d                int2 := 0;

    nextminute        int2 := 0;
    nexthour        int2 := 0;
    nextday            int2 := 0;
    nextmonth       int2 := 0;
    nextyear        int2 := 0;


BEGIN
    -- No valid start date has been specified
    IF jscstart IS NULL THEN RETURN NULL; END IF;

    -- The schedule is past its end date
    IF jscend IS NOT NULL AND jscend &lt; now() THEN RETURN NULL; END IF;

    -- Get the time to find the next run after. It will just be the later of
    -- now() + 1m and the start date for the time being, however, we might want to
    -- do more complex things using this value in the future.
    IF date_trunc(&#39;MINUTE&#39;, jscstart) &gt; date_trunc(&#39;MINUTE&#39;, (now() + &#39;1 Minute&#39;::interval)) THEN
        runafter := date_trunc(&#39;MINUTE&#39;, jscstart);
    ELSE
        runafter := date_trunc(&#39;MINUTE&#39;, (now() + &#39;1 Minute&#39;::interval));
    END IF;

    --
    -- Enter a loop, generating next run timestamps until we find one
    -- that falls on the required weekday, and is not matched by an exception
    --

    WHILE bingo = FALSE LOOP

        --
        -- Get the next run year
        --
        nextyear := date_part(&#39;YEAR&#39;, runafter);

        --
        -- Get the next run month
        --
        nextmonth := date_part(&#39;MONTH&#39;, runafter);
        gotit := FALSE;
        FOR i IN (nextmonth) .. 12 LOOP
            IF jscmonths[i] = TRUE THEN
                nextmonth := i;
                gotit := TRUE;
                foundval := TRUE;
                EXIT;
            END IF;
        END LOOP;
        IF gotit = FALSE THEN
            FOR i IN 1 .. (nextmonth - 1) LOOP
                IF jscmonths[i] = TRUE THEN
                    nextmonth := i;

                    -- Wrap into next year
                    nextyear := nextyear + 1;
                    gotit := TRUE;
                    foundval := TRUE;
                    EXIT;
                END IF;
           END LOOP;
        END IF;

        --
        -- Get the next run day
        --
        -- If the year, or month have incremented, get the lowest day,
        -- otherwise look for the next day matching or after today.
        IF (nextyear &gt; date_part(&#39;YEAR&#39;, runafter) OR nextmonth &gt; date_part(&#39;MONTH&#39;, runafter)) THEN
            nextday := 1;
            FOR i IN 1 .. 32 LOOP
                IF jscmonthdays[i] = TRUE THEN
                    nextday := i;
                    foundval := TRUE;
                    EXIT;
                END IF;
            END LOOP;
        ELSE
            nextday := date_part(&#39;DAY&#39;, runafter);
            gotit := FALSE;
            FOR i IN nextday .. 32 LOOP
                IF jscmonthdays[i] = TRUE THEN
                    nextday := i;
                    gotit := TRUE;
                    foundval := TRUE;
                    EXIT;
                END IF;
            END LOOP;
            IF gotit = FALSE THEN
                FOR i IN 1 .. (nextday - 1) LOOP
                    IF jscmonthdays[i] = TRUE THEN
                        nextday := i;

                        -- Wrap into next month
                        IF nextmonth = 12 THEN
                            nextyear := nextyear + 1;
                            nextmonth := 1;
                        ELSE
                            nextmonth := nextmonth + 1;
                        END IF;
                        gotit := TRUE;
                        foundval := TRUE;
                        EXIT;
                    END IF;
                END LOOP;
            END IF;
        END IF;

        -- Was the last day flag selected?
        IF nextday = 32 THEN
            IF nextmonth = 1 THEN
                nextday := 31;
            ELSIF nextmonth = 2 THEN
                IF pgagent.pga_is_leap_year(nextyear) = TRUE THEN
                    nextday := 29;
                ELSE
                    nextday := 28;
                END IF;
            ELSIF nextmonth = 3 THEN
                nextday := 31;
            ELSIF nextmonth = 4 THEN
                nextday := 30;
            ELSIF nextmonth = 5 THEN
                nextday := 31;
            ELSIF nextmonth = 6 THEN
                nextday := 30;
            ELSIF nextmonth = 7 THEN
                nextday := 31;
            ELSIF nextmonth = 8 THEN
                nextday := 31;
            ELSIF nextmonth = 9 THEN
                nextday := 30;
            ELSIF nextmonth = 10 THEN
                nextday := 31;
            ELSIF nextmonth = 11 THEN
                nextday := 30;
            ELSIF nextmonth = 12 THEN
                nextday := 31;
            END IF;
        END IF;

        --
        -- Get the next run hour
        --
        -- If the year, month or day have incremented, get the lowest hour,
        -- otherwise look for the next hour matching or after the current one.
        IF (nextyear &gt; date_part(&#39;YEAR&#39;, runafter) OR nextmonth &gt; date_part(&#39;MONTH&#39;, runafter) OR nextday &gt; date_part(&#39;DAY&#39;, runafter) OR daytweak = TRUE) THEN
            nexthour := 0;
            FOR i IN 1 .. 24 LOOP
                IF jschours[i] = TRUE THEN
                    nexthour := i - 1;
                    foundval := TRUE;
                    EXIT;
                END IF;
            END LOOP;
        ELSE
            nexthour := date_part(&#39;HOUR&#39;, runafter);
            gotit := FALSE;
            FOR i IN (nexthour + 1) .. 24 LOOP
                IF jschours[i] = TRUE THEN
                    nexthour := i - 1;
                    gotit := TRUE;
                    foundval := TRUE;
                    EXIT;
                END IF;
            END LOOP;
            IF gotit = FALSE THEN
                FOR i IN 1 .. nexthour LOOP
                    IF jschours[i] = TRUE THEN
                        nexthour := i - 1;

                        -- Wrap into next month
                        IF (nextmonth = 1 OR nextmonth = 3 OR nextmonth = 5 OR nextmonth = 7 OR nextmonth = 8 OR nextmonth = 10 OR nextmonth = 12) THEN
                            d = 31;
                        ELSIF (nextmonth = 4 OR nextmonth = 6 OR nextmonth = 9 OR nextmonth = 11) THEN
                            d = 30;
                        ELSE
                            IF pgagent.pga_is_leap_year(nextyear) = TRUE THEN
                                d := 29;
                            ELSE
                                d := 28;
                            END IF;
                        END IF;

                        IF nextday = d THEN
                            nextday := 1;
                            IF nextmonth = 12 THEN
                                nextyear := nextyear + 1;
                                nextmonth := 1;
                            ELSE
                                nextmonth := nextmonth + 1;
                            END IF;
                        ELSE
                            nextday := nextday + 1;
                        END IF;

                        gotit := TRUE;
                        foundval := TRUE;
                        EXIT;
                    END IF;
                END LOOP;
            END IF;
        END IF;

        --
        -- Get the next run minute
        --
        -- If the year, month day or hour have incremented, get the lowest minute,
        -- otherwise look for the next minute matching or after the current one.
        IF (nextyear &gt; date_part(&#39;YEAR&#39;, runafter) OR nextmonth &gt; date_part(&#39;MONTH&#39;, runafter) OR nextday &gt; date_part(&#39;DAY&#39;, runafter) OR nexthour &gt; date_part(&#39;HOUR&#39;, runafter) OR daytweak = TRUE) THEN
            nextminute := 0;
            IF minutetweak = TRUE THEN
        d := 1;
            ELSE
        d := date_part(&#39;YEAR&#39;, runafter)::int2;
            END IF;
            FOR i IN d .. 60 LOOP
                IF jscminutes[i] = TRUE THEN
                    nextminute := i - 1;
                    foundval := TRUE;
                    EXIT;
                END IF;
            END LOOP;
        ELSE
            nextminute := date_part(&#39;MINUTE&#39;, runafter);
            gotit := FALSE;
            FOR i IN (nextminute + 1) .. 60 LOOP
                IF jscminutes[i] = TRUE THEN
                    nextminute := i - 1;
                    gotit := TRUE;
                    foundval := TRUE;
                    EXIT;
                END IF;
            END LOOP;
            IF gotit = FALSE THEN
                FOR i IN 1 .. nextminute LOOP
                    IF jscminutes[i] = TRUE THEN
                        nextminute := i - 1;

                        -- Wrap into next hour
                        IF (nextmonth = 1 OR nextmonth = 3 OR nextmonth = 5 OR nextmonth = 7 OR nextmonth = 8 OR nextmonth = 10 OR nextmonth = 12) THEN
                            d = 31;
                        ELSIF (nextmonth = 4 OR nextmonth = 6 OR nextmonth = 9 OR nextmonth = 11) THEN
                            d = 30;
                        ELSE
                            IF pgagent.pga_is_leap_year(nextyear) = TRUE THEN
                                d := 29;
                            ELSE
                                d := 28;
                            END IF;
                        END IF;

                        IF nexthour = 23 THEN
                            nexthour = 0;
                            IF nextday = d THEN
                                nextday := 1;
                                IF nextmonth = 12 THEN
                                    nextyear := nextyear + 1;
                                    nextmonth := 1;
                                ELSE
                                    nextmonth := nextmonth + 1;
                                END IF;
                            ELSE
                                nextday := nextday + 1;
                            END IF;
                        ELSE
                            nexthour := nexthour + 1;
                        END IF;

                        gotit := TRUE;
                        foundval := TRUE;
                        EXIT;
                    END IF;
                END LOOP;
            END IF;
        END IF;

        -- Build the result, and check it is not the same as runafter - this may
        -- happen if all array entries are set to false. In this case, add a minute.

        nextrun := (nextyear::varchar || &#39;-&#39;::varchar || nextmonth::varchar || &#39;-&#39; || nextday::varchar || &#39; &#39; || nexthour::varchar || &#39;:&#39; || nextminute::varchar)::timestamptz;

        IF nextrun = runafter AND foundval = FALSE THEN
                nextrun := nextrun + INTERVAL &#39;1 Minute&#39;;
        END IF;

        -- If the result is past the end date, exit.
        IF nextrun &gt; jscend THEN
            RETURN NULL;
        END IF;

        -- Check to ensure that the nextrun time is actually still valid. Its
        -- possible that wrapped values may have carried the nextrun onto an
        -- invalid time or date.
        IF ((jscminutes = &#39;{f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f}&#39; OR jscminutes[date_part(&#39;MINUTE&#39;, nextrun) + 1] = TRUE) AND
            (jschours = &#39;{f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f}&#39; OR jschours[date_part(&#39;HOUR&#39;, nextrun) + 1] = TRUE) AND
            (jscmonthdays = &#39;{f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f}&#39; OR jscmonthdays[date_part(&#39;DAY&#39;, nextrun)] = TRUE OR
            (jscmonthdays = &#39;{f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,t}&#39; AND
             ((date_part(&#39;MONTH&#39;, nextrun) IN (1,3,5,7,8,10,12) AND date_part(&#39;DAY&#39;, nextrun) = 31) OR
              (date_part(&#39;MONTH&#39;, nextrun) IN (4,6,9,11) AND date_part(&#39;DAY&#39;, nextrun) = 30) OR
              (date_part(&#39;MONTH&#39;, nextrun) = 2 AND ((pgagent.pga_is_leap_year(date_part(&#39;DAY&#39;, nextrun)::int2) AND date_part(&#39;DAY&#39;, nextrun) = 29) OR date_part(&#39;DAY&#39;, nextrun) = 28))))) AND
            (jscmonths = &#39;{f,f,f,f,f,f,f,f,f,f,f,f}&#39; OR jscmonths[date_part(&#39;MONTH&#39;, nextrun)] = TRUE)) THEN


            -- Now, check to see if the nextrun time found is a) on an acceptable
            -- weekday, and b) not matched by an exception. If not, set
            -- runafter = nextrun and try again.

            -- Check for a wildcard weekday
            gotit := FALSE;
            FOR i IN 1 .. 7 LOOP
                IF jscweekdays[i] = TRUE THEN
                    gotit := TRUE;
                    EXIT;
                END IF;
            END LOOP;

            -- OK, is the correct weekday selected, or a wildcard?
            IF (jscweekdays[date_part(&#39;DOW&#39;, nextrun) + 1] = TRUE OR gotit = FALSE) THEN

                -- Check for exceptions
                SELECT INTO d jexid FROM pgagent.pga_exception WHERE jexscid = jscid AND ((jexdate = nextrun::date AND jextime = nextrun::time) OR (jexdate = nextrun::date AND jextime IS NULL) OR (jexdate IS NULL AND jextime = nextrun::time));
                IF FOUND THEN
                    -- Nuts - found an exception. Increment the time and try again
                    runafter := nextrun + INTERVAL &#39;1 Minute&#39;;
                    bingo := FALSE;
                    minutetweak := TRUE;
            daytweak := FALSE;
                ELSE
                    bingo := TRUE;
                END IF;
            ELSE
                -- We&#39;re on the wrong week day - increment a day and try again.
                runafter := nextrun + INTERVAL &#39;1 Day&#39;;
                bingo := FALSE;
                minutetweak := FALSE;
                daytweak := TRUE;
            END IF;

        ELSE
            runafter := nextrun + INTERVAL &#39;1 Minute&#39;;
            bingo := FALSE;
            minutetweak := TRUE;
        daytweak := FALSE;
        END IF;

    END LOOP;

    RETURN nextrun;
END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#pgagent.schema">pgagent</a>.<a name="pgagent.function.pga-schedule-trigger">pga_schedule_trigger()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        <p>Update the job&#39;s next run time whenever a schedule changes</p>
        <pre>
BEGIN
    IF TG_OP = &#39;DELETE&#39; THEN
        -- update pga_job from remaining schedules
        -- the actual calculation of jobnextrun will be performed in the trigger
        UPDATE pgagent.pga_job
           SET jobnextrun = NULL
         WHERE jobenabled AND jobid=OLD.jscjobid;
        RETURN OLD;
    ELSE
        UPDATE pgagent.pga_job
           SET jobnextrun = NULL
         WHERE jobenabled AND jobid=NEW.jscjobid;
        RETURN NEW;
    END IF;
END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#pgagent.schema">pgagent</a>.<a name="pgagent.function.pgagent-schema-version">pgagent_schema_version()</a>
		</h2>
<h3>Returns: smallint</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>
BEGIN
    -- RETURNS PGAGENT MAJOR VERSION
    -- WE WILL CHANGE THE MAJOR VERSION, ONLY IF THERE IS A SCHEMA CHANGE
    RETURN 3;
END;
</pre>
	

<!-- publicpublic -->

		
		<hr>
		<h1>Schema public</h1>
		
			<p>standard public schema</p>
		

		
		
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.account-contacts">account_contacts</a>
		</h2>
        
         <p>Usuarios de un abonado (cliente).
No hay como usar idacount como llave foranea porque es una tabla heredada, hay que hacer la comprobacion manualmente.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.account_contacts Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idaccountuser</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.accounts">public.accounts__.idcontact</a>
                  
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				<br><br>ID de la cuenta
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idcontact</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				<br><br>ID asociado de la lista de contactos
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>appointment</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT 5
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_account_contacts_appointment appointment) WHERE (appointment = 'oams_assigned'::text
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.account-states">account_states</a>
		</h2>
        
         <p>Lista de posibles estados de un abonado</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.account_states Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idaccountstate</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>state</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#public.table.accounts">public.accounts</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.account-types">account_types</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.account_types Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idaccounttype</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>type</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.account-users">account_users</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.account_users Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idaccountuser</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;account_users_idaccountuser_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                  
                  <a href="#public.table.accounts">public.accounts__.idcontact</a>
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idcontact</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>appointment</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT 5
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>account_user</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account_pwd</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>date_start</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>date_end</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>user</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.account_users Inherits
        
            
           <a href="#public.table.account-contacts">account_contacts</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_account_user__user_pwd account_user, account_pwd
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.accounts">accounts</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.accounts Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;contacts_idcontact_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account_name</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>identification</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ididtype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>postal_code</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geox</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geoy</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>address</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>address_ref</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>groups</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.account-states">public.account_states.idaccountstate</a>
                  
                
                </td>
            	<td>idaccountstate</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccounttype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>start_date</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>end_date</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>account</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>iddivision</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>cost_center</td>
            	<td>character varying(5)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#events.table.datas">events.datas</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.equipments">public.equipments</a></li>
			</ul>
		
		

    <!-- Indexes -->
    
       accounts__account_idx account
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.accounts">accounts__</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.accounts__ Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idcontact</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;contacts_idcontact_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>first_name</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>birthday</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>identification</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ididtype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>postal_code</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>gender</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geox</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geoy</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>address</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>address_ref</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>groups</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idaccountstate</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccounttype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>start_date</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>end_date</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>account</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.divisions">public.divisions.iddivision</a>
                  
                
                  
                
                </td>
            	<td>iddivision</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>admins</td>
            	<td>bigint[]</td>
                <td><i>
				

				
				
				</i>
				<br><br>Lista de administradores asignados a la cuenta
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>cost_center</td>
            	<td>character varying(5)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.accounts__ Inherits
        
            
           <a href="#contacts.table.contacts">contacts</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#octopus.table.octopus-by-account">octopus.octopus_by_account</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.account-contacts">public.account_contacts</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.account-users">public.account_users</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events">public.events</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-2015">public.events_2015</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-2016">public.events_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-dbsizes">public.events_dbsizes</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-dbsizes-2016">public.events_dbsizes_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-device-uptime">public.events_device_uptime</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-device-uptime-2016">public.events_device_uptime_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-diskspace">public.events_diskspace</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-diskspace-2016">public.events_diskspace_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs">public.events_jobs</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs-1990">public.events_jobs_1990</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs-2015">public.events_jobs_2015</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs-2016">public.events_jobs_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-networkdevice-ping-2016">public.events_networkdevice_ping_2016</a></li>
			</ul>
		
		

    <!-- Indexes -->
    
       index_accounts_account account
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.admins">admins</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.admins Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idadmin</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#contacts.table.contacts">contacts.contacts.idcontact</a>
                  
                
                </td>
            	<td>idcontact</td>
            	<td>bigserial</td>
                <td><i>
				
					

					
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>admin_start</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				NOT NULL
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>admin_end</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				NOT NULL
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>admin_username</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>admin_pwd</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>admin_sessionid</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>admin_ip</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>admin_level</td>
            	<td>integer</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>admin_role</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>admin_locked_date</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>admin_failed_access_attempts</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>appointment</td>
            	<td>text</td>
                <td><i>
				

				
				DEFAULT &#39;Admin&#39;::text
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>last_access</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_heartbeat</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha de ultimo registro cuando el usuario estaba conectado, sirve para determinar que usuarios estan conectados y para cerrar session en X tiempo que no se tiene reporte del usuario.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>divisions</td>
            	<td>bigint[]</td>
                <td><i>
				

				
				
				</i>
				<br><br>Division a la que el administrador tendra acceso.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccounts</td>
            	<td>bigint[]</td>
                <td><i>
				

				
				
				</i>
				<br><br>Matriz de idaccounts asignados a este administrador
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>email_notification</td>
            	<td>bigint[]</td>
                <td><i>
				

				
				
				</i>
				<br><br>Ids del email que se usara para notificaciones o informacion desde el sistema.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>xmpp_notification</td>
            	<td>bigint[]</td>
                <td><i>
				

				
				
				</i>
				<br><br>ids de las cuentas de xmpp que se usaran para notificaciones al administrador.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>admin_attention_group</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				<br><br>Grupos de atencion, para poder asignar tareas segun el grupo de atencion que tengan.
Puede pertenecer a diferenctes grupos de atencion.


				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#events.table.datas-000112">events.datas_000112</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-199001">events.datas_199001</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201504">events.datas_201504</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201506">events.datas_201506</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201508">events.datas_201508</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201509">events.datas_201509</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201510">events.datas_201510</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201511">events.datas_201511</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201610">events.datas_201610</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201701">events.datas_201701</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201704">events.datas_201704</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201705">events.datas_201705</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-2016">public.events_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-2017">public.events_2017</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-device-uptime-2016">public.events_device_uptime_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-device-uptime-2017">public.events_device_uptime_2017</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-diskspace-2016">public.events_diskspace_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-diskspace-2017">public.events_diskspace_2017</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs-1990">public.events_jobs_1990</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs-2014">public.events_jobs_2014</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs-2015">public.events_jobs_2015</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs-2016">public.events_jobs_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs-2017">public.events_jobs_2017</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-login-2017">public.events_login_2017</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-networkdevice-ping-2016">public.events_networkdevice_ping_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-networkdevice-ping-2017">public.events_networkdevice_ping_2017</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.attachments">attachments</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.attachments Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idattachment</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>file</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>md5</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#public.table.event-comments-attachments">public.event_comments_attachments</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.attention-group">attention_group</a>
		</h2>
        
         <p>Define los grupos de atencion</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.attention_group Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idattention_group</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>group</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.configuration-server">configuration_server</a>
		</h2>
        
         <p>Tabla de configuracion en JSON para el servidor</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.configuration_server Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idconfigserver</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>config_name</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>configuration</td>
            	<td>json</td>
                <td><i>
				

				NOT NULL
				
				</i>
				<br><br>Configuracion que sera usada por la aplicacion.
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.divisions">divisions</a>
		</h2>
        
         <p>Division, area, grupo empresarial, etc</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.divisions Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>iddivision</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>notes</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				NOT NULL
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#public.table.accounts">public.accounts__</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.groups">public.groups</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.emails">emails</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.emails Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idemail</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idcontact</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>email</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				NOT NULL
				DEFAULT 1
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>notify_if_administrator</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				<br><br>Habilita envio de email de notificacion a esta direccion de corre cuando el email corresponde a un usuario administrador del sistema
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.equipments">equipments</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.equipments Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>equipment</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>mark</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>model</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>serial_number</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				<br><br>Numero de serie que viene en el producto
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>installation_date</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>uninstall_date</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>code_ref</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				<br><br>Codigo para uso interno
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.accounts">public.accounts.idaccount</a>
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>operability</td>
            	<td>smallint</td>
                <td><i>
				

				
				DEFAULT 100
				</i>
				<br><br>Porcentage de operatividad del equipo
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idprovider</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>agreement_code_provider</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				<br><br>Numero de contrato, numero o codigo con que el proveedor nos conoce.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>report_validator</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				<br><br>Numero de validacion junto con el idequipment para aceptar eventos via http.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>eventtypes</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				<br><br>Tipos de eventos que se van a monitorear de este equipo.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcustodian</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>corresponde al Idcontact de quien esta a cargo de ese equipo.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>additional_properties</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#octopus.table.octopus-by-equipment">octopus.octopus_by_equipment</a></li>
			</ul>
		
		

    <!-- Indexes -->
    
       index_equipment_eq equipment
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.event-comments">event_comments</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.event_comments Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>ideventcomment</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>start</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>seconds</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>comment_event</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo es necesario para actualiza la tabla events cuando un comentario es ingresado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idcontact</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>Campo donde va registrado quien ingresa el cambio, idadmin ya no va porque lod contactos tambien ya pueden ingresar novedades y realizar cometarios.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_ec_idevent idevent
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.event-comments-2016">event_comments_2016</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.event_comments_2016 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>ideventcomment</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;event_comments_ideventcomment_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>start</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>seconds</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>comment_event</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo es necesario para actualiza la tabla events cuando un comentario es ingresado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idcontact</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.event_comments_2016 Inherits
        
            
           <a href="#public.table.event-comments">event_comments</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       event_comments_2016_idevent_idx idevent
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.event-comments-2017">event_comments_2017</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.event_comments_2017 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>ideventcomment</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;event_comments_ideventcomment_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>start</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>seconds</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>comment_event</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo es necesario para actualiza la tabla events cuando un comentario es ingresado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idcontact</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>Campo donde va registrado quien ingresa el cambio, idadmin ya no va porque lod contactos tambien ya pueden ingresar novedades y realizar cometarios.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.event_comments_2017 Inherits
        
            
           <a href="#public.table.event-comments">event_comments</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       event_comments_2017_idevent_idx idevent
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.event-comments-attachments">event_comments_attachments</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.event_comments_attachments Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>ideventcommentattach</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.attachments">public.attachments.idattachment</a>
                  
                
                  
                
                </td>
            	<td>idattachment</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.event-reception-modes">event_reception_modes</a>
		</h2>
        
         <p>Tipos de recepcion de eventos:
Puede ser:
GPRS
SMS
CALL
SYSTEM
LAN
VERBAL
ETC</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.event_reception_modes Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>mode</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>label_mode</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#public.table.events-2016">public.events_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-2017">public.events_2017</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-device-uptime-2016">public.events_device_uptime_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-device-uptime-2017">public.events_device_uptime_2017</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-diskspace-2016">public.events_diskspace_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-diskspace-2017">public.events_diskspace_2017</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs-1990">public.events_jobs_1990</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs-2014">public.events_jobs_2014</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs-2015">public.events_jobs_2015</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs-2016">public.events_jobs_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs-2017">public.events_jobs_2017</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-login-2017">public.events_login_2017</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-networkdevice-ping-2016">public.events_networkdevice_ping_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-networkdevice-ping-2017">public.events_networkdevice_ping_2017</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.event-statustypes">event_statustypes</a>
		</h2>
        
         <p>Lista de los tipos de estado de un evento:
- Asignado
- En espera
- Cerrado
- En atencion
- etc</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.event_statustypes Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>ideventstatustype</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>status</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>label_status</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>internal</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#public.table.events">public.events</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-2016">public.events_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-device-uptime-2016">public.events_device_uptime_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-diskspace-2016">public.events_diskspace_2016</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events">events</a>
		</h2>
        
         <p>Las notificaciones de los ecentos solo se muestran al usuario si su proiridad es &lt;= 20</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.event-statustypes">public.event_statustypes.ideventstatustype</a>
                  
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.accounts">public.accounts__.idcontact</a>
                  
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>idcontact de quien ingresa el evento, esto es creado para funcionalidad de mesa de ayuda ya que no solo administradores podran ingresar eventos, sino tambien usuarios.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				<br><br>Campo no debe ser editado manualmente, se actualiza segun el idstatustype, se crea para crear un indice que mejore el tiempo de busqueda de eventos abiertos.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>id del administrador que al momento tiene a cargo el evento
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_events_idaccideventt idaccount, ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-2015">events_2015</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_2015 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.accounts">public.accounts__.idcontact</a>
                  
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_2015 Inherits
        
            
           <a href="#public.table.events">events</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>public.events_2015 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>events_2015_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2015)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-2016">events_2016</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_2016 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.event-statustypes">public.event_statustypes.ideventstatustype</a>
                  
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.accounts">public.accounts__.idcontact</a>
                  
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.event-reception-modes">public.event_reception_modes.ideventreceptionmode</a>
                  
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_2016 Inherits
        
            
           <a href="#public.table.events">events</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>public.events_2016 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>events_2016_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2016)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_events_2016_idaccideventt idaccount, ideventtype
    
       index_events_2016_ideventstatustype_open ideventstatustype) WHERE (ideventstatustype = 0
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-2017">events_2017</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_2017 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>idcontact de quien ingresa el evento, esto es creado para funcionalidad de mesa de ayuda ya que no solo administradores podran ingresar eventos, sino tambien usuarios.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.event-reception-modes">public.event_reception_modes.ideventreceptionmode</a>
                  
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				<br><br>Campo no debe ser editado manualmente, se actualiza segun el idstatustype, se crea para crear un indice que mejore el tiempo de busqueda de eventos abiertos.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>id del administrador que al momento tiene a cargo el evento
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_2017 Inherits
        
            
           <a href="#public.table.events">events</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>public.events_2017 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>events_2017_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2017)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       events_2017_idaccount_ideventtype_idx idaccount, ideventtype
    
       index_events_2017_idaccideventt idaccount, ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-dbsizes">events_dbsizes</a>
		</h2>
        
         <p>Aqui no debe crearse el check de fecha ya que ese check se lo crea en cada tabla hija</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_dbsizes Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.accounts">public.accounts__.idcontact</a>
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>db_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>db_size</td>
            	<td>real</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>db_type</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_dbsizes Inherits
        
            
           <a href="#public.table.events">events</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-dbsizes-2015">events_dbsizes_2015</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_dbsizes_2015 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>db_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>db_size</td>
            	<td>real</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>db_type</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_dbsizes_2015 Inherits
        
            
           <a href="#public.table.events-dbsizes">events_dbsizes</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-dbsizes-2016">events_dbsizes_2016</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_dbsizes_2016 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.accounts">public.accounts__.idcontact</a>
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>db_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>db_size</td>
            	<td>real</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>db_type</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_dbsizes_2016 Inherits
        
            
           <a href="#public.table.events-dbsizes">events_dbsizes</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>public.events_dbsizes_2016 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>events_dbsizes_2016_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2016)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_events_dbsizes_2016_idaccideventt idaccount, ideventtype
    
       index_events_dbsizes_2016_ideventstatustype_open ideventstatustype) WHERE (ideventstatustype = 0
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-device-uptime">events_device_uptime</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_device_uptime Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.accounts">public.accounts__.idcontact</a>
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>uptime</td>
            	<td>real</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_device_uptime Inherits
        
            
           <a href="#public.table.events">events</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-device-uptime-2015">events_device_uptime_2015</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_device_uptime_2015 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>uptime</td>
            	<td>real</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_device_uptime_2015 Inherits
        
            
           <a href="#public.table.events-device-uptime">events_device_uptime</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-device-uptime-2016">events_device_uptime_2016</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_device_uptime_2016 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.event-statustypes">public.event_statustypes.ideventstatustype</a>
                  
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.accounts">public.accounts__.idcontact</a>
                  
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.event-reception-modes">public.event_reception_modes.ideventreceptionmode</a>
                  
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>uptime</td>
            	<td>real</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_device_uptime_2016 Inherits
        
            
           <a href="#public.table.events-device-uptime">events_device_uptime</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>public.events_device_uptime_2016 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>events_device_uptime_2016_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2016)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_events_device_uptime_2016_idaccideventt idaccount, ideventtype
    
       index_events_device_uptime_2016_ideventstatustype_open ideventstatustype) WHERE (ideventstatustype = 0
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-device-uptime-2017">events_device_uptime_2017</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_device_uptime_2017 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.event-reception-modes">public.event_reception_modes.ideventreceptionmode</a>
                  
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>uptime</td>
            	<td>real</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_device_uptime_2017 Inherits
        
            
           <a href="#public.table.events-device-uptime">events_device_uptime</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>public.events_device_uptime_2017 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>events_device_uptime_2017_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2017)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_events_device_uptime_2017_idaccideventt idaccount, ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-diskspace">events_diskspace</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_diskspace Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.accounts">public.accounts__.idcontact</a>
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>drive</td>
            	<td>character(3)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>drive_size</td>
            	<td>real</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>drive_free</td>
            	<td>real</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_diskspace Inherits
        
            
           <a href="#public.table.events">events</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-diskspace-2015">events_diskspace_2015</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_diskspace_2015 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>drive</td>
            	<td>character(3)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>drive_size</td>
            	<td>real</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>drive_free</td>
            	<td>real</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_diskspace_2015 Inherits
        
            
           <a href="#public.table.events-diskspace">events_diskspace</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>public.events_diskspace_2015 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>events_diskspace_check_ideventtype</td>
                <td>CHECK (((ideventtype = 62) OR (ideventtype = 52)))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-diskspace-2016">events_diskspace_2016</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_diskspace_2016 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.event-statustypes">public.event_statustypes.ideventstatustype</a>
                  
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.accounts">public.accounts__.idcontact</a>
                  
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.event-reception-modes">public.event_reception_modes.ideventreceptionmode</a>
                  
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>drive</td>
            	<td>character(3)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>drive_size</td>
            	<td>real</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>drive_free</td>
            	<td>real</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_diskspace_2016 Inherits
        
            
           <a href="#public.table.events-diskspace">events_diskspace</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>public.events_diskspace_2016 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>events_diskspace_2016_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2016)::double precision))</td>
            </tr>
			
            <tr class="tr1">
				<td>events_diskspace_check_ideventtype</td>
                <td>CHECK (((ideventtype = 62) OR (ideventtype = 52)))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_events_diskspace_2016_idaccideventt idaccount, ideventtype
    
       index_events_diskspace_2016_ideventstatustype_open ideventstatustype) WHERE (ideventstatustype = 0
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-diskspace-2017">events_diskspace_2017</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_diskspace_2017 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.event-reception-modes">public.event_reception_modes.ideventreceptionmode</a>
                  
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>drive</td>
            	<td>character(3)</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>drive_size</td>
            	<td>real</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>drive_free</td>
            	<td>real</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_diskspace_2017 Inherits
        
            
           <a href="#public.table.events-diskspace">events_diskspace</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>public.events_diskspace_2017 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>events_diskspace_2017_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2017)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_events_diskspace_2017_idaccideventt idaccount, ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-jobs">events_jobs</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_jobs Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.accounts">public.accounts__.idcontact</a>
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>job_enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>job_date_create</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_run_duration</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>job_run_status</td>
            	<td>smallint</td>
                <td><i>
				

				
				DEFAULT &#39;-10&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_next_run</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_jobs Inherits
        
            
           <a href="#public.table.events">events</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-jobs-1990">events_jobs_1990</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_jobs_1990 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.accounts">public.accounts__.idcontact</a>
                  
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.event-reception-modes">public.event_reception_modes.ideventreceptionmode</a>
                  
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>job_enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>job_date_create</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_run_duration</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>job_run_status</td>
            	<td>smallint</td>
                <td><i>
				

				
				DEFAULT &#39;-10&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_next_run</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_jobs_1990 Inherits
        
            
           <a href="#public.table.events-jobs">events_jobs</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>public.events_jobs_1990 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>events_jobs_1990_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (1990)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_events_jobs_1990_idaccideventt idaccount, ideventtype
    
       index_events_jobs_1990_ideventstatustype_open ideventstatustype) WHERE (ideventstatustype = 0
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-jobs-2014">events_jobs_2014</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_jobs_2014 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.event-reception-modes">public.event_reception_modes.ideventreceptionmode</a>
                  
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>job_enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>job_date_create</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_run_duration</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>job_run_status</td>
            	<td>smallint</td>
                <td><i>
				

				
				DEFAULT &#39;-10&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_next_run</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_jobs_2014 Inherits
        
            
           <a href="#public.table.events-jobs">events_jobs</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>public.events_jobs_2014 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>events_jobs_2014_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2014)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_events_jobs_2014_ideventstatustype_open ideventstatustype) WHERE (ideventstatustype = 0
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-jobs-2015">events_jobs_2015</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_jobs_2015 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.accounts">public.accounts__.idcontact</a>
                  
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.event-reception-modes">public.event_reception_modes.ideventreceptionmode</a>
                  
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>job_enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>job_date_create</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_run_duration</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>job_run_status</td>
            	<td>smallint</td>
                <td><i>
				

				
				DEFAULT &#39;-10&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_next_run</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_jobs_2015 Inherits
        
            
           <a href="#public.table.events-jobs">events_jobs</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>public.events_jobs_2015 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>events_jobs_2015_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2015)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_events_jobs_2015_idaccideventt idaccount, ideventtype
    
       index_events_jobs_2015_ideventstatustype_open ideventstatustype) WHERE (ideventstatustype = 0
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-jobs-2016">events_jobs_2016</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_jobs_2016 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.accounts">public.accounts__.idcontact</a>
                  
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.event-reception-modes">public.event_reception_modes.ideventreceptionmode</a>
                  
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>job_enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>job_date_create</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_run_duration</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>job_run_status</td>
            	<td>smallint</td>
                <td><i>
				

				
				DEFAULT &#39;-10&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_next_run</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_jobs_2016 Inherits
        
            
           <a href="#public.table.events-jobs">events_jobs</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>public.events_jobs_2016 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>events_jobs_2016_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2016)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_events_jobs_2016_idaccideventt idaccount, ideventtype
    
       index_events_jobs_2016_ideventstatustype_open ideventstatustype) WHERE (ideventstatustype = 0
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-jobs-2017">events_jobs_2017</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_jobs_2017 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.event-reception-modes">public.event_reception_modes.ideventreceptionmode</a>
                  
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>job_enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>job_date_create</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_run_duration</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>job_run_status</td>
            	<td>smallint</td>
                <td><i>
				

				
				DEFAULT &#39;-10&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_next_run</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_jobs_2017 Inherits
        
            
           <a href="#public.table.events-jobs">events_jobs</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>public.events_jobs_2017 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>events_jobs_2017_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2017)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_events_jobs_2017_idaccideventt idaccount, ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-last-idevent">events_last_idevent</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_last_idevent Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>uuidevent</td>
            	<td>uuid</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-login">events_login</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_login Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>idcontact de quien ingresa el evento, esto es creado para funcionalidad de mesa de ayuda ya que no solo administradores podran ingresar eventos, sino tambien usuarios.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ip</td>
            	<td>inet</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>useragent</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_login Inherits
        
            
           <a href="#public.table.events">events</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-login-2017">events_login_2017</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_login_2017 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				<br><br>idcontact de quien ingresa el evento, esto es creado para funcionalidad de mesa de ayuda ya que no solo administradores podran ingresar eventos, sino tambien usuarios.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.event-reception-modes">public.event_reception_modes.ideventreceptionmode</a>
                  
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ip</td>
            	<td>inet</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>useragent</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_login_2017 Inherits
        
            
           <a href="#public.table.events-login">events_login</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_events_login_2017_idaccideventt idaccount, ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-networkdevice-ping">events_networkdevice_ping</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_networkdevice_ping Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>roundtriptime</td>
            	<td>integer</td>
                <td><i>
				

				NOT NULL
				DEFAULT &#39;-100&#39;::integer
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_networkdevice_ping Inherits
        
            
           <a href="#public.table.events">events</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_events_networkdevice_ping_isopen isopen) WHERE (isopen = true
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-networkdevice-ping-2016">events_networkdevice_ping_2016</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_networkdevice_ping_2016 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.accounts">public.accounts__.idcontact</a>
                  
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.event-reception-modes">public.event_reception_modes.ideventreceptionmode</a>
                  
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>roundtriptime</td>
            	<td>integer</td>
                <td><i>
				

				NOT NULL
				DEFAULT &#39;-100&#39;::integer
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_networkdevice_ping_2016 Inherits
        
            
           <a href="#public.table.events-networkdevice-ping">events_networkdevice_ping</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>public.events_networkdevice_ping_2016 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>events_networkdevice_ping_2016_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2016)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_events_networkdevice_ping_2016_idaccideventt idaccount, ideventtype
    
       index_events_networkdevice_ping_2016_ideventstatustype_open ideventstatustype) WHERE (ideventstatustype = 0
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.events-networkdevice-ping-2017">events_networkdevice_ping_2017</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.events_networkdevice_ping_2017 Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;events_idevent_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventstatustype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este campo se actualiza automaticamente segun el estado del ultimo comentario ingresado para este evento.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                  
                  <a href="#public.table.eventtypes">public.eventtypes.ideventtype</a>
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.admins">public.admins.idadmin</a>
                  
                
                </td>
            	<td>idadmin</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				<br><br>IdAdmin del usuario que crea el evento, generalmente es el sistema quien ingresa el evento, por seguridad es necesario registrar si un administrador inserta un evento manualmente.

No se lo pone como llave foranea para no tener que crearlas en cada tabla heredada mas bien se hace la comprobacion antes de insertar en la tabla y de no existir se pone a null
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				<br><br>Fecha del ultimo comentario registrado.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.event-reception-modes">public.event_reception_modes.ideventreceptionmode</a>
                  
                
                </td>
            	<td>ideventreceptionmode</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>isopen</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin_assigned</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>roundtriptime</td>
            	<td>integer</td>
                <td><i>
				

				NOT NULL
				DEFAULT &#39;-100&#39;::integer
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.events_networkdevice_ping_2017 Inherits
        
            
           <a href="#public.table.events-networkdevice-ping">events_networkdevice_ping</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		
        <p>&nbsp;</p>
		<table width="100%" cellspacing="0" cellpadding="3">
            <caption>public.events_networkdevice_ping_2017 Constraints</caption>
            <tr>
            	<th>Name</th>
            	<th>Constraint</th>
            </tr>
			
            <tr class="tr0">
				<td>events_networkdevice_ping_2017_dateevent_check</td>
                <td>CHECK ((date_part(&#39;year&#39;::text, dateevent) = (2017)::double precision))</td>
            </tr>
			
		</table>
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       events_networkdevice_ping_2017_isopen_idx isopen) WHERE (isopen = true
    
       index_events_networkdevice_ping_2017_idaccideventt idaccount, ideventtype
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.eventtypes">eventtypes</a>
		</h2>
        
         <p>Tipos de eventos definidos para el sistema.
A partir del evento 1000 son definidos internamente por oams y no deben ser utilizados por el usuario.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.eventtypes Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>ideventtype</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>name</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				NOT NULL
				
				</i>
				<br><br>Nombre del evento
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT 100
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>treatment</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				<br><br>Requiere tratamiento por parte del operador
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>manual</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				<br><br>Puede ser creado el evento manualmente, la mayoria de los eventos deberian ser creados solo por un software y no generados a mano por razones de seguridad.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>date_editable</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				<br><br>Las fechas de los eventos NO deberian ser editables por razones de seguridda, a exepcion de las tareas que si podrian ser modificadas. 
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>notify_timeout</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT 10
				</i>
				<br><br>Tiempo que la notificacion sera visible para el usuario
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>notify_closable</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				<br><br>La notificacion puede ser cerrada por el usuario antes de que se cierre automaticamente una vez trascurrido el timeout.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>notify_img</td>
            	<td>text</td>
                <td><i>
				

				
				DEFAULT &#39;/notifications_media/img/dialog-error.png&#39;::text
				</i>
				<br><br>Imagen a ser  mostrada en la notificacion
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>notify_snd</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				<br><br>Sonido a ser escuchado cuando la notificacion es mostrada.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>label</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				NOT NULL
				
				</i>
				<br><br>Etiqueta que se mostrara en la interface grafica
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>code</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				NOT NULL
				
				</i>
				<br><br>Codigo de alarma
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>notify_all_users</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				<br><br>Muestra la notificacion de este evento a todos los usuarios  o solo al usuario que lo genera.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>expiration</td>
            	<td>integer</td>
                <td><i>
				

				NOT NULL
				DEFAULT 525600
				</i>
				<br><br>Tiempo en que el evento permanece en espera de sewr atendido antes de ser cerrado automaticamente por el sistema, en minutos.
De fabrica 525600 = 365 dias.
Se puede usar este campo para auto cerrar los eventos que no requieren tratamiento por parte del operador seteando en valor a 0.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>auto_close_on_event_defined</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				<br><br>Cierra el evento automaticamente si llega un evento con idevent listado en esta matriz.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enable_auto_close_on_event_defined</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.eventtypes-groups">public.eventtypes_groups.ideventtype_group</a>
                  
                
                </td>
            	<td>ideventtype_group</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				<br><br>Indica si este tipo de evento esta disponible
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>eventtype_attention_group</td>
            	<td>bigint[]</td>
                <td><i>
				

				
				
				</i>
				<br><br>Grupos de atencion, para poder identificar que grupo de administradores se le va a asignar la tarea.
Puede pertenecer a diferentes grupos de atencion.

				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#events.table.datas-000112">events.datas_000112</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-199001">events.datas_199001</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201504">events.datas_201504</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201506">events.datas_201506</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201508">events.datas_201508</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201509">events.datas_201509</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201510">events.datas_201510</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201511">events.datas_201511</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201610">events.datas_201610</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201701">events.datas_201701</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201704">events.datas_201704</a></li>
			</ul>
		
			<ul>
				<li><a href="#events.table.datas-201705">events.datas_201705</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events">public.events</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-2015">public.events_2015</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-2016">public.events_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-2017">public.events_2017</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-dbsizes">public.events_dbsizes</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-dbsizes-2016">public.events_dbsizes_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-device-uptime">public.events_device_uptime</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-device-uptime-2016">public.events_device_uptime_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-device-uptime-2017">public.events_device_uptime_2017</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-diskspace">public.events_diskspace</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-diskspace-2016">public.events_diskspace_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-diskspace-2017">public.events_diskspace_2017</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs">public.events_jobs</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs-1990">public.events_jobs_1990</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs-2014">public.events_jobs_2014</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs-2015">public.events_jobs_2015</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs-2016">public.events_jobs_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-jobs-2017">public.events_jobs_2017</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-login-2017">public.events_login_2017</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-networkdevice-ping-2016">public.events_networkdevice_ping_2016</a></li>
			</ul>
		
			<ul>
				<li><a href="#public.table.events-networkdevice-ping-2017">public.events_networkdevice_ping_2017</a></li>
			</ul>
		
		

    <!-- Indexes -->
    
       index_eventtypes code
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.eventtypes-groups">eventtypes_groups</a>
		</h2>
        
         <p>No esta siendo usada esta tabla</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.eventtypes_groups Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>ideventtype_group</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>group</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>is_status</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#public.table.eventtypes">public.eventtypes</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.farma-lista-precios-farmacias">farma_lista_precios_farmacias</a>
		</h2>
        
         <p>Tabla con la lista de precios de actuales de las farmacias</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.farma_lista_precios_farmacias Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idlista_precios</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>principal</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>activa</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>productos</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>status</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts_lista_farmacia</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>srv159_activa</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>srv159_productos</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>srv159_principal</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts_lista_srv159</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>sincronizado</td>
            	<td>text</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>provincia</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ip</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_farma_lista_precios_idaccount idaccount
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.file-links">file_links</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.file_links Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idfilelinks</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dateloadfile</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>path_file</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>name_file</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>size_file</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.groups">groups</a>
		</h2>
        
         <p>Grupos</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.groups Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idgroup</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>name</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.divisions">public.divisions.iddivision</a>
                  
                
                  
                
                </td>
            	<td>iddivision</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.identification-types">identification_types</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.identification_types Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>ididtype</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>name</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#contacts.table.contacts">contacts.contacts</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.network-devices">network_devices</a>
		</h2>
        
         <p>Equipos que funcionan en red o estan conectados a una red y disponen de direccion IP.</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.network_devices Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;equipments_idequipment_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                  
                
                </td>
            	<td>equipment</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				
					

					
                       UNIQUE#2
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>mark</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>model</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                  
                
                </td>
            	<td>serial_number</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				
					

					
                       UNIQUE#2
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>installation_date</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>uninstall_date</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>code_ref</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#2
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>operability</td>
            	<td>smallint</td>
                <td><i>
				

				
				DEFAULT 100
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idprovider</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>agreement_code_provider</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>report_validator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>eventtypes</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcustodian</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ip</td>
            	<td>inet</td>
                <td><i>
				

				
				
				</i>
				<br><br>Direccion IP
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>mac</td>
            	<td>macaddr</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				<br><br>MAC
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>network_access_method</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>connection_speed</td>
            	<td>real</td>
                <td><i>
				

				
				DEFAULT &#39;-100&#39;::integer
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>username</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>pwd</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>port</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>monitored</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>additional_properties</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.network_devices Inherits
        
            
           <a href="#public.table.equipments">equipments</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_network_devices_eq equipment
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.notification-area">notification_area</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.notification_area Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idnotify</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>urgency</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT 10
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>timeout</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT 15
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>closable</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>img</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>snd</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>title</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>body</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>sessionid</td>
            	<td>text</td>
                <td><i>
				

				
				DEFAULT &#39;all&#39;::text
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idadmins</td>
            	<td>bigint[]</td>
                <td><i>
				

				
				
				</i>
				<br><br>si esta vacio muestra las notificaciones a todos los usuarios, si contiene datos muestra unicamente a los administradores indicados.
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>detail_json</td>
            	<td>json</td>
                <td><i>
				

				
				
				</i>
				<br><br>Detalle de la notificacion en formato jSON
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.phone-providers">phone_providers</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.phone_providers Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idprovider</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enable</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>provider</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#public.table.phones">public.phones</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.phone-types">phone_types</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.phone_types Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idphonetype</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>type</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#public.table.phones">public.phones</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.phones">phones</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.phones Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idphone</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>idcontact</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				<br><br>Validar si existe este contacto hay que hacerlo manualmente ya que hay una tabla heredada accounts.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.phone-providers">public.phone_providers.idprovider</a>
                  
                
                </td>
            	<td>idprovider</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                  <a href="#public.table.phone-types">public.phone_types.idphonetype</a>
                  
                
                </td>
            	<td>idphonetype</td>
            	<td>integer</td>
                <td><i>
				
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>number</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>ext</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				DEFAULT &#39;&#39;::text
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT 10
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.providers">providers</a>
		</h2>
        
         <p>Lista de proveedores de productos y servicios</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.providers Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idcontact</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				DEFAULT nextval(&#39;contacts_idcontact_seq&#39;::regclass)
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>first_name</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>last_name</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>birthday</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>identification</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>ididtype</td>
            	<td>integer</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>postal_code</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>gender</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geox</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geoy</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>address</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>address_ref</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>groups</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>is_admin</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>admin_start</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				NOT NULL
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>admin_end</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				NOT NULL
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>admin_username</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE
                    
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>admin_pwd</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>admin_sessionid</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>admin_ip</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>admin_level</td>
            	<td>integer</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>product_or_service</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		
        <p>Table public.providers Inherits
        
            
           <a href="#contacts.table.contacts">contacts</a>, 
        
        </p>
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.table-modification-log">table_modification_log</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.table_modification_log Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idtablemodif</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>datetime_modif</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>table_name</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>schema_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    
       index_tml_tname_sname table_name, schema_name
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.udc-columns">udc_columns</a>
		</h2>
        
         <p>Detalle de columnas de cada tabla o vista</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.udc_columns Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                  <a href="#public.table.udc-tables-views">public.udc_tables_views.idtableview</a>
                  
                
                  
                
                </td>
            	<td>idtableview</td>
            	<td>bigint</td>
                <td><i>
				
					

					
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>column_name</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>data_type</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>column_default</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>column_label</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>column_width</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>column_decorator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>column_class</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_rendercell</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_formatter</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_classname</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>show</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>column_position</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT 999
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_editable</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_sortable</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_editon</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_resizable</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>field_iconclass</td>
            	<td>text</td>
                <td><i>
				

				
				DEFAULT &#39;glyphicon-pencil&#39;::text
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>field_placeholder</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_editor</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_autosave</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_autoselect</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_dismissonenter</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idcolumn</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_editor_args</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.udc-tables-columns">udc_tables_columns</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.udc_tables_columns Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>table_name</td>
            	<td>text</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>column_name</td>
            	<td>text</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>data_type</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>column_default</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>column_label</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>column_width</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>column_decorator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>column_class</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_rendercell</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				<br><br>renderCell(object, value, node)	

An optional function that will be called to render the value into the target cell. object refers to the record from the grid&#39;s collection for the row, and value refers to the specific value for the current cell (which may have been modified by the column definition&#39;s get function). node refers to the table cell that will be placed in the grid; if renderCell returns a node, that returned node will be placed inside the table cell. (Note: if a custom renderCell is specified, formatter will be ignored unless the custom renderCell accounts for it.)
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_formatter</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				<br><br>formatter(value, object)	

An optional function that will return a string of HTML for rendering. The function is passed the value that would normally be rendered, and the object from the collection. If formatterScope is used, this can be a string instead of a function, in which case a function will be looked up on the formatterScope object using the given string. (Note: if a custom renderCell is specified, formatter will be ignored unless the custom renderCell accounts for it.)
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_classname</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				<br><br>className	

CSS class(es) to assign to the cells in the column. The value of this property may be a string to apply equally to all cells in the column, or a function which is passed the item for each row (or undefined for the header row) and should return a string. In either case, multiple classes may be specified space-delimited. In addition, a class in the format field-&lt;field&gt; is added if the column has a field defined.
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>show</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>column_position</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT 999
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_editable</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.udc-tables-views">udc_tables_views</a>
		</h2>
        
         <p>Lista de tablas y propiedades para Grid</p>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.udc_tables_views Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>title_dgrid</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>row_selector_dgrid</td>
            	<td>boolean</td>
                <td><i>
				

				NOT NULL
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idtableview</td>
            	<td>bigint</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>tv_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				<br><br>Este Campo no es editable, se actualia automaticamente
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>add_button_enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>delete_button_enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>export_button_enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT false
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_selectionmode</td>
            	<td>text</td>
                <td><i>
				

				
				DEFAULT &#39;none&#39;::text
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_allowtextselection</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_deselectonrefresh</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_allowselectall</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		
			<p>Tables referencing this one via Foreign Key Constraints:</p>
		
			<ul>
				<li><a href="#public.table.udc-columns">public.udc_columns</a></li>
			</ul>
		
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-account-contacts">view_account_contacts</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_account_contacts Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccountuser</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>account</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geox</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geoy</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geolink</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>address</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>address_ref</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>first_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>last_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>contact_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>birthday</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>identification</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>appointment</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT account_contacts.idaccountuser
,
    account_contacts.ts
,
    account_contacts.idaccount
,
    accounts.enabled
,
    accounts.account
,
    accounts.account_name
,
    accounts.geox
,
    accounts.geoy
,
    
(
     (
           (
                 (
                       (
                             (
                                   (&#39;http://www.openstreetmap.org/?mlat=&#39;::text || accounts.geox) || &#39;&amp;mlon=&#39;::text
                             ) || accounts.geoy
                       ) || &#39;#map=19/&#39;::text
                 ) || accounts.geox
           ) || &#39;/&#39;::text
     ) || accounts.geoy
) AS geolink
,
    accounts.address
,
    accounts.address_ref
,
    account_contacts.idcontact
,
    contacts.first_name
,
    contacts.last_name
,
    
(
     (contacts.last_name || &#39; &#39;::text) || contacts.first_name
) AS contact_name
,
    contacts.birthday
,
    contacts.identification
,
    account_contacts.appointment
,
    account_contacts.priority
,
    account_contacts.note
   
FROM contacts.contacts
,
    account_contacts
,
    accounts
  
WHERE (
     (account_contacts.idcontact = contacts.idcontact)
   AND (accounts.idaccount = account_contacts.idaccount)
)
  
ORDER BY account_contacts.priority;</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-account-network-devices">view_account_network_devices</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_account_network_devices Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>account_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccountstate</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idaccounttype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>iddivision</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geox</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geoy</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>identification</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>equipment</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>mark</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>model</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>serial_number</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ip</td>
            	<td>inet</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>code_ref</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>mac</td>
            	<td>macaddr</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>username</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>pwd</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>port</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>monitored</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>report_validator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT accounts.idaccount
,
    accounts.enabled
,
    accounts.account_name
,
    accounts.account
,
    accounts.idaccountstate
,
    accounts.idaccounttype
,
    accounts.iddivision
,
    accounts.geox
,
    accounts.geoy
,
    accounts.identification
,
    network_devices.idequipment
,
    network_devices.equipment
,
    network_devices.mark
,
    network_devices.model
,
    network_devices.serial_number
,
    network_devices.description
,
    network_devices.ip
,
    network_devices.code_ref
,
    network_devices.mac
,
    network_devices.username
,
    network_devices.pwd
,
    network_devices.port
,
    network_devices.monitored
,
    network_devices.report_validator
   
FROM accounts
,
    network_devices
  
WHERE (accounts.idaccount = network_devices.idaccount);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-account-users">view_account_users</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_account_users Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>account_identification</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idaccountuser</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idcontact</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>user_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>identification</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>appointment</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account_user</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>account_pwd</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT accounts.idaccount
,
    accounts.account
,
    accounts.enabled
,
    accounts.account_name
,
    accounts.identification AS account_identification
,
    account_users.idaccountuser
,
    account_users.idcontact
,
    
(
     (contacts.last_name || &#39; &#39;::text) || contacts.first_name
) AS user_name
,
    contacts.identification
,
    account_users.appointment
,
    account_users.priority
,
    account_users.account_user
,
    account_users.account_pwd
   
FROM accounts
,
    account_users
,
    contacts.contacts
  
WHERE (
     (accounts.idaccount = account_users.idaccount)
   AND (account_users.idcontact = contacts.idcontact)
)
  
ORDER BY account_users.priority;</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-accounts">view_accounts</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_accounts Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>identification</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ididtype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>identification_type</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>iddivision</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>account_division</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>postal_code</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geox</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geoy</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>address</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>address_ref</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccountstate</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idaccounttype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>account_type</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>start_date</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>end_date</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT accounts.idaccount
,
    accounts.ts
,
    accounts.enabled
,
    accounts.account_name
,
    accounts.identification
,
    accounts.ididtype
,
    identification_types.name AS identification_type
,
    accounts.iddivision
,
    divisions.name AS account_division
,
    accounts.postal_code
,
    accounts.geox
,
    accounts.geoy
,
    accounts.address
,
    accounts.address_ref
,
    accounts.idaccountstate
,
    accounts.idaccounttype
,
    account_types.type AS account_type
,
    accounts.start_date
,
    accounts.end_date
,
    accounts.account
,
    accounts.note
   
FROM (
     (
           (accounts
     
              JOIN divisions 
                ON (
                       (accounts.iddivision = divisions.iddivision)
                 )
           )
     
        JOIN account_types 
          ON (
                 (accounts.idaccounttype = account_types.idaccounttype)
           )
     )
     
  JOIN identification_types 
    ON (
           (accounts.ididtype = identification_types.ididtype)
     )
);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-accounts-contacts-admins">view_accounts_contacts_admins</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_accounts_contacts_admins Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccountuser</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idcontact</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>contact_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>appointment</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT 0 AS idaccountuser
,
    accounts__.idcontact AS idaccount
,
    view_admins.idcontact
,
    view_admins.contact_name
,
    view_admins.appointment
,
    0 AS priority
   
FROM accounts__
,
    view_admins
  
WHERE (
     (view_admins.idadmin = ANY 
           (accounts__.admins)
     )
   AND (view_admins.enabled = true)
)
UNION
 
SELECT account_contacts.idaccountuser
,
    account_contacts.idaccount
,
    account_contacts.idcontact
,
    
(
     (contacts.last_name || &#39; &#39;::text) || contacts.first_name
) AS contact_name
,
    account_contacts.appointment
,
    account_contacts.priority
   
FROM contacts.contacts
,
    account_contacts
,
    accounts__
  
WHERE (
     (account_contacts.idcontact = contacts.idcontact)
   AND (accounts__.idcontact = account_contacts.idaccount)
);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-accounts-oams-assigned">view_accounts_oams_assigned</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_accounts_oams_assigned Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccountuser</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geox</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geoy</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geolink</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>address</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>address_ref</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idcontact</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>first_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>last_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>contact_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>birthday</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>identification</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>appointment</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT view_account_contacts.idaccountuser
,
    view_account_contacts.ts
,
    view_account_contacts.idaccount
,
    view_account_contacts.account
,
    view_account_contacts.enabled
,
    view_account_contacts.account_name
,
    view_account_contacts.geox
,
    view_account_contacts.geoy
,
    view_account_contacts.geolink
,
    view_account_contacts.address
,
    view_account_contacts.address_ref
,
    view_account_contacts.idcontact
,
    view_account_contacts.first_name
,
    view_account_contacts.last_name
,
    view_account_contacts.contact_name
,
    view_account_contacts.birthday
,
    view_account_contacts.identification
,
    view_account_contacts.appointment
,
    view_account_contacts.priority
,
    view_account_contacts.note
   
FROM view_account_contacts
  
WHERE (view_account_contacts.appointment = &#39;Tcnico Responsable&#39;::text);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-accounts-users-pwd">view_accounts_users_pwd</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_accounts_users_pwd Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled_account</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled_user</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>identification</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idcontact</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account_user</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>account_pwd</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>appointment</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT accounts.idaccount
,
    accounts.enabled AS enabled_account
,
    account_users.enabled AS enabled_user
,
    accounts.account_name
,
    accounts.identification
,
    accounts.account
,
    account_users.idcontact
,
    account_users.account_user
,
    account_users.account_pwd
,
    account_users.appointment
   
FROM accounts
,
    account_users
  
WHERE (accounts.idaccount = account_users.idaccount);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-admins">view_admins</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_admins Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idcontact</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>contact_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>appointment</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>birthday</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>identification</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ididtype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>gender</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>address</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>groups</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idadmin</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>admin_start</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>admin_end</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>admin_username</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>admin_pwd</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>admin_sessionid</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>admin_ip</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>admin_level</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>admin_role</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>admin_locked_date</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>admin_failed_access_attempts</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>last_access</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_heartbeat</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>logged</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT contacts.idcontact
,
    
(
     (contacts.last_name || &#39; &#39;::text) || contacts.first_name
) AS contact_name
,
    admins.appointment
,
    contacts.birthday
,
    contacts.identification
,
    contacts.ididtype
,
    contacts.gender
,
    contacts.address
,
    contacts.groups
,
    admins.idadmin
,
    admins.enabled
,
    admins.admin_start
,
    admins.admin_end
,
    admins.admin_username
,
    admins.admin_pwd
,
    admins.admin_sessionid
,
    admins.admin_ip
,
    admins.admin_level
,
    admins.admin_role
,
    admins.admin_locked_date
,
    admins.admin_failed_access_attempts
,
    admins.last_access
,
    admins.last_heartbeat
,
        CASE
            WHEN 
(admins.admin_sessionid IS NULL) THEN false
            WHEN 
(length
     (admins.admin_sessionid) &lt; 32
) THEN false
            ELSE true
        END AS logged
   
FROM admins
,
    contacts.contacts
  
WHERE (contacts.idcontact = admins.idcontact);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-contact-groups-they-belong">view_contact_groups_they_belong</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_contact_groups_they_belong Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idcontact</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idgroup</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ismember</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT fun_view_contact_groups_they_belong.idcontact
,
    fun_view_contact_groups_they_belong.idgroup
,
    fun_view_contact_groups_they_belong.ts
,
    fun_view_contact_groups_they_belong.ismember
,
    fun_view_contact_groups_they_belong.enabled
,
    fun_view_contact_groups_they_belong.name
,
    fun_view_contact_groups_they_belong.description
,
    fun_view_contact_groups_they_belong.note
   
FROM fun_view_contact_groups_they_belong
(
     (0)::bigint
) fun_view_contact_groups_they_belong
(idcontact
     , idgroup
     , ts
     , ismember
     , enabled
     , name
     , description
     , note
);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-contacts">view_contacts</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_contacts Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idcontact</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>contact_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>birthday</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>identification</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ididtype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>postal_code</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>gender</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>geox</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>geoy</td>
            	<td>double precision</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>address</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>address_ref</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>groups</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT contacts.idcontact
,
    contacts.ts
,
    contacts.enabled
,
    
(
     (contacts.last_name || &#39; &#39;::text) || contacts.first_name
) AS contact_name
,
    contacts.birthday
,
    contacts.identification
,
    contacts.ididtype
,
    contacts.postal_code
,
    contacts.gender
,
    contacts.geox
,
    contacts.geoy
,
    contacts.address
,
    contacts.address_ref
,
    contacts.groups
,
    contacts.note
   
FROM contacts.contacts;</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-equipments">view_equipments</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_equipments Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>account</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccounttype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>accounttype</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>identification</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>code_ref</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>equipment</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>mark</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>model</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>serial_number</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>installation_date</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>uninstall_date</td>
            	<td>timestamp without time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>operability</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>oams_assigned</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccountstate</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idprovider</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>agreement_code_provider</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT accounts.idaccount
,
    accounts.enabled
,
    accounts.account
,
    accounts.account_name
,
    accounts.idaccounttype
,
    
(
SELECT account_types.type
           
  FROM account_types
          
 WHERE (account_types.idaccounttype = accounts.idaccounttype)
) AS accounttype
,
    accounts.identification
,
    equipments.code_ref
,
    equipments.equipment
,
    equipments.mark
,
    equipments.model
,
    equipments.serial_number
,
    equipments.description
,
    equipments.installation_date
,
    equipments.uninstall_date
,
    equipments.operability
,
    equipments.note
,
    
(
SELECT string_agg
     (
           (
            SELECT (
                       (contacts.last_name || &#39; &#39;::text) || contacts.first_name
                 ) AS n
                   
              FROM contacts.contacts
                  
             WHERE (contacts.idcontact = account_contacts.idcontact)
           )
           ,&#39;, &#39;::text
     ) AS string_agg
           
  FROM account_contacts
          
 WHERE (
           (account_contacts.idaccount = accounts.idaccount)
         AND (account_contacts.appointment = &#39;Tcnico Responsable&#39;::text)
     )
) AS oams_assigned
,
    accounts.idaccountstate
,
    equipments.idequipment
,
    equipments.idprovider
,
    equipments.agreement_code_provider
   
FROM accounts
,
    equipments
  
WHERE (accounts.idaccount = equipments.idaccount);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-event-login-report">view_event_login_report</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_event_login_report Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>label_event</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>name_event</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idcontact_user</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>fullname</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ip</td>
            	<td>inet</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>useragent</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT events_login.idevent
,
    events_login.dateevent
,
    events_login.ideventtype
,
    eventtypes.label AS label_event
,
    eventtypes.name AS name_event
,
    events_login.description
,
    events_login.idcontact_user
,
    
(
     (contacts.last_name || &#39; &#39;::text) || contacts.first_name
) AS fullname
,
    events_login.ip
,
    events_login.useragent
   
FROM events_login
,
    contacts.contacts
,
    eventtypes
  
WHERE (
     (events_login.ideventtype = eventtypes.ideventtype)
   AND (events_login.idcontact_user = contacts.idcontact)
)
  
ORDER BY events_login.dateevent DESC
 LIMIT 500;</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-events-jobs">view_events_jobs</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_events_jobs Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>status</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>status_label</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>job_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>job_run_duration</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>last_comment</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>account</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>label</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>oams_assigned</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT events_jobs.idevent
,
    events_jobs.dateevent
,
    events_jobs.ideventstatustype AS status
,
    fun_event_status_get_label
(events_jobs.ideventstatustype) AS status_label
,
    events_jobs.idaccount
,
    events_jobs.zu
,
    events_jobs.priority
,
    events_jobs.ideventtype
,
    events_jobs.idequipment
,
    events_jobs.description
,
    events_jobs.job_name
,
    events_jobs.job_run_duration
,
    events_jobs.last_comment
,
    
(
     (accounts__.last_name || &#39; &#39;::text) || accounts__.first_name
) AS account_name
,
    accounts__.account
,
    eventtypes.label
,
    
(
SELECT string_agg
     (
           (
            SELECT (
                       (contacts.last_name || &#39; &#39;::text) || contacts.first_name
                 ) AS n
                   
              FROM contacts.contacts
                  
             WHERE (contacts.idcontact = account_contacts.idcontact)
           )
           ,&#39;, &#39;::text
     ) AS string_agg
           
  FROM account_contacts
          
 WHERE (
           (account_contacts.idaccount = events_jobs.idaccount)
         AND (account_contacts.appointment = &#39;Tcnico Responsable&#39;::text)
     )
) AS oams_assigned
   
FROM events_jobs
,
    accounts__
,
    eventtypes
  
WHERE (
     (events_jobs.idaccount = accounts__.idcontact)
   AND (events_jobs.ideventtype = eventtypes.ideventtype)
)
  
ORDER BY events_jobs.dateevent DESC
, events_jobs.idevent DESC;</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-events-last-by-ideventtype">view_events_last_by_ideventtype</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_events_last_by_ideventtype Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT y.idevent
,
    y.ideventtype
,
    y.zu
,
    y.idaccount
,
    y.idequipment
,
    y.dateevent
   
FROM (
SELECT events.idevent
     ,
            events.ideventtype
     ,
            events.zu
     ,
            events.idaccount
     ,
            events.idequipment
     ,
            events.dateevent
     ,
            max
     (events.dateevent) OVER 
     (PARTITI
          ON BY events.ideventtype
           , events.zu
           , events.idaccount
     ) AS de
           
  FROM events
) y
  
WHERE (y.dateevent = y.de)
  
ORDER BY y.ideventtype
, y.zu
, y.idaccount;</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-events-monitor">view_events_monitor</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_events_monitor Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>status</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>status_label</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>account_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>label</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>oams_assigned</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT events.idevent
,
    events.dateevent
,
    events.ideventstatustype AS status
,
    fun_event_status_get_label
(events.ideventstatustype) AS status_label
,
    events.idaccount
,
    events.zu
,
    events.priority
,
    events.ideventtype
,
    events.idequipment
,
    events.description
,
    
(
     (accounts__.last_name || &#39; &#39;::text) || accounts__.first_name
) AS account_name
,
    accounts__.account
,
    eventtypes.label
,
    
(
SELECT string_agg
     (view_admins.contact_name
           ,&#39; | &#39;::text
     ) AS c
           
  FROM view_admins
          
 WHERE (view_admins.idadmin = ANY 
           (accounts__.admins)
     )
) AS oams_assigned
   
FROM events
,
    accounts__
,
    eventtypes
  
WHERE (
     (events.ideventstatustype = 0)
   AND (events.idaccount = accounts__.idcontact)
   AND (events.ideventtype = eventtypes.ideventtype)
)
  
ORDER BY events.dateevent DESC
, events.idevent DESC;</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-events-monitor-general">view_events_monitor_general</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_events_monitor_general Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>status</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>status_label</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>account_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>label</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>admin_assigned</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT events.idevent
,
    events.dateevent
,
    events.ideventstatustype AS status
,
    fun_event_status_get_label
(events.ideventstatustype) AS status_label
,
    events.idaccount
,
    events.zu
,
    events.priority
,
    events.ideventtype
,
    events.idequipment
,
    events.description
,
    
(
     (accounts__.last_name || &#39; &#39;::text) || accounts__.first_name
) AS account_name
,
    accounts__.account
,
    eventtypes.label
,
    
(
SELECT string_agg
     (view_admins.contact_name
           ,&#39; | &#39;::text
     ) AS c
           
  FROM view_admins
          
 WHERE (view_admins.idadmin = ANY 
           (accounts__.admins)
     )
) AS admin_assigned
   
FROM events
,
    accounts__
,
    eventtypes
  
WHERE (
     (events.ideventstatustype = 0)
   AND (events.idaccount = accounts__.idcontact)
   AND (events.ideventtype = eventtypes.ideventtype)
)
  
ORDER BY events.dateevent DESC
, events.idevent DESC;</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-events-monitor-network-devices">view_events_monitor_network_devices</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_events_monitor_network_devices Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idcontact</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>account_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>identification</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>account</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ididtype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccountstate</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idaccounttype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>iddivision</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>idequipment</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>monitored</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>equipment_enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>equipment</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>mark</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>model</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>equipment_description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idprovider</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>agreement_code_provider</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ip</td>
            	<td>inet</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>report_validator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>loaded</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>status</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>status_label</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>priority</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>label</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>admins</td>
            	<td>bigint[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>admin_assigned</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT accounts__.idcontact
,
    accounts__.enabled
,
    
(
     (accounts__.last_name || &#39; &#39;::text) || accounts__.first_name
) AS account_name
,
    accounts__.identification
,
    accounts__.account
,
    accounts__.ididtype
,
    accounts__.idaccountstate
,
    accounts__.idaccounttype
,
    accounts__.iddivision
,
    events.idequipment
,
    network_devices.monitored
,
    network_devices.enabled AS equipment_enabled
,
    network_devices.equipment
,
    network_devices.mark
,
    network_devices.model
,
    network_devices.description AS equipment_description
,
    network_devices.idprovider
,
    network_devices.agreement_code_provider
,
    network_devices.ip
,
    network_devices.report_validator
,
    events.loaded
,
    events.dateevent
,
    events.ideventstatustype AS status
,
    fun_event_status_get_label
(events.ideventstatustype) AS status_label
,
    events.priority
,
    events.ideventtype
,
    eventtypes.label
,
    events.description
,
    events.zu
,
    accounts__.admins
,
    
(
SELECT string_agg
     (view_admins.contact_name
           ,&#39; | &#39;::text
     ) AS c
           
  FROM view_admins
          
 WHERE (view_admins.idadmin = ANY 
           (accounts__.admins)
     )
) AS admin_assigned
   
FROM network_devices
,
    events
,
    accounts__
,
    eventtypes
  
WHERE (
     (network_devices.idequipment = events.idequipment)
   AND (accounts__.idcontact = network_devices.idaccount)
   AND (events.ideventtype = eventtypes.ideventtype)
   AND (events.ideventstatustype = 0)
)
  
ORDER BY events.dateevent DESC
, events.idevent DESC;</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-events-with-eventtypes-detail">view_events_with_eventtypes_detail</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_events_with_eventtypes_detail Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idevent</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateevent</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>status</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>zu</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ideventtype</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enable_auto_close_on_event_defined</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>auto_close_on_event_defined</td>
            	<td>integer[]</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT events.idevent
,
    events.dateevent
,
    events.ideventstatustype AS status
,
    events.zu
,
    events.idaccount
,
    events.ideventtype
,
    eventtypes.enable_auto_close_on_event_defined
,
    eventtypes.auto_close_on_event_defined
   
FROM events
,
    eventtypes
  
WHERE (
     (eventtypes.ideventtype = events.ideventtype)
   AND (events.ideventstatustype = 0)
   AND (eventtypes.enable_auto_close_on_event_defined = true)
);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-eventtypes-to-client">view_eventtypes_to_client</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_eventtypes_to_client Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ideventtype</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>label</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT eventtypes.ideventtype
,
    eventtypes.label
   
FROM eventtypes
  
WHERE (eventtypes.manual = true);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-farma-lista-precios">view_farma_lista_precios</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_farma_lista_precios Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idaccount</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>iddivision</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>account</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts_farmacia</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ts_server159</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>account_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>address</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>tecnico</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>srv159_principal</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>srv159_activa</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>srv159_productos</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>principal</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>activa</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>productos</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>estado</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>sincronizado</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>provincia</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ip</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT fun_view_farma_lista_precios.idaccount
,
    fun_view_farma_lista_precios.iddivision
,
    fun_view_farma_lista_precios.account
,
    fun_view_farma_lista_precios.ts_farmacia
,
    fun_view_farma_lista_precios.ts_server159
,
    fun_view_farma_lista_precios.account_name
,
    fun_view_farma_lista_precios.address
,
    fun_view_farma_lista_precios.tecnico
,
    fun_view_farma_lista_precios.note
,
    fun_view_farma_lista_precios.srv159_principal
,
    fun_view_farma_lista_precios.srv159_activa
,
    fun_view_farma_lista_precios.srv159_productos
,
    fun_view_farma_lista_precios.principal
,
    fun_view_farma_lista_precios.activa
,
    fun_view_farma_lista_precios.productos
,
    fun_view_farma_lista_precios.estado
,
    fun_view_farma_lista_precios.sincronizado
,
    fun_view_farma_lista_precios.provincia
,
    fun_view_farma_lista_precios.ip
   
FROM fun_view_farma_lista_precios
() fun_view_farma_lista_precios
(idaccount
     , iddivision
     , account
     , ts_farmacia
     , ts_server159
     , account_name
     , address
     , tecnico
     , note
     , srv159_principal
     , srv159_activa
     , srv159_productos
     , principal
     , activa
     , productos
     , estado
     , sincronizado
     , provincia
     , ip
);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-last-modif-tables">view_last_modif_tables</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_last_modif_tables Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>table_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>schema_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idtablemodif</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>datetime_modif</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>tschema_tname</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT DISTINCT 
ON (table_modification_log.schema_name
     , table_modification_log.table_name
) table_modification_log.table_name
,
    table_modification_log.schema_name
,
    table_modification_log.idtablemodif
,
    table_modification_log.datetime_modif
,
    
(
     (table_modification_log.schema_name || &#39;.&#39;::text) || table_modification_log.table_name
) AS tschema_tname
   
FROM table_modification_log
  
ORDER BY table_modification_log.schema_name
, table_modification_log.table_name
, table_modification_log.idtablemodif DESC;</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-table-schema">view_table_schema</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_table_schema Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>hash_num</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>tschema_tname</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>table_schema</td>
            	<td>information_schema.sql_identifier</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>table_name</td>
            	<td>information_schema.sql_identifier</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>column_name</td>
            	<td>information_schema.sql_identifier</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>data_type</td>
            	<td>information_schema.character_data</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>column_default</td>
            	<td>information_schema.character_data</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT md5
(
     (
           (
                 (columns.table_schema)::text || 
                 (columns.table_name)::text
           ) || 
           (columns.column_name)::text
     )
) AS hash_num
,
    
(
     (
           (columns.table_schema)::text || &#39;.&#39;::text
     ) || 
     (columns.table_name)::text
) AS tschema_tname
,
    columns.table_schema
,
    columns.table_name
,
    columns.column_name
,
    columns.data_type
,
    columns.column_default
   
FROM information_schema.columns
  
WHERE (
     (columns.table_schema)::text = ANY 
     (ARRAY[
           (&#39;public&#39;::character varying)::text
           , (&#39;events&#39;::character varying)::text
           , (&#39;scheduled_tasks&#39;::character varying)::text
           , (&#39;gui&#39;::character varying)::text]
     )
);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>View:
			
			<a href="#public.schema">public</a>.<a name="public.view.view-udc-tables-views">view_udc_tables_views</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.view_udc_tables_views Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>idtableview</td>
            	<td>bigint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>label_dgrid</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>row_selector_dgrid</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>column_name</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>data_type</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>column_default</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>column_label</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>column_width</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>column_decorator</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>column_class</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_rendercell</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_formatter</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dgrid_classname</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>show</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>column_position</td>
            	<td>integer</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>dgrid_editable</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	
	<pre>
SELECT udc_tables_views.idtableview
,
    udc_tables_views.title_dgrid AS label_dgrid
,
    udc_tables_views.row_selector_dgrid
,
    udc_columns.column_name
,
    udc_columns.data_type
,
    udc_columns.column_default
,
    udc_columns.column_label
,
    udc_columns.column_width
,
    udc_columns.ts
,
    udc_columns.column_decorator
,
    udc_columns.column_class
,
    udc_columns.dgrid_rendercell
,
    udc_columns.dgrid_formatter
,
    udc_columns.dgrid_classname
,
    udc_columns.show
,
    udc_columns.column_position
,
    udc_columns.dgrid_editable
   
FROM udc_columns
,
    udc_tables_views
  
WHERE (udc_tables_views.idtableview = udc_columns.idtableview);</pre>
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	
        <hr>
		<h2>Table:
			
			<a href="#public.schema">public</a>.<a name="public.table.xmpps">xmpps</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>public.xmpps Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idxmpp</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idcontact</td>
            	<td>bigint</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                  
                
                </td>
            	<td>account</td>
            	<td>text</td>
                <td><i>
				
					

					
                       UNIQUE#1
                    
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				DEFAULT true
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>footprint_row</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>note</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#public.schema">Schema public</a>
    </p>
	

	<!-- We've gone through the table structure, now lets take a look at user functions -->
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.accounts-insert-update">accounts_insert_update()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        <p>Realiza validacion de datos antes de insertar en la tabla.</p>
        <pre>BEGIN

-- Si la fecha de fin es NULL se la setea a la fecha de inicio + 10 aos
IF NEW.end_date &lt; NEW.start_date OR NEW.end_date IS NULL THEN  
NEW.end_date := NEW.start_date+ interval &#39;15 year&#39;;
END IF;  

-- Cuando se inserta o actualiza un registro se verifica que no haya un numero de cuenta igual, caso contrario devuelve uno disponible
CASE 
    WHEN TG_OP = &#39;INSERT&#39; THEN

    IF NEW.iddivision IS NULL AND EXISTS(SELECT iddivision FROM divisions WHERE iddivision = 0) THEN
	NEW.iddivision := 0;
      END IF;
      
        NEW.account := fun_account_auto_account(NEW.account, NEW.iddivision);

    WHEN TG_OP = &#39;UPDATE&#39; AND EXISTS(SELECT idcontact FROM accounts WHERE idcontact != NEW.idcontact AND account = NEW.account AND iddivision = NEW.iddivision) THEN
        NEW.account := fun_account_auto_account(NEW.account, NEW.iddivision);
    ELSE
      --  msg := &#39;other value than one or two&#39;;
END CASE;

--NEW.note := TG_WHEN;

NEW.admins := ARRAY(SELECT DISTINCT UNNEST(NEW.admins::INTEGER[]) ORDER BY 1);
-- TODO Verificar que los grupos ingresados pertenescan a el iddivision registrado, caso contrario eliminarlos
NEW.groups := ARRAY(SELECT DISTINCT UNNEST(NEW.groups::INTEGER[]) ORDER BY 1);

-- setea end_date = a start_date si la fecha end_date es menor que start_date
IF NEW.end_date &lt; NEW.start_date THEN  
NEW.end_date := NEW.start_date;
END IF;    


	
RETURN NEW;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.admins-insert-update">admins_insert_update()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>BEGIN


--  Creamos un username si no es proporcionado
IF NEW.admin_username IS NULL OR LENGTH(NEW.admin_username) &lt; 1 THEN
--NEW.admin_username :=  NEW.identification; 

SELECT identification INTO NEW.admin_username FROM contacts WHERE idcontact = NEW.idcontact;
END IF;

-- creamos una clave igual al md5 del user_name si no es proporcionada.
IF NEW.admin_pwd IS NULL OR LENGTH(NEW.admin_pwd) &lt; 1 THEN
 NEW.admin_pwd := md5(NEW.admin_username::TEXT); 
END IF;

/*
-- Clave como md5
IF TG_OP = &#39;UPDATE&#39; THEN
NEW.admin_pwd := md5(NEW.admin_pwd::TEXT);
END IF;
*/

-- setea end_date = a start_date si la fecha end_date es menor que start_date
IF NEW.admin_end &lt; NEW.admin_start OR NEW.admin_end IS NULL THEN  
NEW.admin_end := NEW.admin_start+ interval &#39;1 year&#39;;
END IF;  

RETURN NEW;
END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.admins-update-admin-pwd">admins_update_admin_pwd()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>BEGIN

-- creamos una clave igual al md5 del numero de identificacion si no es proporcionada.
IF NEW.admin_pwd IS NULL OR LENGTH(NEW.admin_pwd) &lt; 1 THEN
NEW.admin_pwd := md5(NEW.identification::TEXT);
END IF;

-- Clave como md5
IF TG_OP = &#39;UPDATE&#39; THEN
NEW.admin_pwd := md5(NEW.admin_pwd::TEXT);
END IF;


RETURN NEW;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.contacts-insert-update">contacts_insert_update()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>BEGIN

-- Si no se ha ingresado el campo identification se crea uno automaticamente
IF NEW.identification IS NULL THEN
NEW.identification :=  md5(extract(epoch FROM now())::TEXT);
END IF;
/*
IF NEW.is_admin IS TRUE THEN

--  Creamos un username si no es proporcionado
IF NEW.admin_username IS NULL OR LENGTH(NEW.admin_username) &lt; 1 THEN
NEW.admin_username :=  NEW.identification;
END IF;


-- creamos una clave igual al md5 del numero de identificacion si no es proporcionada.
IF NEW.admin_pwd IS NULL OR LENGTH(NEW.admin_pwd) &lt; 1 THEN
NEW.admin_pwd := md5(NEW.identification::TEXT);
END IF;

-- Clave como md5
IF TG_OP = &#39;UPDATE&#39; THEN
NEW.admin_pwd := md5(NEW.admin_pwd::TEXT);
END IF;


-- setea end_date = a start_date si la fecha end_date es menor que start_date
IF NEW.admin_end &lt; NEW.admin_start OR NEW.admin_end IS NULL THEN  
NEW.admin_end := NEW.admin_start+ interval &#39;1 year&#39;;
END IF;  

END IF;
*/

/*
INSERT INTO contacts(
            idcontact, ts, enabled, first_name, last_name, birthday, identification, 
            ididtype, postal_code, gender, geox, geoy, note, address, address_ref, 
            is_admin, admin_start, admin_end, admin_username, admin_pwd, 
            admin_sessionid, admin_ip, admin_level)
    VALUES (?, ?, ?, ?, ?, ?, ?, 
            ?, ?, ?, ?, ?, ?, ?, ?, 
            ?, ?, ?, ?, ?, 
            ?, ?, ?);
            */
--NEW.ts := now();

RETURN NEW;
END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.contacts-update-admin-pwd">contacts_update_admin_pwd()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        <p>Devuelve el md5 de la clave ingresada cuando se actualiza.</p>
        <pre>BEGIN

-- creamos una clave igual al md5 del numero de identificacion si no es proporcionada.
IF NEW.admin_pwd IS NULL OR LENGTH(NEW.admin_pwd) &lt; 1 THEN
NEW.admin_pwd := md5(NEW.identification::TEXT);
END IF;

-- Clave como md5
IF TG_OP = &#39;UPDATE&#39; THEN
NEW.admin_pwd := md5(NEW.admin_pwd::TEXT);
END IF;


RETURN NEW;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.equipment-insert-update">equipment_insert_update()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>BEGIN

IF NEW.serial_number IS NULL OR  LENGTH(NEW.serial_number) &lt; 1 THEN
NEW.serial_number :=  md5(extract(epoch FROM now())::TEXT||random()::TEXT);
END IF;

IF NEW.code_ref IS NULL OR  LENGTH(NEW.code_ref) &lt; 1 THEN
NEW.code_ref :=  NEW.serial_number;
END IF;

IF NEW.report_validator IS NULL OR  LENGTH(NEW.report_validator) &lt; 16 THEN
NEW.report_validator :=  md5(NEW.idequipment::TEXT||NEW.code_ref);
END IF;

/*
IF NOT EXISTS(SELECT idcontact FROM accounts WHERE idcontact = NEW.idaccount LIMIT 1) THEN
NEW.idaccount :=  NULL;
END IF;
*/


RAISE NOTICE &#39;1) *** idequipment (%) idaccount (%) -&gt; %&#39;, NEW.idequipment, NEW.idaccount, TG_TABLE_NAME;


/*
INSERT INTO equipments(
            idequipment, ts, equipment, mark, model, serial_number, description, 
            installation_date, uninstall_date, working, note, code_ref, idaccount)
    VALUES (?, ?, ?, ?, ?, ?, ?, 
            ?, ?, ?, ?, ?, ?);

            */
--NEW.ts := now();

RETURN NEW;
END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.event-comments-after-insert">event_comments_after_insert()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

--iideventstatustype BIGINT;
iisopen BOOLEAN;

BEGIN

SELECT isopen INTO iisopen  FROM  event_statustypes WHERE ideventstatustype = NEW.ideventstatustype;

UPDATE events SET ideventstatustype = NEW.ideventstatustype, isopen = iisopen WHERE idevent = NEW.idevent;




/*
UPDATE sys_table_ts SET ts = now() WHERE table_name = TG_TABLE_NAME;
        IF NOT found THEN
INSERT INTO sys_table_ts (table_name) VALUES (TG_TABLE_NAME);
        END IF;
*/
/*

IF NEW.timeout &lt; 5 THEN
NEW.timeout := 5;
END IF;

IF NEW.img IS NULL OR LENGTH(NEW.img) &lt; 4 THEN
NEW.img := &#39;/notifications_media/img/dialog-error.png&#39;;
END IF;

IF NEW.snd IS NULL OR LENGTH(NEW.snd) &lt; 4 THEN
NEW.snd := &#39;/notifications_media/snd/snd00.mp3&#39;;
END IF;

IF NEW.title IS NULL OR LENGTH(NEW.title) &lt; 3 THEN
NEW.title := &#39;Notification&#39;;
END IF;

IF NEW.body IS NULL OR  LENGTH(NEW.body) &lt; 3 THEN
NEW.body := &#39;Empty notification message&#39;;
END IF;
*/
RETURN NEW;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.event-comments-before-insert-redirect-partition">event_comments_before_insert_redirect_partition()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

table_part TEXT DEFAULT &#39;&#39;;

begin

table_part := fun_create_table_partition(TG_TABLE_NAME, NOW():: timestamp without time zone);


IF NOT EXISTS(SELECT trigger_name  FROM information_schema.triggers
                     WHERE event_object_table = table_part
                     AND trigger_name = &#39;on_insert&#39;
                     ) 
                     
                    THEN
                               
EXECUTE &#39;CREATE TRIGGER on_insert
  AFTER INSERT
  ON &#39;||table_part||&#39;
  FOR EACH ROW
  EXECUTE PROCEDURE event_comments_after_insert();&#39;;                               
                                                          
     END IF ;
     


-- No funcionan llaves foraneas con tablas heredadas
/*
IF NOT EXISTS(SELECT * FROM information_schema.table_constraints WHERE constraint_type = &#39;FOREIGN KEY&#39; AND table_name = table_part AND constraint_name = &#39;fk_&#39;||table_part||&#39;_idadmin&#39;) THEN

EXECUTE &#39;ALTER TABLE &#39;||table_part||&#39;
 ADD CONSTRAINT fk_&#39;||table_part||&#39;_idadmin FOREIGN KEY (idadmin) REFERENCES contacts (idcontact) ON UPDATE CASCADE ON DELETE SET NULL;&#39;;     

END IF;

*/


-- No funcionan llaves foraneas con tablas heredadas
/*
--ALTER TABLE event_comments_201512
--  ADD CONSTRAINT fk_event_comments_idadmin FOREIGN KEY (idadmin) REFERENCES contacts (idcontact) ON UPDATE CASCADE ON DELETE SET NULL;

IF NOT EXISTS(SELECT * FROM information_schema.table_constraints WHERE constraint_type = &#39;FOREIGN KEY&#39; AND table_name = table_part AND constraint_name = &#39;fk_&#39;||table_part||&#39;_idevent&#39;) THEN

EXECUTE &#39;ALTER TABLE &#39;||table_part||&#39;
 ADD CONSTRAINT fk_&#39;||table_part||&#39;_idevent FOREIGN KEY (idevent) REFERENCES events (idevent) ON UPDATE CASCADE ON DELETE CASCADE;&#39;;     

END IF;
*/


EXECUTE &#39;INSERT INTO &#39; || quote_ident(table_part) || &#39; SELECT ($1).*&#39; USING NEW;

return NULL;
end;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.events-assignment-check-before-insert">events_assignment_check_before_insert()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE 
  table_part TEXT DEFAULT &#39;1990&#39;; 
constraint_name_table TEXT DEFAULT &#39;_dateevent_check&#39;; 
  dateevent_year INTEGER DEFAULT 1990; 
/*et eventtypes%ROWTYPE; 
  --tbl TEXT DEFAULT &#39;events&#39;; 
  is_valid  BOOLEAN DEFAULT FALSE; 
  iaenabled BOOLEAN DEFAULT FALSE; 
  
  
  --iuuidevent UUID; 
  --lastidevent BIGINT; */

BEGIN 
  table_part := fun_create_table_partition(tg_table_name, NEW.date_start:: timestamp WITH TIME zone);
  constraint_name_table := table_part 
  ||&#39;_dateevent_check&#39;; 
  dateevent_year := Extract(year FROM NEW.date_start); 


  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   information_schema.table_constraints 
           WHERE  constraint_type = &#39;CHECK&#39; 
           AND    table_name = table_part 
           AND    constraint_name = constraint_name_table ) THEN 
    EXECUTE &#39;ALTER TABLE &#39; 
    ||table_part::text 
    ||&#39;   ADD CONSTRAINT &#39; 
    ||constraint_name_table::text 
    ||&#39; CHECK (EXTRACT(YEAR FROM date_start) = &#39; 
    ||dateevent_year::text 
    ||&#39;::double precision);&#39;; 
  END IF ; 

/*
  ---------------------- 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   information_schema.table_constraints 
           WHERE  constraint_type = &#39;FOREIGN KEY&#39; 
           AND    table_name = table_part 
           AND    constraint_name = &#39;fk_&#39; 
                         ||table_part 
                         ||&#39;_idcontact_admin&#39;) THEN 
    EXECUTE &#39;ALTER TABLE &#39; 
    ||table_part 
    ||&#39;  ADD CONSTRAINT fk_&#39; 
    ||table_part 
    ||&#39;_idcontact_admin FOREIGN KEY (idcontact_admin) REFERENCES contacts (idcontact)  ON UPDATE CASCADE ON DELETE SET NULL;&#39;;
  END IF; 


  ---------------------- 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   information_schema.table_constraints 
           WHERE  constraint_type = &#39;FOREIGN KEY&#39; 
           AND    table_name = table_part 
           AND    constraint_name = &#39;fk_&#39; 
                         ||table_part 
                         ||&#39;_idcontact_user&#39;) THEN 
    EXECUTE &#39;ALTER TABLE &#39; 
    ||table_part 
    ||&#39;  ADD CONSTRAINT fk_&#39; 
    ||table_part 
    ||&#39;_idcontact_user FOREIGN KEY (idcontact_user) REFERENCES contacts (idcontact)  ON UPDATE CASCADE ON DELETE SET NULL;&#39;;
  END IF; 


  ---------------------- 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   information_schema.table_constraints 
           WHERE  constraint_type = &#39;UNIQUE&#39; 
           AND    table_name = table_part 
           AND    constraint_name = &#39;uniq_&#39; 
                         ||table_part 
                         ||&#39;_de_ide_idevt_zu_ida&#39;) THEN 
    EXECUTE &#39;ALTER TABLE &#39; 
    ||table_part 
    ||&#39;  ADD CONSTRAINT uniq_&#39; 
    ||table_part 
    ||&#39;_de_ide_idevt_zu_ida UNIQUE(idaccount, idequipment, zu, ideventtype, dateevent);&#39;; 
  END IF; 
  ---------------------- 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   pg_indexes 
           WHERE  tablename = table_part 
           AND    indexname = &#39;index_&#39; 
                         ||table_part 
                         ||&#39;_status&#39;) THEN 
    EXECUTE &#39; CREATE INDEX index_&#39; 
    ||table_part 
    ||&#39;_status   ON &#39; 
    ||table_part 
    ||&#39; USING btree (status) WHERE status = 0;&#39;; 
  END IF; 
  -- El unico dato para validar si el equipo o la cuenta son correctos es el idaccount o el idequipment
  CASE 
  WHEN NEW.idaccount IS NULL 
    AND 
    NEW.idequipment IS NULL THEN 
    RAISE notice &#39;1) El idaccount o el idequipment no pueden ser nulos&#39;; 
  WHEN NEW.idaccount IS NULL 
    AND 
    NEW.idequipment &gt; 0 THEN 
    SELECT coalesce( 
                      ( 
                      SELECT idaccount 
                      FROM   equipments 
                      WHERE  idequipment = NEW.idequipment), -1000) 
    INTO   NEW.idaccount; 
     
    IF NEW.idaccount &gt; 0 THEN 
      is_valid := TRUE; 
    ELSE 
      is_valid := FALSE; 
      NEW.idaccount := NULL; 
      -- Debemos insertar un evento que indique que se trata de insertar un evento de un idequipment sin asociar a un idaccount que no existe
      RAISE notice &#39;2) **** idequipment (%) no tiene idaccount asociada o es incorrecta&#39;, NEW.idaccount;
    END IF; 
  WHEN NEW.idaccount &gt;= 0 THEN 
    is_valid := TRUE; 
    --NEW.idequipment := 0; 
    RAISE notice &#39;3) ***** idaccount (%)&#39;, NEW.idaccount; 
  ELSE 
    RAISE notice &#39;3) ***** No pasa nada (%)&#39;, NEW.idaccount; 
    is_valid := FALSE; 
  END CASE; 
  RAISE notice &#39;4) Vamos a la validacion de ideventtype y relacionados&#39;; 
  IF is_valid THEN -- Obtenemos los datos del tipo de evento 
    SELECT * 
    INTO   et 
    FROM   eventtypes 
    WHERE  ideventtype = NEW.ideventtype; 
     
    -- Obtenemos los datos de la cuenta 
    SELECT enabled 
    INTO   iaenabled 
    FROM   accounts 
    WHERE  idcontact = NEW.idaccount; 
     
    CASE 
    WHEN NOT iaenabled THEN 
      NEW.status := 9; 
    WHEN et.expiration &lt;= 0 THEN 
      NEW.status := 2; 
    ELSE 
      RAISE notice &#39;events_before_insert ???? &#39;; 
    END CASE; 


    -- Validamos ideventtype y relacionados 
    IF NEW.ideventtype IS NULL 
      OR 
      NEW.ideventtype &lt; 1 THEN 
      RAISE notice &#39;5) IF NEW.ideventtype IS NULL OR NEW.ideventtype &lt; 1&#39;; 
      NEW.ideventtype := 0; 
    END IF; 
    RAISE notice &#39;6) Hacemos un select del tipo de evento&#39;; 
    IF (NEW.description IS NULL 
      OR 
      Length(NEW.description) &lt; 1) 
      AND 
      et.label IS NOT NULL THEN 
      RAISE notice &#39;7) IF (NEW.description IS NULL OR LENGTH(NEW.description) &lt; 1) AND et.label IS NOT NULL&#39;;
      NEW.description := et.label; 
    END IF; 
    IF (NEW.priority IS NULL 
      OR 
      NEW.priority &lt; 1) 
      AND 
      et.priority IS NOT NULL THEN 
      RAISE notice &#39;8) IF (NEW.priority IS NULL OR NEW.priority &lt; 1) AND et.priority IS NOT NULL&#39;;
      NEW.priority := et.priority; 
    END IF; 
    RAISE notice &#39;9) Finaliza las verificaciones, ahora va a insertar en la particion %&#39;, table_part;
    ------------------------------------------------------------ 
    -- Este bloque es especifico para cada tabla 
    CASE 
      -------------------------------------------- 
      -- hacemos el check especifico para la tabla events_diskspace 
    WHEN tg_table_name = &#39;events&#39; THEN -- Creamos el uuidevent en base a los campos 

      -------------------------------------------- 
    WHEN tg_table_name = &#39;events_dbsizes&#39; THEN -- Creamos el uuidevent en base a los campos 
      iuuidevent := md5( NEW.idaccount::text 
      ||NEW.ideventtype::text 
      ||NEW.zu::text 
      ||NEW.idequipment::text 
      ||NEW.db_name 
      ||NEW.db_type::text)::uuid; 
      SELECT idevent 
      INTO   lastidevent 
      FROM   events_last_idevent 
      WHERE  uuidevent = iuuidevent; 
       
      IF lastidevent &gt; 0 THEN 
        IF EXISTS 
          ( 
                 SELECT * 
                 FROM   events_dbsizes 
                 WHERE  idevent = lastidevent 
                 AND    db_size = NEW.db_size) THEN 
          RETURN NULL; 
        END IF; 
      END IF; 
      -------------------------------------------- 
    WHEN tg_table_name = &#39;events_device_uptime&#39; THEN -- Creamos el uuidevent en base a los campos 
      iuuidevent := Md5( NEW.idaccount::text 
      ||NEW.ideventtype::text 
      ||NEW.zu::text 
      ||NEW.idequipment::text)::uuid; 
      SELECT idevent 
      INTO   lastidevent 
      FROM   events_last_idevent 
      WHERE  uuidevent = iuuidevent; 
       
      IF lastidevent &gt; 0 THEN 
        IF EXISTS 
          ( 
                 SELECT * 
                 FROM   events_device_uptime 
                 WHERE  idevent = lastidevent 
                 AND    uptime = NEW.uptime) THEN 
          RETURN NULL; 
        END IF; 
      END IF; 
      -------------------------------------------- 
    WHEN tg_table_name = &#39;events_diskspace&#39; THEN -- Creamos el uuidevent en base a los campos
      iuuidevent := Md5( NEW.idaccount::text 
      ||NEW.ideventtype::text 
      ||NEW.zu::text 
      ||NEW.idequipment::text 
      ||NEW.drive)::uuid; 
      SELECT idevent 
      INTO   lastidevent 
      FROM   events_last_idevent 
      WHERE  uuidevent = iuuidevent; 
       
      IF lastidevent &gt; 0 THEN 
        IF EXISTS 
          ( 
                 SELECT * 
                 FROM   events_diskspace 
                 WHERE  idevent = lastidevent 
                 AND    drive_size = NEW.drive_size 
                 AND    drive_free = NEW.drive_free) THEN 
          RETURN NULL; 
        END IF; 
      END IF; 
      -------------------------------------------- 
    WHEN tg_table_name = &#39;events_jobs&#39; THEN -- Creamos el uuidevent en base a los campos 
      iuuidevent := Md5( NEW.idaccount::text 
      ||NEW.ideventtype::text 
      ||NEW.zu::text 
      ||NEW.idequipment::text 
      ||NEW.job_name)::uuid; 
      SELECT idevent 
      INTO   lastidevent 
      FROM   events_last_idevent 
      WHERE  uuidevent = iuuidevent; 
       
      IF lastidevent &gt; 0 THEN 
        IF EXISTS 
          ( 
                 SELECT * 
                 FROM   events_jobs 
                 WHERE  idevent = lastidevent 
                 AND    job_date_create = NEW.job_date_create 
                 AND    job_run_duration = NEW.job_run_duration 
                 AND    job_run_status = NEW.job_run_status 
                 AND    job_next_run = NEW.job_next_run) THEN 
          RETURN NULL; 
        END IF; 
      END IF; 
      -------------------------------------------- 
    WHEN tg_table_name = &#39;events_networkdevice_ping&#39; THEN -- Creamos el uuidevent en base a los campos 
      iuuidevent := Md5( NEW.idaccount::text 
      ||NEW.ideventtype::text 
      ||NEW.zu::text 
      ||NEW.idequipment::text)::uuid; 
      SELECT idevent 
      INTO   lastidevent 
      FROM   events_last_idevent 
      WHERE  uuidevent = iuuidevent; 
       
      IF lastidevent &gt; 0 THEN 
        IF EXISTS 
          ( 
                 SELECT * 
                 FROM   events_networkdevice_ping 
                 WHERE  idevent = lastidevent 
                 AND    roundtriptime = NEW.roundtriptime) THEN 
          RETURN NULL; 
        END IF; 
      END IF; 
    WHEN tg_table_name = &#39;events_raid&#39; THEN -- Creamos el uuidevent en base a los campos 
   
    ELSE 

    END CASE; 
    EXECUTE &#39;INSERT INTO &#39; 
    || quote_ident(table_part) 
    || &#39; SELECT ($1).*&#39; USING NEW; 
  END IF; 
  */

    EXECUTE &#39;INSERT INTO &#39; 
    || quote_ident(table_part) 
    || &#39; SELECT ($1).*&#39; USING NEW; 

  RETURN NULL; 
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.events-check-before-insert">events_check_before_insert()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE 
  table_part TEXT DEFAULT &#39;1990&#39;; 
  et eventtypes%ROWTYPE; 
  --tbl TEXT DEFAULT &#39;events&#39;; 
  is_valid  BOOLEAN DEFAULT FALSE; 
  iaenabled BOOLEAN DEFAULT FALSE; 
  constraint_name_table TEXT DEFAULT &#39;_dateevent_check&#39;; 
  dateevent_year INTEGER DEFAULT 1990; 
  iuuidevent UUID; 
  lastidevent BIGINT;
  iiddivision BIGINT; 
BEGIN 

--table_part := fun_create_table_partition_events_data(tg_table_name, NEW.dateevent:: timestamp WITH TIME zone);
  table_part := fun_create_table_partition(tg_table_name, NEW.dateevent:: timestamp WITH TIME zone);
  

/*
constraint_name_table := table_part 
  ||&#39;_dateevent_check&#39;; 
  dateevent_year := Extract(year FROM NEW.dateevent); 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   information_schema.table_constraints 
           WHERE  constraint_type = &#39;CHECK&#39; 
           AND    table_name = table_part 
           AND    constraint_name = constraint_name_table ) THEN 
    EXECUTE &#39;ALTER TABLE &#39; 
    ||table_part::text 
    ||&#39;   ADD CONSTRAINT &#39; 
    ||constraint_name_table::text 
    ||&#39; CHECK (EXTRACT(YEAR FROM dateevent) = &#39; 
    ||dateevent_year::text 
    ||&#39;::double precision);&#39;; 
  END IF ; 
*/

  /* 
select * from information_schema.table_constraints where constraint_type = &#39;CHECK&#39; 
*/ 



/*
CREATE TRIGGER on_before_update_ideventstatustype
  BEFORE UPDATE OF isopen
  ON events
  FOR EACH ROW
  EXECUTE PROCEDURE events_update_ideventstatustype();
*/

/*
  IF NOT EXISTS 
    ( 
           SELECT trigger_name 
           FROM   information_schema.TRIGGERS 
           WHERE  event_object_table = table_part 
           AND    trigger_name = &#39;on_before_update_ideventstatustype&#39; ) THEN 
    ---------------------- 
    EXECUTE &#39;CREATE TRIGGER on_before_update_ideventstatustype   BEFORE UPDATE OF isopen   ON &#39; 
    ||table_part::text 
    ||&#39;   FOR EACH ROW   EXECUTE PROCEDURE events_update_ideventstatustype();&#39;; 
  END IF ; 
  */


-------------------------
  IF NOT EXISTS 
    ( 
           SELECT trigger_name 
           FROM   information_schema.TRIGGERS 
           WHERE  event_object_table = table_part 
           AND    trigger_name = &#39;on_insert_event&#39; ) THEN 
    ---------------------- 
    EXECUTE &#39;CREATE TRIGGER on_insert_event   AFTER INSERT   ON &#39; 
    ||table_part::text 
    ||&#39;   FOR EACH ROW   EXECUTE PROCEDURE events_on_insert();&#39;; 
  END IF ; 

  
  ---------------------- 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   information_schema.table_constraints 
           WHERE  constraint_type = &#39;FOREIGN KEY&#39; 
           AND    table_name = table_part 
           AND    constraint_name = &#39;fk_&#39; 
                         ||table_part 
                         ||&#39;_idadmin&#39;) THEN 
    EXECUTE &#39;ALTER TABLE &#39; 
    ||table_part 
    ||&#39;  ADD CONSTRAINT fk_&#39; 
    ||table_part 
    ||&#39;_idadmin FOREIGN KEY (idadmin) REFERENCES admins (idadmin)  ON UPDATE CASCADE ON DELETE CASCADE;&#39;;
  END IF; 
  
  ---------------------- 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   information_schema.table_constraints 
           WHERE  constraint_type = &#39;FOREIGN KEY&#39; 
           AND    table_name = table_part 
           AND    constraint_name = &#39;fk_&#39; 
                         ||table_part 
                         ||&#39;_ideventreceptionmode&#39;) THEN 
    EXECUTE &#39;ALTER TABLE &#39; 
    ||table_part 
    ||&#39;  ADD CONSTRAINT fk_&#39; 
    ||table_part 
    ||&#39;_ideventreceptionmode FOREIGN KEY (ideventreceptionmode) REFERENCES event_reception_modes (ideventreceptionmode)  ON UPDATE CASCADE ON DELETE SET NULL;&#39;;
  END IF; 



  ---------------------- 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   information_schema.table_constraints 
           WHERE  constraint_type = &#39;FOREIGN KEY&#39; 
           AND    table_name = table_part 
           AND    constraint_name = &#39;fk_&#39; 
                         ||table_part 
                         ||&#39;_ideventtype&#39;) THEN 
    EXECUTE &#39;ALTER TABLE &#39; 
    ||table_part 
    ||&#39;  ADD CONSTRAINT fk_&#39; 
    ||table_part 
    ||&#39;_ideventtype FOREIGN KEY (ideventtype) REFERENCES eventtypes (ideventtype)  ON UPDATE CASCADE ON DELETE SET NULL;&#39;;
  END IF; 

  ---------------------- 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   pg_indexes 
           WHERE  tablename = table_part 
           AND    indexname = &#39;index_&#39; 
                         ||table_part 
                         ||&#39;_isopen&#39;) THEN 
    EXECUTE &#39; CREATE UNIQUE INDEX index_&#39; 
    ||table_part 
    ||&#39;_isopen   ON &#39; 
    ||table_part 
    ||&#39; USING btree (dateevent, ideventstatustype, idaccount, ideventtype, zu, idequipment)
  WHERE isopen = true;&#39;; 
  END IF; 


  ---------------------- 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   pg_indexes 
           WHERE  tablename = table_part 
           AND    indexname = &#39;index_&#39; 
                         ||table_part 
                         ||&#39;_idaccideventt&#39;) THEN 
    EXECUTE &#39; CREATE INDEX index_&#39; 
    ||table_part 
    ||&#39;_idaccideventt   ON &#39; 
    ||table_part 
    ||&#39; USING btree (idaccount, ideventtype)&#39;; 
  END IF; 


  
  -- El unico dato para validar si el equipo o la cuenta son correctos es el idaccount o el idequipment
  CASE 
  WHEN NEW.idaccount IS NULL 
    AND 
    NEW.idequipment IS NULL THEN 
    RAISE notice &#39;1) El idaccount o el idequipment no pueden ser nulos&#39;; 
  WHEN NEW.idaccount IS NULL 
    AND 
    NEW.idequipment &gt; 0 THEN 
    SELECT coalesce( 
                      ( 
                      SELECT idaccount 
                      FROM   equipments 
                      WHERE  idequipment = NEW.idequipment), -1000) 
    INTO   NEW.idaccount; 
     
    IF NEW.idaccount &gt; 0 THEN 
      is_valid := TRUE; 
    ELSE 
      is_valid := FALSE; 
      NEW.idaccount := NULL; 
      -- Debemos insertar un evento que indique que se trata de insertar un evento de un idequipment sin asociar a un idaccount que no existe
      RAISE notice &#39;2) **** idequipment (%) no tiene idaccount asociada o es incorrecta&#39;, NEW.idaccount;
    END IF; 
  WHEN NEW.idaccount &gt;= 0 THEN 
    is_valid := TRUE; 
    --NEW.idequipment := 0; 
    RAISE notice &#39;3) ***** idaccount (%)&#39;, NEW.idaccount; 
  ELSE 
    RAISE notice &#39;3) ***** No pasa nada (%)&#39;, NEW.idaccount; 
    is_valid := FALSE; 
  END CASE; 
  RAISE notice &#39;4) Vamos a la validacion de ideventtype y relacionados&#39;; 
  IF is_valid THEN -- Obtenemos los datos del tipo de evento 
    SELECT * 
    INTO   et 
    FROM   eventtypes 
    WHERE  ideventtype = NEW.ideventtype; 
   
    -- Obtenemos los datos de la cuenta 
    SELECT enabled 
    INTO   iaenabled 
    FROM   accounts 
    WHERE  idcontact = NEW.idaccount; 
     
    CASE 
    WHEN NOT iaenabled THEN 
      NEW.ideventstatustype := 9; 
    WHEN et.expiration &lt;= 0 THEN 
      NEW.ideventstatustype := 2; 
    ELSE 
      RAISE notice &#39;events_before_insert ???? &#39;; 
    END CASE; 

/*
    ------------------------------------------------------------------------------------------------------- 
    -- Revisamos si el idcontact que ingresa el evento existe, si es null ponemos a 0 
    IF NOT EXISTS 
      ( 
             SELECT * 
             FROM   contacts 
             WHERE  idcontact = NEW.idcontact) THEN 
      NEW.idcontact := 0; 
    END IF;
    */
     


    -- Validamos ideventtype y relacionados 
    IF NEW.ideventtype IS NULL 
      OR 
      NEW.ideventtype &lt; 1 THEN 
      RAISE notice &#39;5) IF NEW.ideventtype IS NULL OR NEW.ideventtype &lt; 1&#39;; 
      NEW.ideventtype := 0; 
    END IF; 
    RAISE notice &#39;6) Hacemos un select del tipo de evento&#39;; 
    IF (NEW.description IS NULL 
      OR 
      Length(NEW.description) &lt; 1) 
      AND 
      et.label IS NOT NULL THEN 
      RAISE notice &#39;7) IF (NEW.description IS NULL OR LENGTH(NEW.description) &lt; 1) AND et.label IS NOT NULL&#39;;
      NEW.description := et.label; 
    END IF; 
    IF (NEW.priority IS NULL 
      OR 
      NEW.priority &lt; 1) 
      AND 
      et.priority IS NOT NULL THEN 
      RAISE notice &#39;8) IF (NEW.priority IS NULL OR NEW.priority &lt; 1) AND et.priority IS NOT NULL&#39;;
      NEW.priority := et.priority; 
    END IF; 
    RAISE notice &#39;9) Finaliza las verificaciones, ahora va a insertar en la particion %&#39;, table_part;
    ------------------------------------------------------------ 
    -- Este bloque es especifico para cada tabla 
    CASE 
      -------------------------------------------- 
      -- hacemos el check especifico para la tabla events_diskspace 
    WHEN tg_table_name = &#39;events&#39; THEN -- Creamos el uuidevent en base a los campos 
      /*  NEW.uuidevent := Md5(Extract(epoch FROM NEW.dateevent)::text 
||NEW.idaccount::text 
||NEW.ideventtype::text 
||NEW.zu::text 
||NEW.idequipment::text)::uuid; */ 
      -------------------------------------------- 
    WHEN tg_table_name = &#39;events_dbsizes&#39; THEN -- Creamos el uuidevent en base a los campos 
      iuuidevent := md5( NEW.idaccount::text 
      ||NEW.ideventtype::text 
      ||NEW.zu::text 
      ||NEW.idequipment::text 
      ||NEW.db_name 
      ||NEW.db_type::text)::uuid; 
      SELECT idevent 
      INTO   lastidevent 
      FROM   events_last_idevent 
      WHERE  uuidevent = iuuidevent; 
       
      IF lastidevent &gt; 0 THEN 
        IF EXISTS 
          ( 
                 SELECT * 
                 FROM   events_dbsizes 
                 WHERE  idevent = lastidevent 
                 AND    db_size = NEW.db_size) THEN 
          RETURN NULL; 
        END IF; 
      END IF; 
      -------------------------------------------- 
    WHEN tg_table_name = &#39;events_device_uptime&#39; THEN -- Creamos el uuidevent en base a los campos 
      iuuidevent := Md5( NEW.idaccount::text 
      ||NEW.ideventtype::text 
      ||NEW.zu::text 
      ||NEW.idequipment::text)::uuid; 
      SELECT idevent 
      INTO   lastidevent 
      FROM   events_last_idevent 
      WHERE  uuidevent = iuuidevent; 
       
      IF lastidevent &gt; 0 THEN 
        IF EXISTS 
          ( 
                 SELECT * 
                 FROM   events_device_uptime 
                 WHERE  idevent = lastidevent 
                 AND    uptime = NEW.uptime) THEN 
          RETURN NULL; 
        END IF; 
      END IF; 
      -------------------------------------------- 
    WHEN tg_table_name = &#39;events_diskspace&#39; THEN -- Creamos el uuidevent en base a los campos
      iuuidevent := Md5( NEW.idaccount::text 
      ||NEW.ideventtype::text 
      ||NEW.zu::text 
      ||NEW.idequipment::text 
      ||NEW.drive)::uuid; 
      SELECT idevent 
      INTO   lastidevent 
      FROM   events_last_idevent 
      WHERE  uuidevent = iuuidevent; 
       
      IF lastidevent &gt; 0 THEN 
        IF EXISTS 
          ( 
                 SELECT * 
                 FROM   events_diskspace 
                 WHERE  idevent = lastidevent 
                 AND    drive_size = NEW.drive_size 
                 AND    drive_free = NEW.drive_free) THEN 
          RETURN NULL; 
        END IF; 
      END IF; 
      -------------------------------------------- 
    WHEN tg_table_name = &#39;events_jobs&#39; THEN -- Creamos el uuidevent en base a los campos 
      iuuidevent := Md5( NEW.idaccount::text 
      ||NEW.ideventtype::text 
      ||NEW.zu::text 
      ||NEW.idequipment::text 
      ||NEW.job_name)::uuid; 
      SELECT idevent 
      INTO   lastidevent 
      FROM   events_last_idevent 
      WHERE  uuidevent = iuuidevent; 
       
      IF lastidevent &gt; 0 THEN 
        IF EXISTS 
          ( 
                 SELECT * 
                 FROM   events_jobs 
                 WHERE  idevent = lastidevent 
                 AND    job_date_create = NEW.job_date_create 
                 AND    job_run_duration = NEW.job_run_duration 
                 AND    job_run_status = NEW.job_run_status 
                 AND    job_next_run = NEW.job_next_run) THEN 
          RETURN NULL; 
        END IF; 
      END IF; 
      -------------------------------------------- 
    WHEN tg_table_name = &#39;events_networkdevice_ping&#39; THEN -- Creamos el uuidevent en base a los campos 
      iuuidevent := Md5( NEW.idaccount::text 
      ||NEW.ideventtype::text 
      ||NEW.zu::text 
      ||NEW.idequipment::text)::uuid; 
      SELECT idevent 
      INTO   lastidevent 
      FROM   events_last_idevent 
      WHERE  uuidevent = iuuidevent; 
       
      IF lastidevent &gt; 0 THEN 
        IF EXISTS 
          ( 
                 SELECT * 
                 FROM   events_networkdevice_ping 
                 WHERE  idevent = lastidevent 
                 AND    roundtriptime = NEW.roundtriptime) THEN 
          RETURN NULL; 
        END IF; 
      END IF; 
    WHEN tg_table_name = &#39;events_raid&#39; THEN -- Creamos el uuidevent en base a los campos 
      /*NEW.uuidevent := Md5(Extract(epoch FROM NEW.dateevent)::text 
||NEW.idaccount::text 
||NEW.ideventtype::text 
||NEW.zu::text 
||NEW.idequipment::text)::uuid;   */ 
    ELSE 

    END CASE; 

SELECT isopen INTO NEW.isopen FROM event_statustypes WHERE ideventstatustype = NEW.ideventstatustype;


IF NEW.isopen = TRUE THEN
 NEW.idadmin_assigned := fun_event_assignment(NEW.idaccount, NEW.ideventtype, NEW.idadmin_assigned);
 
/*
-------------------- 
-- TODO - Debe haber un bloque que auto asigne el evento al administrador que sea conveniente si el status esta en 0
-- Buscamos que administradores tienen acceso a la division y al iaccount de la cuenta de este evento
SELECT iddivision INTO iiddivision FROM accounts WHERE idcontact = NEW.idaccount;

SELECT idadmin 
INTO   NEW.idadmin_assigned 
FROM   admins 
WHERE  iiddivision = ANY(divisions) 
AND    NEW.idaccount = ANY (idaccounts) limit 1; 
*/

END IF; 



    EXECUTE &#39;INSERT INTO &#39; 
    || quote_ident(table_part) 
    || &#39; SELECT ($1).*&#39; USING NEW; 
  END IF; 
  RETURN NULL; 
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.events-on-insert">events_on_insert()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        <p>Envia la notificacion al navegador cuando un evento es insertado en la tabla</p>
        <pre>DECLARE 
  ilabel TEXT DEFAULT &#39;&#39;; 
  ibody TEXT DEFAULT &#39;&#39;; 
  iafn TEXT DEFAULT &#39;&#39;; 
  ialn TEXT DEFAULT &#39;&#39;; 
  iaccount TEXT DEFAULT &#39;&#39;; 
  iaenabled BOOLEAN DEFAULT TRUE; 
  isessionid TEXT DEFAULT &#39;&#39;; 
  iiddivision     BIGINT; 
  idadminassigned BIGINT; 
  iuuidevent UUID; 
  et eventtypes%ROWTYPE; 
  array_ideventtypes_closed_for_this_ideventtype INTEGER[]; 
  idevent_for_close_on_restore                   INT DEFAULT 0; 
BEGIN 
  RAISE notice &#39;&gt;&gt;&gt; 1) Inicia Trigger events_on_insert&#39;; 
  RAISE notice &#39;&gt;&gt;&gt; 2)&#39;; 
  -- Obtenemos los datos del tipo de evento 
  SELECT * 
  INTO   et 
  FROM   eventtypes 
  WHERE  ideventtype = NEW.ideventtype; 
   
  RAISE notice &#39;&gt;&gt;&gt;&gt; 3)&#39;; 
  -- Obtenemos los datos de la cuenta 
  SELECT account, 
         first_name, 
         last_name, 
         enabled, 
         iddivision 
  INTO   iaccount, 
         iafn, 
         ialn, 
         iaenabled, 
         iiddivision 
  FROM   accounts 
  WHERE  idcontact = NEW.idaccount; 
   
  RAISE notice &#39;&gt;&gt;&gt; 4)&#39;; 
  IF et.notify_all_users THEN 
    isessionid := &#39;all&#39;; 
 -- ELSE 
    -- Obtenemos el sessionid segun el idadmin 
-- TODO porque ya no se debe manejar asi
/*
    SELECT admin_sessionid 
    INTO   isessionid 
    FROM   contacts 
    WHERE  idcontact = NEW.idadmin; 
    */
   
  END IF; 
  RAISE notice &#39;&gt;&gt;&gt;&gt; 5)&#39;; 
  IF iaenabled 
    AND 
    NEW.priority &lt; 21 THEN 
    RAISE notice &#39;&gt;&gt;&gt; 6)&#39;; 
    -- Mostramos la notificacion solo si la prioridad es menor o = que 20 
    ilabel := ialn 
    ||&#39; &#39; 
    ||iafn 
    ||&#39; [&#39; 
    ||iaccount 
    ||&#39;]&lt;/br&gt;&#39; 
    ||et.label 
    ||&#39;&lt;/br&gt;&#39;; 
    INSERT INTO notification_area 
                ( 
                            urgency, 
                            timeout, 
                            closable, 
                            img, 
                            snd, 
                            title, 
                            BODY, 
                            sessionid 
                ) 
                VALUES 
                ( 
                            NEW.priority, 
                            et.notify_timeout, 
                            et.notify_closable, 
                            et.notify_img, 
                            et.notify_snd, 
                            ilabel, 
                            &#39;&lt;b&gt;&#39; 
                                        ||NEW.dateevent 
                                        ||&#39;&lt;/b&gt;&lt;/br&gt;&#39; 
                                        ||NEW.description, 
                            isessionid 
                ); 
   
  END IF; 

/*

  -- Auto cerramos los eventos si se ha programado para ser cerrados por la llegada de este evento
  -- 1. Obtenemos la lista de los ideventtypes que sern cerrados por el ideventtype de este evento
  IF et.enable_auto_close_on_event_defined THEN 
    RAISE notice &#39;&gt;&gt;&gt; 7) SELECT idevent FROM events WHERE ideventtype = ANY(%) AND ideventstatustype = 0 AND idaccount = % AND zu = % AND idevent != %&#39;, et.auto_close_on_event_defined, NEW.idaccount, NEW.zu, NEW.idevent;
    FOR idevent_for_close_on_restore IN 
    SELECT idevent 
    FROM   EVENTS 
    WHERE  ideventtype = ANY(et.auto_close_on_event_defined) 
    AND    ideventstatustype = 0 
    AND    idaccount = NEW.idaccount 
    AND    zu = NEW.zu 
    AND    idevent != NEW.idevent 
    AND    idequipment = NEW.idequipment LOOP RAISE notice &#39;&gt;&gt;&gt; 8) Se cierra automaticamente el evento % por restauracion&#39;,
           idevent_for_close_on_restore; 
     
    INSERT INTO event_comments 
                ( 
                            comment_event, 
                            idevent, 
                            ideventstatustype 
                ) 
                VALUES 
                ( 
                            &#39;Event closed for restoring or status changed event - idevent &#39; 
                                        ||NEW.idevent, 
                            idevent_for_close_on_restore, 
                            7 
                ); 
   
  END LOOP; 
END IF; 
*/




-- Auto cerramos los eventos se se haya programado para ser cerrados por la llegada de este evento
-- 1. Obtenemos la lista de los ideventtypes que sern cerrados por el ideventtype de este evento
IF et.enable_auto_close_on_event_defined THEN 
  RAISE notice &#39;&gt;&gt;&gt; 7) SELECT idevent FROM events WHERE ideventtype = ANY(%) AND ideventstatustype = 0 AND idaccount = % AND zu = % AND idevent != %&#39;, et.auto_close_on_event_defined, NEW.idaccount, NEW.zu, NEW.idevent;
  FOR idevent_for_close_on_restore IN 
  SELECT idevent 
  FROM   events 
  WHERE  ideventtype = ANY(et.auto_close_on_event_defined) 
  AND    isopen = true 
  AND    idaccount = NEW.idaccount 
  AND    zu = NEW.zu 
  AND    idevent != NEW.idevent LOOP RAISE notice &#39;&gt;&gt;&gt; 8) Se cierra automaticamente el evento % por restauracion&#39;,
         idevent_for_close_on_restore; 
   
  INSERT INTO event_comments 
              ( 
                          comment_event, 
                          idevent, 
                          ideventstatustype 
              ) 
              VALUES 
              ( 
                          &#39;Event closed for restoring or status changed event - idevent &#39; 
                                      ||NEW.idevent, 
                          idevent_for_close_on_restore, 
                          7 
              ); 

END LOOP; 
END IF; 




RAISE notice &#39;&gt;&gt;&gt; 9) TERMINA EVENTS_ON_INSERT&#39;; 

-----------------------------------
-- Este bloque es especifico de cada tabla heredada para determinar el idevent del ultimo evento segun los parametros que sean necesarios
CASE 
  WHEN tg_table_name LIKE &#39;events_dbsizes%&#39; THEN -- Creamos el uuidevent en base a los campos
  iuuidevent := md5( 
  NEW.idaccount::text 
  ||NEW.ideventtype::text 
  ||NEW.zu::text 
  ||NEW.idequipment::text||NEW.db_name||NEW.db_type::TEXT)::uuid; 
  
WHEN tg_table_name LIKE &#39;events_device_uptime%&#39; THEN -- Creamos el uuidevent en base a los campos
  iuuidevent := md5( 
  NEW.idaccount::text 
  ||NEW.ideventtype::text 
  ||NEW.zu::text 
  ||NEW.idequipment::text)::uuid; 

WHEN tg_table_name LIKE &#39;events_diskspace%&#39; THEN -- Creamos el uuidevent en base a los campos
  iuuidevent := md5( 
  NEW.idaccount::text 
  ||NEW.ideventtype::text 
  ||NEW.zu::text 
  ||NEW.idequipment::text||NEW.drive)::uuid; 

WHEN tg_table_name LIKE &#39;events_jobs%&#39; THEN -- Creamos el uuidevent en base a los campos
  iuuidevent := md5( 
  NEW.idaccount::text 
  ||NEW.ideventtype::text 
  ||NEW.zu::text 
  ||NEW.idequipment::text||NEW.job_name)::uuid; 

WHEN tg_table_name LIKE &#39;events_networkdevice_ping%&#39; THEN -- Creamos el uuidevent en base a los campos
  iuuidevent := md5( 
  NEW.idaccount::text 
  ||NEW.ideventtype::text 
  ||NEW.zu::text 
  ||NEW.idequipment::text)::uuid; 

WHEN tg_table_name LIKE &#39;events_login%&#39; THEN -- Creamos el uuidevent en base a los campos
  iuuidevent := md5( 
  NEW.idaccount::text 
  ||NEW.ideventtype::text 
  --||NEW.zu::text 
  ||NEW.idadmin::text)::uuid; 


RAISE notice &#39;&gt;&gt;&gt; 9) idaccount % / ideventtype = % / idadmin = %&#39;, NEW.idaccount, NEW.ideventtype, NEW.idadmin;
  
ELSE 

  iuuidevent := md5( 
  NEW.idaccount::text 
  ||NEW.ideventtype::text 
  ||NEW.zu::text 
  ||NEW.idequipment::text)::uuid; 

END CASE; 


  IF EXISTS 
    ( 
           SELECT * 
           FROM   events_last_idevent 
           WHERE  uuidevent = iuuidevent) 
    THEN 
    UPDATE events_last_idevent 
    SET    idevent = NEW.idevent 
    WHERE  uuidevent = iuuidevent; 
   
  ELSE 
    INSERT INTO events_last_idevent 
                ( 
                            uuidevent, 
                            idevent 
                ) 
                VALUES 
                ( 
                            iuuidevent, 
                            NEW.idevent 
                ); 
   
  END IF; 
  


/*
-------------------- 
-- TODO - Debe haber un bloque que auto asigne el evento al administrador que sea conveniente si el status esta en 0
-- Buscamos que administradores tienen acceso a la division y al iaccount de la cuenta de este evento
SELECT idadmin 
INTO   NEW.idadmin_assigned 
FROM   admins 
WHERE  iiddivision = ANY(divisions) 
AND    NEW.idaccount = ANY (idaccounts) limit 1; 

IF NEW.idadmin_assigned &gt; 0 
  AND 
  NEW.isopen = true THEN 
  --NEW.status := -12; 
  INSERT INTO events_assignment 
              ( 
                          idevent, 
                          idadmin 
              ) 
              VALUES 
              ( 
                          NEW.idevent, 
                          idadminassigned 
              ); 

END IF; 
*/
RETURN NULL; 
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.eventtypes-before-insert-update">eventtypes_before_insert_update()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>BEGIN

IF array_length(NEW.auto_close_on_event_defined, 1) &gt; 0 THEN
NEW.auto_close_on_event_defined := ARRAY(SELECT DISTINCT UNNEST(NEW.auto_close_on_event_defined::INTEGER[]) ORDER BY 1);
END IF;


--NEW.groups := ARRAY(SELECT DISTINCT UNNEST(NEW.groups::INTEGER[]) ORDER BY 1);

RETURN NEW;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-account-auto-account-idivision-text-iaccount-bigint">fun_account_auto_account(idivision text, iaccount bigint)</a>
		</h2>
<h3>Returns: text</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

r TEXT DEFAULT &#39;oams&#39;;
i INTEGER DEFAULT 0;

BEGIN

IF iaccount IS NULL OR LENGTH(iaccount) &lt; 1 THEN
iaccount := &#39;oams&#39;;
END IF;

r := iaccount;
RAISE NOTICE &#39;Asignado r(%)&#39;, r;
-- Chequeamo que el numero de la cuenta no se repita, si lo hace buscamos el siguiente numero disponible
WHILE EXISTS(SELECT * FROM accounts WHERE account = r AND iddivision = idivision) AND i &lt; 10 LOOP
    r := iaccount||&#39;(&#39;||i::text||&#39;)&#39;;
RAISE NOTICE &#39;Asignado rx(%)&#39;, r;
i := i+1;
END LOOP;



/*
SELECT idcontact, ts, enabled, first_name, last_name, birthday, identification, 
       ididtype, postal_code, gender, geox, geoy, note, address, address_ref, 
       idaccountstate, idaccounttype, start_date, end_date, account
  FROM accounts;

*/

/*
-- Chequeamo que el numero de la cuenta no se repita, si lo hace buscamos el siguiente numero disponible
WHILE usaga.fun_account_search_number(iaccount) &gt; 0 LOOP
    inaccount := initialaccount||&#39;(&#39;||i::text||&#39;)&#39;;
i := i+1;
END LOOP;
*/
RAISE NOTICE &#39;Asignado rs(%)&#39;, r;

RETURN  r;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-check-sessionid-idadmin-iip-text-isessionid-text-iusername-text">fun_check_sessionid_idadmin(iip text, isessionid text, iusername text)</a>
		</h2>
<h3>Returns: integer</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

--Now timestamp without time zone default now();
R INTEGER DEFAULT 1;

BEGIN
/*
R := COALESCE((SELECT idcontact FROM contacts WHERE admin_username = iusername AND admin_sessionid = isessionid AND is_admin = true LIMIT 1), -200);

IF R &lt; 1 THEN
--PERFORM fun_event_insert_by_ideventtype(now()::timestamp without time zone, 0, 0, 0, 1004, &#39;Unauthorized user &#39;||iusername::text, 0);
INSERT INTO events(
            status, idaccount, ideventtype, description)
    VALUES (0, 0, 1004, &#39;Unauthorized user &#39;||iusername::text||&#39; from IP &#39;||iip::text);

END IF;
*/

RETURN R;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-create-table-partition-idatetimeevent-text-inherts-table-timestamp-with-time-zone">fun_create_table_partition(idatetimeevent text, inherts_table timestamp with time zone)</a>
		</h2>
<h3>Returns: text</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

part TEXT DEFAULT &#39;19000101&#39;;

BEGIN

part := inherts_table||&#39;_&#39;||fun_sufix_name_by_date(idatetimeevent)::TEXT;

IF NOT EXISTS(SELECT table_name FROM information_schema.tables WHERE  table_schema = &#39;public&#39; AND table_name = part LIMIT 1) THEN

EXECUTE &#39;CREATE TABLE IF NOT EXISTS public.&#39;||part::TEXT||&#39;(
   LIKE public.&#39;||inherts_table||&#39; INCLUDING DEFAULTS INCLUDING CONSTRAINTS INCLUDING INDEXES INCLUDING STORAGE INCLUDING COMMENTS
) 
INHERITS (&#39;||inherts_table||&#39;)
WITH (
  OIDS = FALSE,
  toast.autovacuum_enabled=true
);&#39;;


-- Trigger: on_changed_table on events

-- DROP TRIGGER on_changed_table ON events;

EXECUTE &#39;CREATE TRIGGER on_changed_table
  AFTER INSERT OR UPDATE OR DELETE
  ON &#39;||part::TEXT||&#39;
  FOR EACH ROW
  EXECUTE PROCEDURE on_changed_table();&#39;;

-- Trigger: on_insert_event on events

-- DROP TRIGGER on_insert_event ON events;
/*
EXECUTE &#39;CREATE TRIGGER on_insert_event
  AFTER INSERT
  ON &#39;||part::TEXT||&#39;
  FOR EACH ROW
  EXECUTE PROCEDURE events_on_insert();&#39;;
  */

-- Trigger: on_update_row on events

-- DROP TRIGGER on_update_row ON events;

EXECUTE &#39;CREATE TRIGGER on_update_row
  BEFORE UPDATE
  ON &#39;||part::TEXT||&#39;
  FOR EACH ROW
  EXECUTE PROCEDURE on_update_row_update_ts();&#39;;

END IF;


RETURN part;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-create-table-partition-events-data-idatetimeevent-text-inherts-table-timestamp-with-time-zone">fun_create_table_partition_events_data(idatetimeevent text, inherts_table timestamp with time zone)</a>
		</h2>
<h3>Returns: text</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

part TEXT DEFAULT &#39;19000101&#39;;
constraint_name_table TEXT DEFAULT &#39;_dateevent_check&#39;;
dateevent_year INTEGER DEFAULT 1990; 

BEGIN

part := inherts_table||&#39;_&#39;||fun_sufix_name_by_date(idatetimeevent)::TEXT;

IF NOT EXISTS(SELECT table_name FROM information_schema.tables WHERE  table_schema = &#39;events_data&#39; AND table_name = part LIMIT 1) THEN

EXECUTE &#39;CREATE TABLE IF NOT EXISTS events_data.&#39;||part::TEXT||&#39;(
   LIKE public.&#39;||inherts_table||&#39; INCLUDING DEFAULTS INCLUDING CONSTRAINTS INCLUDING INDEXES INCLUDING STORAGE INCLUDING COMMENTS
) 
INHERITS (&#39;||inherts_table||&#39;)
WITH (
  OIDS = FALSE,
  toast.autovacuum_enabled=true
);&#39;;


-- Trigger: on_changed_table on events

-- DROP TRIGGER on_changed_table ON events;

EXECUTE &#39;CREATE TRIGGER on_changed_table
  AFTER INSERT OR UPDATE OR DELETE
  ON events_data.&#39;||part::TEXT||&#39;
  FOR EACH ROW
  EXECUTE PROCEDURE on_changed_table();&#39;;

-- Trigger: on_update_row on events

-- DROP TRIGGER on_update_row ON events;

EXECUTE &#39;CREATE TRIGGER on_update_row
  BEFORE UPDATE
  ON events_data.&#39;||part::TEXT||&#39;
  FOR EACH ROW
  EXECUTE PROCEDURE on_update_row_update_ts();&#39;;


  constraint_name_table := part ||&#39;_dateevent_check&#39;; 
  dateevent_year := Extract(year FROM idatetimeevent); 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   information_schema.table_constraints 
           WHERE  constraint_type = &#39;CHECK&#39; 
           AND    table_name = part 
           AND    constraint_schema = &#39;events_data&#39; 
           AND    constraint_name = constraint_name_table ) THEN 
    EXECUTE &#39;ALTER TABLE events_data.&#39; 
    ||part::text 
    ||&#39;   ADD CONSTRAINT &#39; 
    ||constraint_name_table::text 
    ||&#39; CHECK (EXTRACT(YEAR FROM dateevent) = &#39; 
    ||dateevent_year::text 
    ||&#39;::double precision);&#39;; 
  END IF ; 



-----------------------------------------------

-------------------------
  IF NOT EXISTS 
    ( 
           SELECT trigger_name 
           FROM   information_schema.TRIGGERS 
           WHERE  event_object_table = part 
           AND    event_object_schema = &#39;events_data&#39; 
           AND    trigger_name = &#39;on_insert_event&#39; ) THEN 
    ---------------------- 
    EXECUTE &#39;CREATE TRIGGER on_insert_event   AFTER INSERT   ON events_data.&#39; 
    ||part::text 
    ||&#39;   FOR EACH ROW   EXECUTE PROCEDURE events_on_insert();&#39;; 
  END IF ; 

  
  ---------------------- 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   information_schema.table_constraints 
           WHERE  constraint_type = &#39;FOREIGN KEY&#39; 
           AND    constraint_schema = &#39;events_data&#39;            
           AND    table_name = part 
           AND    constraint_name = &#39;fk_&#39; 
                         ||part 
                         ||&#39;_idadmin&#39;) THEN 
    EXECUTE &#39;ALTER TABLE events_data.&#39; 
    ||part 
    ||&#39;  ADD CONSTRAINT fk_&#39; 
    ||part 
    ||&#39;_idadmin FOREIGN KEY (idadmin) REFERENCES admins (idadmin)  ON UPDATE CASCADE ON DELETE CASCADE;&#39;;
  END IF; 
  
  ---------------------- 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   information_schema.table_constraints 
           WHERE  constraint_type = &#39;FOREIGN KEY&#39; 
           AND    constraint_schema = &#39;events_data&#39;                       
           AND    table_name = part 
           AND    constraint_name = &#39;fk_&#39; 
                         ||part 
                         ||&#39;_ideventreceptionmode&#39;) THEN 
    EXECUTE &#39;ALTER TABLE events_data.&#39; 
    ||part 
    ||&#39;  ADD CONSTRAINT fk_&#39; 
    ||part 
    ||&#39;_ideventreceptionmode FOREIGN KEY (ideventreceptionmode) REFERENCES event_reception_modes (ideventreceptionmode)  ON UPDATE CASCADE ON DELETE SET NULL;&#39;;
  END IF; 



  ---------------------- 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   information_schema.table_constraints 
           WHERE  constraint_type = &#39;FOREIGN KEY&#39;
	   AND    constraint_schema = &#39;events_data&#39;                       
           AND    table_name = part 
           AND    constraint_name = &#39;fk_&#39; 
                         ||part 
                         ||&#39;_ideventtype&#39;) THEN 
    EXECUTE &#39;ALTER TABLE events_data.&#39; 
    ||part 
    ||&#39;  ADD CONSTRAINT fk_&#39; 
    ||part 
    ||&#39;_ideventtype FOREIGN KEY (ideventtype) REFERENCES eventtypes (ideventtype)  ON UPDATE CASCADE ON DELETE SET NULL;&#39;;
  END IF; 

  ---------------------- 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   pg_indexes 
           WHERE  tablename = part 
           AND schemaname = &#39;events_data&#39;
           AND    indexname = &#39;index_&#39; 
                         ||part 
                         ||&#39;_isopen&#39;) THEN 
    EXECUTE &#39; CREATE UNIQUE INDEX index_&#39; 
    ||part 
    ||&#39;_isopen   ON events_data.&#39; 
    ||part 
    ||&#39; USING btree (dateevent, ideventstatustype, idaccount, ideventtype, zu, idequipment)
  WHERE isopen = true;&#39;; 
  END IF; 


  ---------------------- 
  IF NOT EXISTS 
    ( 
           SELECT * 
           FROM   pg_indexes 
           WHERE  tablename = part 
           AND schemaname = &#39;events_data&#39;           
           AND    indexname = &#39;index_&#39; 
                         ||part 
                         ||&#39;_idaccideventt&#39;) THEN 
    EXECUTE &#39; CREATE INDEX index_&#39; 
    ||part 
    ||&#39;_idaccideventt   ON events_data.&#39; 
    ||part 
    ||&#39; USING btree (idaccount, ideventtype)&#39;; 
  END IF; 




  
  

END IF;


RETURN part;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-edit-event-comments-fun-msg-integer-fun-return-integer-iidevent-timestamp-without-time-zone-istatus-integer-icomment-event-text-iseconds-integer-istart-bigint">fun_edit_event_comments(fun_msg integer, fun_return integer, iidevent timestamp without time zone, istatus integer, icomment_event text, iseconds integer, istart bigint)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

BEGIN

fun_return := -100;
fun_msg := &#39;Error desconocido&#39;;

CASE

	WHEN id = 0  THEN
-- Ingresamos un nuevo registro
INSERT INTO event_comments(
            idadmin, start, seconds, comment_event, status, 
            idevent)
    VALUES (iidadmin, istart, iseconds, icomment_event, istatus, 
            iidevent) RETURNING ideventcomment INTO fun_return;
fun_msg := &#39;Nuevo registro insertado&#39;;

	WHEN id &gt; 0  THEN
-- Actualizamos
UPDATE event_comments
   SET idadmin=iidadmin, start=istart, seconds=iseconds, comment_event=icomment_event, 
       status=istatus, idevent=iidevent
 WHERE  ideventcomment=id;
 fun_return = id;
 fun_msg := &#39;Registro Actualizado&#39;;

	WHEN id &lt; 0  THEN
-- Eliminamos
 DELETE FROM event_comments
 WHERE  ideventcomment=id;
 fun_return := 0;
 fun_msg := &#39;Registro Eliminado&#39;;

 END CASE;


RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-event-assignment-admin-assigned-bigint-iideventtype-bigint-iidaccount-bigint">fun_event_assignment(admin_assigned bigint, iideventtype bigint, iidaccount bigint)</a>
		</h2>
<h3>Returns: bigint</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

R BIGINT;
iiddivision BIGINT;
iisopen boolean DEFAULT FALSE;

BEGIN

IF EXISTS(SELECT * FROM admins WHERE idadmin = admin_assigned) THEN
R := admin_assigned;
ELSE   

-------------------- 
-- TODO - Debe haber un bloque que auto asigne el evento al administrador que sea conveniente si el status esta en 0
-- Buscamos que administradores tienen acceso a la division y al iaccount de la cuenta de este evento
SELECT iddivision INTO iiddivision FROM accounts WHERE idcontact = iidaccount;

SELECT idadmin 
INTO   R 
FROM   admins 
WHERE  iiddivision = ANY(divisions) 
AND    iidaccount = ANY (idaccounts) limit 1; 

END IF;


RETURN R;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-event-comment-insert-selected-fun-msg-integerARRAY-fun-return-integer-iidadmin-text-istatus-integer-icomment-integer">fun_event_comment_insert_selected(fun_msg integer[], fun_return integer, iidadmin text, istatus integer, icomment integer)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

i INTEGER DEFAULT 0;
iidevent INTEGER;

BEGIN

fun_return := -100;
fun_msg := &#39;Comentario agregado a varios eventos&#39;;


   FOREACH iidevent IN ARRAY iidevents
   LOOP
      --RAISE NOTICE &#39;another_func(%,%)&#39;,m[1], m[2];
INSERT INTO event_comments(
            idadmin, seconds, comment_event, status, 
            idevent)
    VALUES (iidadmin, iseconds, icomment, istatus, 
            iidevent);

	i := i+1;
   END LOOP;


fun_return := i;
fun_msg := &#39;Comentario agregado a &#39;||i::TEXT||&#39; eventos&#39;;

RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-event-comments-table-create-partition-idatetimeevent-timestamp-without-time-zone">fun_event_comments_table_create_partition(idatetimeevent timestamp without time zone)</a>
		</h2>
<h3>Returns: boolean</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

r BOOLEAN DEFAULT TRUE;
dia TEXT DEFAULT &#39;19000101&#39;;

BEGIN

dia := &#39;event_comments_&#39;||fun_sufix_name_by_date(idatetimeevent);

IF NOT EXISTS(SELECT table_name FROM information_schema.tables WHERE table_catalog = &#39;open_ams&#39; AND table_schema = &#39;public&#39; AND table_name = dia LIMIT 1) THEN

EXECUTE &#39;CREATE TABLE IF NOT EXISTS public.&#39;||dia::TEXT||&#39;(
   LIKE public.event_comments INCLUDING DEFAULTS INCLUDING CONSTRAINTS INCLUDING INDEXES INCLUDING STORAGE
) 
INHERITS (event_comments)
WITH (
  OIDS = FALSE,
  autovacuum_enabled=true,
  toast.autovacuum_enabled=true
);&#39;;

/*

CREATE TABLE public.events_comments_dia
(
   LIKE public.event_comments INCLUDING DEFAULTS INCLUDING CONSTRAINTS INCLUDING INDEXES INCLUDING STORAGE
) 
INHERITS (event_comments)
WITH (
  OIDS = FALSE
)
;

*/

-- Trigger: on_changed_table on event_comments

-- DROP TRIGGER on_changed_table ON event_comments;

EXECUTE  &#39;CREATE TRIGGER on_changed_table
  AFTER INSERT OR UPDATE OR DELETE
  ON &#39;||dia::TEXT||&#39;
  FOR EACH ROW
  EXECUTE PROCEDURE on_changed_table();&#39;;

-- Trigger: on_insert on event_comments

-- DROP TRIGGER on_insert ON event_comments;

EXECUTE &#39;CREATE TRIGGER on_insert
  BEFORE INSERT
  ON &#39;||dia::TEXT||&#39;
  FOR EACH ROW
  EXECUTE PROCEDURE event_comments_on_insert();&#39;;

-- Trigger: on_update_row on event_comments

-- DROP TRIGGER on_update_row ON event_comments;

EXECUTE &#39;CREATE TRIGGER on_update_row
  BEFORE UPDATE
  ON &#39;||dia::TEXT||&#39;
  FOR EACH ROW
  EXECUTE PROCEDURE on_update_row_update_ts();&#39;;


END IF;

RETURN r;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-event-get-detail-as-json-iidevent-bigint">fun_event_get_detail_as_json(iidevent bigint)</a>
		</h2>
<h3>Returns: json</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

origin_table TEXT;
rjson json;

BEGIN

--regclass

SELECT tableoid::regclass::TEXT INTO origin_table FROM events WHERE idevent = iidevent;

EXECUTE &#39;SELECT row_to_json(&#39;||origin_table||&#39;) FROM &#39;||origin_table||&#39; WHERE idevent = &#39;||iidevent::TEXT INTO rjson;




RETURN rjson;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-event-insert-fun-msg-timestamp-without-time-zone-fun-return-integer-iidadmin-integer-idescription-text-iideventtype-integer-ipriority-integer-izu-integer-icode-text-iidaccount-integer">fun_event_insert(fun_msg timestamp without time zone, fun_return integer, iidadmin integer, idescription text, iideventtype integer, ipriority integer, izu integer, icode text, iidaccount integer)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

BEGIN

fun_return := -100;
fun_msg := &#39;Error desconocido&#39;;

IF NOT EXISTS(SELECT idevent FROM eventtypes WHERE ideventtype = iideventtype) THEN
-- Verificamos si existe el ideventtype, caso contrario le asignamos como 0 (desconocido)
iideventtype := 0;
END IF;


SELECT * FROM fun_edit_events(0, idateevent, istatus, iidaccount, icode, izu, ipriority, iideventtype, idescription, iidadmin) INTO fun_return, fun_msg;

RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-event-insert-by-ideventtype-fun-msg-timestamp-without-time-zone-fun-return-integer-iidadmin-integer-idescription-integer-iideventtype-integer-ipriority-text-izu-integer">fun_event_insert_by_ideventtype(fun_msg timestamp without time zone, fun_return integer, iidadmin integer, idescription integer, iideventtype integer, ipriority text, izu integer)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        <p>Inserta un evento usando como parametros principales el ideventtype para buscar los datos de ese evento y el account para obtener el idcontact de la tabla accounts.</p>
        <pre>DECLARE

istatus INTEGER DEFAULT 0;

BEGIN

fun_return := -100;
fun_msg := &#39;Error desconocido&#39;;

/*
IF NOT EXISTS(SELECT * FROM eventtypes WHERE ideventtype = iideventtype) THEN
-- Verificamos si existe el ideventtype, caso contrario le asignamos como 0 (desconocido)
iideventtype := 0;
END IF;
*/

-- Insertamos
SELECT * FROM fun_edit_events(0, idateevent, istatus, iidaccount, &#39;&#39;, izu, ipriority, iideventtype, idescription, iidadmin) INTO fun_return, fun_msg;

RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-event-insert-by-ideventtype-account-fun-msg-timestamp-without-time-zone-fun-return-text-iidadmin-integer-idescription-integer-iideventtype-integer-ipriority-text-izu-integer">fun_event_insert_by_ideventtype_account(fun_msg timestamp without time zone, fun_return text, iidadmin integer, idescription integer, iideventtype integer, ipriority text, izu integer)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

iidaccount INTEGER DEFAULT 1;

BEGIN
iidaccount := fun_get_idaccount_by_account(iaccount);
-- Insertamos
SELECT * FROM fun_event_insert_by_ideventtype(idateevent, iidaccount, izu, ipriority, iideventtype, idescription, iidadmin) INTO fun_return, fun_msg;

RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-event-insert-diskspace-ofun-msg-bigint-ofun-return-text-isize-real">fun_event_insert_diskspace(ofun_msg bigint, ofun_return text, isize real)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

min_space INTEGER DEFAULT 50000;
idescrip TEXT DEFAULT &#39;&#39;;
iideventtype INTEGER DEFAULT 0;
iidaccount INTEGER DEFAULT 0;
last_size REAL DEFAULT -100;
row_network_device view_account_network_devices%ROWTYPE;

BEGIN


SELECT * INTO row_network_device FROM view_account_network_devices WHERE idequipment = iidequipment;

idescrip := &#39;&#39;;


--last_size := COALESCE((SELECT drive_size FROM events_diskspace WHERE idequipment = iidequipment  AND drive =  idrive ORDER BY idevent DESC LIMIT 1), -200);
--RAISE  &#39;DESPUES: %&#39;, timeofday();

CASE


	WHEN idrive = &#39;D&#39; OR idrive = &#39;E&#39; THEN
IF isize &gt; min_space THEN
iideventtype := 62;
idescrip := idescrip||&#39;&lt;b&gt;Drive:&lt;/b&gt; &#39;||idrive||&#39; &lt;/br&gt;&lt;b&gt;Size:&lt;/b&gt; &#39;||isize||&#39; MB&#39;;
ELSE
iideventtype := 52;
idescrip := idescrip||&#39;&lt;b&gt;Drive:&lt;/b&gt; &#39;||idrive||&#39; &lt;/br&gt;&lt;b&gt;Size:&lt;/b&gt; &#39;||isize||&#39; MB. &lt;/br&gt;Disk space lower than &#39;||min_space||&#39; MB.&#39;;
END IF;

ELSE

IF isize &gt; 15000 THEN
iideventtype := 62;
idescrip := idescrip||&#39;&lt;b&gt;Drive:&lt;/b&gt; &#39;||idrive||&#39; &lt;/br&gt;&lt;b&gt;Size:&lt;/b&gt; &#39;||isize||&#39; MB&#39;;
ELSE
iideventtype := 52;
idescrip := idescrip||&#39;&lt;b&gt;Drive:&lt;/b&gt; &#39;||idrive||&#39; &lt;/br&gt;&lt;b&gt;Size:&lt;/b&gt; &#39;||isize||&#39; MB. &lt;/br&gt;Disk space lower than &#39;||15000::text||&#39; MB.&#39;;
END IF;

END CASE;


 INSERT INTO events_diskspace (ideventtype, description, idaccount, drive, drive_free, zu, idequipment) VALUES (iideventtype, idescrip, row_network_device.idcontact, idrive, isize, ascii(idrive), iidequipment) RETURNING idevent INTO ofun_return;


RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-event-status-get-label-istatus-integer">fun_event_status_get_label(istatus integer)</a>
		</h2>
<h3>Returns: text</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE
r TEXT DEFAULT &#39;Unknown&#39;;
BEGIN

CASE

	WHEN istatus = 0  THEN
-- Abierto
		r := &#39;Open&#39;;
	WHEN istatus = 1  THEN
-- Cerrado
		r := &#39;Close&#39;;
	WHEN istatus = 2  THEN
-- Cerrado automaticamente por el sistema
		r := &#39;Close (System)&#39;;
	WHEN istatus = 3  THEN
-- Pendiente
		r := &#39;Pending&#39;;
	WHEN istatus = 4  THEN
-- Reabierto		
		r := &#39;Reopen&#39;;
	WHEN istatus = 5  THEN	
		r := &#39;Expired&#39;;
	WHEN istatus = 6  THEN	
		r := &#39;Close (Like other previous event without closing)&#39;;
	WHEN istatus = 7  THEN						
		r := &#39;Close (For Restore)&#39;;
	WHEN istatus = 8  THEN						
		r := &#39;Close (Invalid account)&#39;;	
			WHEN istatus = 9  THEN						
		r := &#39;Close (Unabled account)&#39;;		
	ELSE
		r := &#39;yyy&#39;;
 END CASE;


RETURN r;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-event-time-last-eventtype-account-not-closed-izu-integer-iideventtype-timestamp-without-time-zone-idateevent-integer-iidaccount-bigint">fun_event_time_last_eventtype_account_not_closed(izu integer, iideventtype timestamp without time zone, idateevent integer, iidaccount bigint)</a>
		</h2>
<h3>Returns: integer</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

-- Tiempo en minutos
itime integer default -1; 
ilastdateevent timestamp without time zone DEFAULT now();

BEGIN
RAISE NOTICE &#39;1) Inicia fun_event_time_last_eventtype_account_not_closed&#39;;
RAISE NOTICE &#39;2) Datos iideventtype % / iidaccount % / izu %&#39;, iideventtype::text, iidaccount::text, izu::text;


--dateevent timestamp without time zone DEFAULT now()
ilastdateevent := COALESCE((SELECT dateevent FROM events WHERE ideventtype = iideventtype AND idaccount = iidaccount AND zu = izu AND status IN(0, 4, 5) ORDER BY idevent DESC LIMIT 1), &#39;2099-01-01 00:00&#39;::timestamp without time zone);

RAISE NOTICE &#39;ilastdateevent(%)&#39;, ilastdateevent;
RAISE NOTICE &#39;idateevent(%)&#39;, idateevent;
RAISE NOTICE &#39;seg(%)&#39;, EXTRACT(epoch FROM age(ilastdateevent, idateevent));

itime := (EXTRACT(epoch FROM age(idateevent, ilastdateevent))/60)::INTEGER;


RETURN itime;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-expired-session">fun_expired_session()</a>
		</h2>
<h3>Returns: integer</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

fun_return INTEGER DEFAULT 0;
cursor1 CURSOR FOR SELECT * FROM (SELECT idadmin, admin_sessionid, (extract(epoch from age(now(), last_heartbeat))/60) AS minutes_event from admins WHERE enabled = true AND admin_sessionid IS NOT NULL) s WHERE minutes_event &gt; 2;
    cursor1_row RECORD;

BEGIN

    FOR cursor1_row IN cursor1 LOOP
	PERFORM fun_logout(cursor1_row.idadmin, cursor1_row.admin_sessionid);
	fun_return := fun_return+1;
    END LOOP;
   

RETURN fun_return;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-farma-event-insert-jobs-ofun-msg-bigint-ofun-return-timestamp-with-time-zone-ijob-next-run-bigint-ijob-run-duration-integer-ijob-date-create-integer-ijob-description-bigint-ijob-enabled-text-ijob-name-boolean-izu-text-job-current-execution-status-timestamp-with-time-zone-last-run-outcome-integer-iidaccount-timestamp-with-time-zone">fun_farma_event_insert_jobs(ofun_msg bigint, ofun_return timestamp with time zone, ijob_next_run bigint, ijob_run_duration integer, ijob_date_create integer, ijob_description bigint, ijob_enabled text, ijob_name boolean, izu text, job_current_execution_status timestamp with time zone, last_run_outcome integer, iidaccount timestamp with time zone)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

row_network_device view_account_network_devices%ROWTYPE;
descrip TEXT DEFAULT &#39;&#39;;
descrip_current_status TEXT DEFAULT &#39;&#39;;
iideventtype_current_status BIGINT DEFAULT -1;
iideventtype_last_run_outcome BIGINT DEFAULT -1;

BEGIN

SELECT * INTO row_network_device FROM view_account_network_devices WHERE idequipment = iidequipment;

--descrip := &#39;&lt;b&gt;Equipo:&lt;/b&gt; &#39;||row_network_device.equipment||&#39;&lt;/br&gt; &lt;b&gt;IP:&lt;/b&gt; &#39;||row_network_device.ip::TEXT||&#39;&lt;/br&gt; &#39;|| &#39;&lt;b&gt;JOB: &#39;||ijob_name||&#39;&lt;/b&gt; &lt;/br&gt; &lt;b&gt;Description:&lt;/b&gt; &#39;||ijob_description||&#39;&lt;/br&gt; &lt;b&gt;Next Run:&lt;/b&gt; &#39;||ijob_next_run::TEXT||&#39;&lt;/br&gt;&#39;;
--descrip_current_status := equip;
descrip := &#39;&lt;b&gt;JOB: &#39;||ijob_name||&#39;&lt;/b&gt; &lt;/br&gt; &lt;b&gt;Description:&lt;/b&gt; &#39;||ijob_description;


CASE

WHEN job_current_execution_status = 0 THEN
iideventtype_current_status := 67;
descrip_current_status := descrip||&#39; [Are not idle or suspended]&#39;;

WHEN job_current_execution_status = 1 THEN
iideventtype_current_status := 69;
descrip_current_status := descrip||&#39; [Executing]&#39;;

WHEN job_current_execution_status = 2 THEN
iideventtype_current_status := 70;
descrip_current_status := descrip||&#39; [Waiting for thread]&#39;;

WHEN job_current_execution_status = 3 THEN
iideventtype_current_status := 71;
descrip_current_status := descrip||&#39; [Between retries]&#39;;

WHEN job_current_execution_status = 4 THEN
iideventtype_current_status := 72;
descrip_current_status := descrip||&#39; [Idle]&#39;;

WHEN job_current_execution_status = 5 THEN
iideventtype_current_status := 73;
descrip_current_status := descrip||&#39; [Suspended]&#39;;

WHEN job_current_execution_status = 7 THEN
iideventtype_current_status := 74;
descrip_current_status := descrip||&#39; [Performing completion actions]&#39;;


ELSE
iideventtype_current_status := 75;
descrip_current_status := descrip||&#39; [???]&#39;;
END CASE;

BEGIN
-- Inserta el estado actual del JOB
INSERT INTO events(ideventtype, description, idaccount, zu, idequipment) VALUES (iideventtype_current_status, descrip_current_status, iidaccount, izu, iidequipment);

  EXCEPTION WHEN unique_violation THEN
            -- do nothing, and loop to try the UPDATE again


END;

--descrip := &#39;&lt;b&gt;Equipo:&lt;/b&gt; &#39;||row_network_device.equipment||&#39;&lt;/br&gt; &lt;b&gt;IP:&lt;/b&gt; &#39;||row_network_device.ip::TEXT||&#39;&lt;/br&gt; &#39;|| &#39;&lt;b&gt;JOB: &#39;||ijob_name||&#39;&lt;/b&gt;  &lt;/br&gt; &lt;b&gt;Description:&lt;/b&gt; &#39;||ijob_description||&#39;&lt;/br&gt; &lt;b&gt;Next Run:&lt;/b&gt; &#39;||ijob_next_run::TEXT||&#39;&lt;/br&gt;&#39;;
descrip := &#39;&lt;b&gt;JOB: &#39;||ijob_name||&#39;&lt;/b&gt;  &lt;/br&gt; &lt;b&gt;Description:&lt;/b&gt; &#39;||ijob_description;

CASE

WHEN last_run_outcome = 0 THEN
iideventtype_last_run_outcome := 29;
descrip := descrip||&#39; &lt;b&gt;[Failed]&lt;/b&gt;&#39;;

WHEN last_run_outcome = 1 THEN
iideventtype_last_run_outcome := 30;
descrip := descrip||&#39; &lt;b&gt;[Succeeded]&lt;/b&gt;&#39;;

WHEN last_run_outcome = 3 THEN
iideventtype_last_run_outcome := 31;
descrip := descrip||&#39; &lt;b&gt;[Canceled]&lt;/b&gt;&#39;;

WHEN last_run_outcome = 5 THEN
iideventtype_last_run_outcome := 32;
descrip := descrip||&#39; &lt;b&gt;[Unknown]&lt;/b&gt;&#39;;


ELSE
iideventtype_last_run_outcome := 0;
descrip := descrip||&#39; &lt;b&gt;[???]&lt;/b&gt;&#39;;

END CASE;



/*
switch($row[&quot;last_run_outcome&quot;]){

	case 0:
		$ideventtype = 29;
		$description_event = $description_event.&quot; &lt;b&gt;[Failed]&lt;/b&gt; &quot;;
		$jobs_fail++;
	break;
	case 1:
		$ideventtype = 30;
		$description_event = $description_event.&quot; [Succeeded] &quot;;
	break;
	case 3:
		$ideventtype = 31;
		$description_event = $description_event.&quot; [Canceled] &quot;;
	break;
	case 5:
		$ideventtype = 32;
		$description_event = $description_event.&quot; [Unknown] &quot;;
	break;
	default:
		$ideventtype = 0;
		$description_event = $description_event.&quot; [???] &quot;;
	break;
}
*/

BEGIN

INSERT INTO events_jobs(
            dateevent, ideventtype, description, idaccount, idequipment,
            zu, job_name, job_enabled, job_description, job_date_create, 
            job_run_duration, job_run_status, job_next_run)
    VALUES (idateevent, iideventtype_last_run_outcome, descrip, iidaccount, iidequipment,
            izu, ijob_name, ijob_enabled, ijob_description, ijob_date_create, 
            ijob_run_duration, last_run_outcome, ijob_next_run);


  EXCEPTION WHEN unique_violation THEN
            -- do nothing, and loop to try the UPDATE again
            END;

RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-farma-event-insert-lista-precios-icantidad-productos-text-ilista-activa-text-ilista-principal-text-ioficina-integer">fun_farma_event_insert_lista_precios(icantidad_productos text, ilista_activa text, ilista_principal text, ioficina integer)</a>
		</h2>
<h3>Returns: boolean</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE  

Retorno boolean DEFAULT false;
iideventtype INTEGER DEFAULT 0;
idescription TEXT DEFAULT &#39;----&#39;;
iidaccount INTEGER DEFAULT 0;
temp_descrip TEXT DEFAULT &#39;-----&#39;;

BEGIN

iidaccount := fun_get_idaccount_by_account(ioficina, 1);

-- Revisa si la lista de precios es 0
IF icantidad_productos &lt; 100 THEN
iideventtype := 54;
idescription := &#39;La lista de precios activa: &lt;b&gt;&#39;||ilista_activa||&#39;&lt;/b&gt; tiene  &lt;b&gt;&#39;||icantidad_productos::TEXT||&#39;&lt;/b&gt; productos.&#39;;
PERFORM fun_event_insert_by_ideventtype(now()::timestamp without time zone, iidaccount, 0, 0, iideventtype, idescription, 0);
END IF;

-- Revisa si la lista activa es igual a la lista principal
IF ilista_principal != ilista_activa THEN
iideventtype := 57;
idescription := &#39;La lista principal &lt;b&gt;[&#39;||ilista_principal||&#39;]&lt;/b&gt; no es igual a la lista activa &lt;b&gt;[&#39;||ilista_activa||&#39;]&lt;/b&gt;&#39;;
PERFORM fun_event_insert_by_ideventtype(now()::timestamp without time zone, iidaccount, 0, 0, iideventtype, idescription, 0);
END IF;


-- Revisa si la lista activa de productos ha cambiado
iideventtype := 55;
idescription := &#39;La lista activa de productos a cambiado a &lt;b&gt;&#39;||ilista_activa||&#39;&lt;/b&gt;&#39;;
--SELECT description INTO temp_descrip FROM events WHERE ideventtype = iideventtype AND idaccount = iidaccount ORDER BY idevent DESC LIMIT 1;
temp_descrip:= COALESCE((SELECT description FROM events WHERE ideventtype = iideventtype AND idaccount = iidaccount ORDER BY idevent DESC LIMIT 1), &#39;&#39;);
IF idescription != temp_descrip THEN
PERFORM fun_event_insert_by_ideventtype(now()::timestamp without time zone, iidaccount, 0, 0, iideventtype, idescription, 0);
END IF;

-- Revisa si la lista principal ha cambiado
iideventtype := 56;
idescription := &#39;La lista principal de productos a cambiado a &lt;b&gt;&#39;||ilista_principal||&#39;&lt;/b&gt;&#39;;
temp_descrip:= COALESCE((SELECT description FROM events WHERE ideventtype = iideventtype AND idaccount = iidaccount ORDER BY idevent DESC LIMIT 1), &#39;&#39;);
--SELECT description INTO temp_descrip FROM events WHERE ideventtype = iideventtype AND idaccount = iidaccount ORDER BY idevent DESC LIMIT 1;
IF idescription != temp_descrip THEN
PERFORM fun_event_insert_by_ideventtype(now()::timestamp without time zone, iidaccount, 0, 0, iideventtype, idescription, 0);
END IF;



RETURN Retorno; 
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-farma-event-insert-sqlserver-uptime-iuptime-bigint-iidequipment-integer">fun_farma_event_insert_sqlserver_uptime(iuptime bigint, iidequipment integer)</a>
		</h2>
<h3>Returns: bigint</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

--R INTEGER DEFAULT 0;
--last_uptime REAL DEFAULT -100.1;
limit_uptime REAL DEFAULT 14; 
iideventtype BIGINT DEFAULT 0;
idescrip TEXT DEFAULT &#39;&#39;;
days_uptime REAL DEFAULT -1.1;


BEGIN

--last_uptime := COALESCE((SELECT uptime FROM events_device_uptime WHERE idequipment = iidequipment ORDER BY idevent DESC LIMIT 1), -1);

days_uptime := round((iuptime / 1440.0), 1);

--idescrip :=  &#39;&lt;b&gt;Servidor encendido&lt;/b&gt;  desde hace &lt;b&gt;&#39;||iuptime::text||&#39; minutos. o sea &#39;||days_uptime::text||&#39; dias&lt;/b&gt; &#39;;
idescrip :=  &#39;&lt;b&gt;Servidor encendido&lt;/b&gt;  desde hace &lt;b&gt;&#39;||days_uptime::text||&#39; das&lt;/b&gt; &#39;;

CASE 

WHEN days_uptime &gt;= limit_uptime THEN
iideventtype := 59;

--WHEN days_uptime &lt; 1 THEN
--iideventtype := 87;


WHEN days_uptime &lt; limit_uptime THEN
iideventtype := 58;



ELSE

END CASE;



--IF (last_uptime != days_uptime) AND iideventtype &gt; 0 THEN
IF iideventtype &gt; 0 THEN
INSERT INTO events_device_uptime(
            ideventtype, description, idequipment, uptime)
    VALUES (iideventtype, idescrip, iidequipment, days_uptime);
END IF;

--END IF;

RETURN iidequipment;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-farma-event-insert-statusdb-account-ofun-msg-bigint-ofun-return-bigint-idblogsize-text-idbfilesize-bigint-istate-des-integer-istatus-text-izu-real-inamedb-real">fun_farma_event_insert_statusdb_account(ofun_msg bigint, ofun_return bigint, idblogsize text, idbfilesize bigint, istate_des integer, istatus text, izu real, inamedb real)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

--iidaccount INTEGER DEFAULT 1;
iideventtype INTEGER DEFAULT 0;
--idescrip_logsize TEXT DEFAULT &#39;&#39;;
--idescrip_dbsize TEXT DEFAULT &#39;&#39;;
idescrip TEXT DEFAULT &#39;&#39;;
--duplicado BOOLEAN DEFAULT FALSE;
max_size_log INTEGER DEFAULT 2000;
max_size_db INTEGER DEFAULT 15000;
row_network_device view_account_network_devices%ROWTYPE;
equip TEXT DEFAULT &#39;&#39;;

BEGIN

 SELECT * INTO row_network_device FROM view_account_network_devices WHERE idequipment = iidequipment;

equip := &#39;&#39;;



-- // BLOQUE DE ESTADOS //--
idescrip  := equip||&#39;&lt;b&gt;Data Base:&lt;/b&gt; &#39;||inamedb||&#39;&lt;/br&gt;&lt;b&gt; Status:&lt;/b&gt; &#39;||istate_des;
CASE

WHEN istatus = 0 THEN
-- ONLINE 
iideventtype := 34;

WHEN istatus = 1 THEN
-- RESTORING 
iideventtype := 35;

WHEN istatus = 2 THEN
-- RECOVERING
iideventtype := 36;

WHEN istatus = 3 THEN
-- RECOVERING PENDING
iideventtype := 38;

WHEN istatus = 4 THEN
-- SUSPECT
iideventtype := 33;

WHEN istatus = 5 THEN
-- EMERGENCY
iideventtype := 44;

WHEN istatus = 6 THEN
-- OFFLINE
iideventtype := 45;

WHEN istatus = 7 THEN
-- COPYING
iideventtype := 46;

ELSE

END CASE;



INSERT INTO events(
            ideventtype, description, idaccount, zu)
    VALUES (iideventtype, idescrip, iidaccount, izu);




-- // BLOQUE DE TAMAO LOGS //--
-- limite establecido para los logs
IF idblogsize &gt; max_size_log THEN
iideventtype := 47;
idescrip  := equip||&#39;&lt;b&gt;Data Base:&lt;/b&gt; &#39;||inamedb||&#39;&lt;/br&gt;&lt;b&gt; Log Size:&lt;/b&gt; &#39;||idblogsize::text||&#39; MB &lt;/br&gt;Exceeds the maximum size set to &#39;||max_size_log||&#39; MB&#39;;
ELSE
iideventtype := 61;
idescrip  := equip||&#39;&lt;b&gt;Data Base:&lt;/b&gt; &#39;||inamedb||&#39;&lt;/br&gt;&lt;b&gt; Log Size:&lt;/b&gt; &#39;||idblogsize::text||&#39; MB&#39;;
END IF;


INSERT INTO events_dbsizes(
            ideventtype, description, idaccount, zu,
            db_name, db_size, db_type)
    VALUES (iideventtype, idescrip, iidaccount, izu,
            inamedb, idblogsize, 1);








IF idbfilesize &gt; max_size_db THEN
iideventtype := 48;
idescrip  := equip||&#39;&lt;b&gt;Data Base:&lt;/b&gt; &#39;||inamedb||&#39;&lt;/br&gt;&lt;b&gt; Size:&lt;/b&gt; &#39;||idbfilesize::text||&#39; MB &lt;/br&gt;Exceeds the maximum size set to &#39;||max_size_db||&#39; MB&#39;;
ELSE
iideventtype := 60;
idescrip  := equip||&#39;&lt;b&gt;Data Base:&lt;/b&gt; &#39;||inamedb||&#39;&lt;/br&gt;&lt;b&gt; Size:&lt;/b&gt; &#39;||idbfilesize::text||&#39; MB&#39;;
END IF;


INSERT INTO events_dbsizes(
            ideventtype, description, idaccount, zu,
            db_name, db_size, db_type)
    VALUES (iideventtype, idescrip, iidaccount, izu,
            inamedb, idbfilesize, 0);





RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-farma-import-accounts-fun-msg-text-fun-return-text-cedula-sup-operativo-text-iemail-text-telf2-text-telf1-timestamp-without-time-zone-idb-pwd-timestamp-without-time-zone-idb-user-text-iaccount-text-iend-date-text-istart-date-text-iaddress-ref-text-iaddress-text-ilast-name-text">fun_farma_import_accounts(fun_msg text, fun_return text, cedula_sup_operativo text, iemail text, telf2 text, telf1 timestamp without time zone, idb_pwd timestamp without time zone, idb_user text, iaccount text, iend_date text, istart_date text, iaddress_ref text, iaddress text, ilast_name text)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE
id BIGINT DEFAULT 0;
ienabled BOOLEAN DEFAULT TRUE;
idldf INTEGER DEFAULT 0;
ifirst_name text default &#39;&#39;;
iidaccounttype INTEGER DEFAULT 0;

ifname text default &#39;&#39;;
ilname text default &#39;&#39;;

BEGIN

fun_return := -100;
fun_msg := &#39;Error desconocido&#39;;
id := fun_get_idaccount_by_account(iaccount, 1);
idldf := COALESCE((SELECT idcontact FROM contacts WHERE identification = cedula_sup_operativo LIMIT 1), 0);

CASE
WHEN position(&#39;MEDI &#39; in ilast_name) = 1 THEN
ifname := substring(ilast_name from 6 for 100);
ilname := &#39;MEDI&#39;;

WHEN position(&#39;ECO &#39; in ilast_name) = 1 THEN
ifname := substring(ilast_name from 5 for 100);
ilname := &#39;ECO&#39;;

WHEN position(&#39;PAF &#39; in ilast_name) = 1 THEN
ifname := substring(ilast_name from 5 for 100);
ilname := &#39;PAF&#39;;

ELSE

ifname := &#39; *&#39;;
ilname := ilast_name;

END CASE;

IF istatus != &#39;A&#39; THEN
ienabled := FALSE;
END IF;

IF franquicia = &#39;N&#39; THEN
iidaccounttype := 3;
ELSE
iidaccounttype := 4;
END IF;

RAISE NOTICE &#39;Account (%) con ID (%)&#39;, iaccount, id;

-- Para este caso ilast_name se lo utiliza como nombre y * como apellido

CASE

	WHEN id &lt;= 1 THEN
	BEGIN

-- Verificamos que no se repita el abonado
	iaccount := fun_account_auto_account(iaccount);

-- Ingresamos un nuevo registro
INSERT INTO accounts(
            enabled, first_name, last_name, birthday, identification, 
            address, address_ref, 
            start_date, end_date, account, idaccounttype, iddivision)
    VALUES (ienabled,  ilname, ifname, istart_date, iaccount, 
            iaddress, iaddress_ref, 
            istart_date, iend_date, iaccount, iidaccounttype, 1)
 RETURNING idcontact INTO fun_return;
fun_msg := &#39;Nuevo registro insertado&#39;;

IF fun_return &gt; 0 THEN

PERFORM fun_farma_import_accounts_insertphone(fun_return, telf1);
PERFORM fun_farma_import_accounts_insertphone(fun_return, telf2);
PERFORM fun_farma_import_accounts_insertemail(fun_return, iemail);

DELETE FROM account_contacts WHERE appointment = &#39;Farma_LDF&#39; AND idaccount = fun_return;
IF idldf &gt; 0 THEN
INSERT INTO account_contacts (idaccount, idcontact, appointment, priority) VALUES (fun_return, idldf, &#39;Farma_LDF&#39;, 2);
END IF;

END IF;

fun_msg := fun_return;

EXCEPTION WHEN unique_violation THEN
 -- do nothing
 fun_return := -2;
 fun_msg := &#39;Registro tiene campos que deben ser unicos&#39;||iaccount||&#39; &#39;||ilast_name||&#39; &#39;||iaccount;
END;


	WHEN id &gt; 1  THEN
BEGIN	
-- Actualizamos
RAISE NOTICE &#39;Account (%) con ID (%) para actualizar cuenta&#39;, iaccount, id;
UPDATE accounts
   SET iddivision = 1, first_name=ifname, last_name=ilname, birthday=istart_date, 
       identification=iaccount, address=iaddress, address_ref=iaddress_ref, start_date=istart_date, end_date=iend_date, account=iaccount, idaccounttype = iidaccounttype
 WHERE idcontact = id;
 fun_return := id;
 fun_msg := &#39;Registro Actualizado&#39;;
RAISE NOTICE &#39;Account (%) con ID (%) para actualizar telefonos&#39;, iaccount, id;

PERFORM fun_farma_import_accounts_insertphone(id, telf1);
PERFORM fun_farma_import_accounts_insertphone(id, telf2);
PERFORM fun_farma_import_accounts_insertemail(id, iemail);

RAISE NOTICE &#39;Account (%) con ID (%) para actualizar - Eliminamos el LDF&#39;, iaccount, id;
DELETE FROM account_contacts WHERE appointment = &#39;Farma_LDF&#39; AND idaccount = id;

RAISE NOTICE &#39;Account (%) con ID (%) para actualizar ldf&#39;, iaccount, id;
IF idldf &gt; 0 THEN
INSERT INTO account_contacts (idaccount, idcontact, appointment, priority) VALUES (id, idldf, &#39;Farma_LDF&#39;, 2);
END IF;

/*
RAISE NOTICE &#39;Account (%) con ID (%) para actualizar datos del servidor (% =&gt; %)&#39;, iaccount, id, idb_user, idb_pwd;
-- Actualizamos los datos del servidor
UPDATE network_devices
   SET username=idb_user, pwd=idb_pwd WHERE idaccount=id AND equipment=&#39;Server&#39; AND mark=&#39;Farma01&#39;;
        IF NOT found THEN

IF id &gt; 0 THEN
RAISE NOTICE &#39;Account (%) con ID (%) para actualizar / Datos del servidor no encontrados, se inserta.&#39;, iaccount, id;        
INSERT INTO network_devices(
            equipment, mark, description, 
            username, pwd, idaccount)
    VALUES (&#39;Server&#39;, &#39;Farma01&#39;, &#39;Servidor de farmacia Nueva &#39;||id::text, 
            idb_user, idb_pwd, fun_return);
END IF;
        END IF;
*/
 /*
-- Actualizamos los datos del gateway
UPDATE network_devices
   SET note = &#39;No modificar esta nota&#39; WHERE idaccount=fun_return AND equipment=&#39;Gateway&#39;;
        IF NOT found THEN
IF fun_return &gt; 0 THEN
INSERT INTO network_devices(
            equipment, description, idaccount, note)
    VALUES (&#39;Gateway&#39;, &#39;Gateway de farmacia &#39;||fun_return::text, 
            fun_return, &#39;No modificar o borrar esta nota&#39;);
END IF;
        END IF;
*/

fun_msg := id;

 EXCEPTION WHEN unique_violation THEN
 -- do nothing
 fun_return := -3;
 fun_msg := &#39;Registro tiene campos que deben ser unicos id=&#39;||id::TEXT||&#39; &#39;||iaccount||&#39; &#39;||ilast_name||;
 
END;




	WHEN id &lt; 0  THEN
-- Eliminamos
/*DELETE FROM accounts
 WHERE idcontact=id;
 fun_return := 0;
 fun_msg := &#39;Registro Eliminado&#39;;*/

ELSE

 END CASE;


RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-farma-import-accounts-insertemail-iemail-bigint-iidcontact-text">fun_farma_import_accounts_insertemail(iemail bigint, iidcontact text)</a>
		</h2>
<h3>Returns: boolean</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>BEGIN

INSERT INTO emails (idcontact, email) VALUES (iidcontact, iemail);
RETURN true;
 EXCEPTION WHEN unique_violation THEN
 -- do nothing
 --fun_msg := &#39;El numero &#39;||inumber::TEXT||&#39; ya existe para el contacto &#39;||idcontact::text;

RETURN false;
END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-farma-import-accounts-insertphone-inumber-bigint-iidcontact-text">fun_farma_import_accounts_insertphone(inumber bigint, iidcontact text)</a>
		</h2>
<h3>Returns: boolean</h3>
<h3>Language: PLPGSQL</h3>
        <p>Funcion de apoyo para importar datos de telefonos de la cuenta</p>
        <pre>BEGIN

INSERT INTO phones (idcontact, number) VALUES (iidcontact, inumber);
return true;
 EXCEPTION WHEN unique_violation THEN
 -- do nothing
 --fun_msg := &#39;El numero &#39;||inumber::TEXT||&#39; ya existe para el contacto &#39;||idcontact::text;

RETURN false;
END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-farma-import-asig-personal-farma-fun-msg-text-fun-return-text-oficina-text-estado-text-perfil-referencia-boolean-pwd-text">fun_farma_import_asig_personal_farma(fun_msg text, fun_return text, oficina text, estado text, perfil_referencia boolean, pwd text)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

iidaccount INTEGER;
iidcontact INTEGER;
ipriority INTEGER DEFAULT 5;


BEGIN

fun_return := -100;
fun_msg := &#39;Error desconocido&#39;;


-- Buscamos el idcontact segun la cedula
SELECT idcontact INTO iidcontact FROM contacts WHERE identification = cedula;

IF perfil_referencia LIKE &#39;PVAdm%&#39; THEN
ipriority := 3;
END IF;


-- Buscamos el idaccount segun la oficina
--iidaccount := fun_get_idaccount_by_account(oficina);
--iidaccount := fun_get_idaccount_by_account(oficina, 1);
iidaccount := fun_get_idaccount_by_account(oficina, 1);

IF iidaccount IS NOT NULL AND iidcontact IS NOT NULL THEN

INSERT INTO account_users(
            idaccount, idcontact, appointment, note, account_user, account_pwd, date_end, enabled, priority)
    VALUES (iidaccount, iidcontact, &#39;farma_&#39;||perfil_referencia::TEXT, &#39;Usuario asignado por Farmaenlace, no modificar el appointment&#39;, nombrecorto, pwd, &#39;2050-01-01 00:00&#39;, estado, ipriority) RETURNING idaccountuser INTO fun_return;

 fun_msg := &#39;Registro insertado&#39;;
ELSE

fun_return := -1;
 fun_msg := &#39;El registro no pudo ser insertado, idaccount e idcontact no pueden ser nulos&#39;;
END IF;


 



RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-farma-import-nomina-fun-msg-text-fun-return-text-iemail-timestamp-without-time-zone-itelf2-text-itelf1-integer-iaddress-ref-text-iaddress-text-inote-text-igender-text-iidentification-text-ibirthday-text">fun_farma_import_nomina(fun_msg text, fun_return text, iemail timestamp without time zone, itelf2 text, itelf1 integer, iaddress_ref text, iaddress text, inote text, igender text, iidentification text, ibirthday text)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE


BEGIN

fun_return := -100;
fun_msg := &#39;Error desconocido&#39;;

UPDATE contacts
   SET first_name=ifirst_name, last_name=ilast_name, birthday=ibirthday, 
       gender=igender, note=inote, address=iaddress, address_ref=iaddress_ref WHERE identification=iidentification;

fun_return := 999;
fun_msg := &#39;Registro actualizado&#39;;

        IF NOT found THEN
INSERT INTO contacts(
            first_name, last_name, birthday, identification, 
            gender,  note, address, address_ref)
    VALUES (ifirst_name, ilast_name, ibirthday, iidentification, 
            igender,  inote, iaddress, iaddress_ref) RETURNING idcontact INTO fun_return;
--fun_return := -100;
fun_msg := &#39;Nuevo registro insertado&#39;;
ELSE

fun_return := (SELECT idcontact FROM contacts WHERE identification=iidentification AND first_name=ifirst_name AND last_name=ilast_name LIMIT 1);

        END IF;

PERFORM fun_farma_import_nomina_telf(fun_return, itelf1);
PERFORM fun_farma_import_nomina_telf(fun_return, itelf2);
PERFORM fun_farma_import_nomina_email(fun_return, iemail);
 
 EXCEPTION WHEN unique_violation THEN
 -- do nothing
 fun_return := -3;
 fun_msg := &#39;Registro tiene campos que deben ser unicos id=&#39;||iidentification::TEXT;

RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-farma-import-nomina-email-fun-msg-integer-fun-return-text">fun_farma_import_nomina_email(fun_msg integer, fun_return text)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

iidemail INTEGER DEFAULT 0;

BEGIN

fun_return := -100;
fun_msg := &#39;Error desconocido&#39;;

SELECT idemail INTO iidemail FROM emails WHERE email = iemail;

-- 
UPDATE emails
   SET idcontact=iidcontact WHERE idemail = iidemail;

fun_return := 999;
fun_msg := &#39;Registro actualizado&#39;;

        IF NOT found THEN
INSERT INTO emails(
            idcontact, email)
    VALUES (iidcontact, iemail) RETURNING idemail INTO fun_return;
--fun_return := -100;
fun_msg := &#39;Nuevo registro insertado&#39;;
        END IF;
 

RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-farma-import-nomina-telf-fun-msg-integer-fun-return-text">fun_farma_import_nomina_telf(fun_msg integer, fun_return text)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

iidphone INTEGER DEFAULT 0;

BEGIN

fun_return := -100;
fun_msg := &#39;Error desconocido&#39;;

SELECT idphone INTO iidphone FROM phones WHERE &quot;number&quot; = itelf;

-- 
UPDATE phones
   SET idcontact=iidcontact WHERE idphone = iidphone;

fun_return := 999;
fun_msg := &#39;Registro actualizado&#39;;

        IF NOT found THEN
INSERT INTO phones(
            idcontact, &quot;number&quot;)
    VALUES (iidcontact, itelf) RETURNING idphone INTO fun_return;
--fun_return := -100;
fun_msg := &#39;Nuevo registro insertado&#39;;
        END IF;
 

RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-farma-import-tec-fun-msg-text-fun-return-text-itype-text-iidentification-text">fun_farma_import_tec(fun_msg text, fun_return text, itype text, iidentification text)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE
--isadmin BOOLEAN DEFAULT false;

BEGIN

fun_return := -100;
fun_msg := &#39;Error desconocido&#39;;

UPDATE contacts SET first_name=ifirst_name, last_name=ilast_name WHERE identification=iidentification;

fun_return := 999;
fun_msg := &#39;Registro actualizado&#39;;

        IF NOT found THEN
INSERT INTO contacts(
            first_name, last_name, identification)
    VALUES (ifirst_name, ilast_name, iidentification) RETURNING idcontact INTO fun_return;
--fun_return := -100;
fun_msg := &#39;Nuevo registro insertado&#39;;
        END IF;
 
 EXCEPTION WHEN unique_violation THEN
 -- do nothing
 fun_return := -3;
 fun_msg := &#39;Registro tiene campos que deben ser unicos id=&#39;||iidentification::TEXT;

RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-farma-import-tec-asig-fun-msg-text-fun-return-text">fun_farma_import_tec_asig(fun_msg text, fun_return text)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

idtec INTEGER DEFAULT 0;
idofi INTEGER DEFAULT 0;
iidadmin BIGINT;

BEGIN

fun_return := -100;
fun_msg := &#39;Error desconocido&#39;;

SELECT  idcontact, idadmin INTO idtec, iidadmin  FROM view_admins WHERE identification = iidentification;
SELECT  idcontact INTO idofi FROM accounts WHERE account = ioficina AND iddivision = 1;

IF idtec &gt; 0 AND idofi &gt; 0 THEN

--assigned
--DELETE FROM account_contacts WHERE idaccount = idofi AND appointment = &#39;Tcnico Responsable&#39;;
UPDATE accounts SET admins = array_prepend(iidadmin, admins) WHERE idcontact = idofi;

UPDATE admins SET idaccounts = array(SELECT idcontact FROM accounts WHERE iidadmin = ANY(admins)) WHERE idadmin = iidadmin;


INSERT INTO account_contacts(
            idaccount, idcontact, appointment, priority, 
            note)
    VALUES (idofi, idtec, &#39;Tcnico Responsable&#39;, 1, 
            &#39;Importado desde el servidor 159 [EasyGestionEmpresarial].[dbo].[SP_PAR_AsignacionFarmacias]&#39;) RETURNING idaccountuser INTO fun_return;
 

 --fun_return := -3;
 fun_msg := &#39;Registro insertado&#39;;

END IF;



RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-farma-update-lista-precios-farmacias-fun-msg-integer-fun-return-text-iprovincia-text-i159productos-integer-i159activa-text-i159principal-text-iproductos-integer-iactiva-text">fun_farma_update_lista_precios_farmacias(fun_msg integer, fun_return text, iprovincia text, i159productos integer, i159activa text, i159principal text, iproductos integer, iactiva text)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

istatus TEXT DEFAULT &#39;INDEFINIDO&#39;;
isincro TEXT DEFAULT &#39;INDEFINIDO&#39;;
iip INET;

BEGIN

fun_return := -100;
fun_msg := &#39;Error desconocido&#39;;

IF (iprincipal = iactiva)  AND  iproductos &gt; 0 THEN
istatus := &#39;OK&#39;;
ELSE
istatus := &#39;ERROR&#39;;
END IF;

IF iprincipal = i159principal AND iactiva = i159activa  THEN
--IF EXISTS(SELECT * FROM farma_lista_precios_farmacias WHERE idaccount=iidaccount AND srv159_activa = activa AND productos = srv159_productos AND srv159_principal = principal)  THEN
isincro := &#39;OK&#39;;
ELSE
isincro := &#39;ERROR&#39;;
END IF;

select ip INTO iip from view_account_network_devices where idcontact = iidaccount AND  equipment ILIKE &#39;%SQL%&#39; LIMIT 1;

RAISE NOTICE &#39;(%) (%) &#39;, iprincipal, iactiva;
RAISE NOTICE &#39;(%) (%) &#39;, i159principal, i159activa;


--
UPDATE farma_lista_precios_farmacias
SET principal=iprincipal, 
activa=iactiva, 
productos=iproductos,
srv159_principal=i159principal, 
srv159_activa=i159activa, 
srv159_productos=i159productos, 

status = istatus,
sincronizado = isincro, 
ip = iip::text, 
provincia = iprovincia,
ts_lista_farmacia = now(),   
ts_lista_srv159 = now()
 WHERE idaccount=iidaccount;

RAISE NOTICE &#39;(%) (%) &#39;, iprincipal, iactiva;
RAISE NOTICE &#39;(%) (%) &#39;, i159principal, i159activa;

fun_return := 1;
fun_msg := &#39;Registro actualizado&#39;;

        IF NOT found THEN
/*
INSERT INTO farma_lista_precios_farmacias(
            idaccount, principal, activa, productos, status, sincronizado, ts_lista_farmacia, ip)
    VALUES (iidaccount, iprincipal, iactiva, iproductos, istatus, isincro, now(), iip::text) RETURNING idlista_precios INTO fun_return;
*/
INSERT INTO farma_lista_precios_farmacias(
            idaccount, principal, activa, productos, status, 
            ts, ts_lista_farmacia, srv159_activa, srv159_productos, srv159_principal, 
            ts_lista_srv159, sincronizado, provincia, ip)
    VALUES (iidaccount, iprincipal, iactiva, iproductos, istatus, 
           now(), now(), i159activa, i159productos, i159principal, 
            now(), isincro, iprovincia, iip);
fun_msg := &#39;Nuevo registro insertado&#39;;
        END IF;
 

RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-farma-update-lista-precios-srv159-fun-msg-text-fun-return-text-iproductos-text-iactiva-integer">fun_farma_update_lista_precios_srv159(fun_msg text, fun_return text, iproductos text, iactiva integer)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

istatus TEXT DEFAULT &#39;INDEFINIDO&#39;;

BEGIN

fun_return := -100;
fun_msg := &#39;Error desconocido&#39;;

IF (iprincipal = iactiva)  AND  iproductos &gt; 0 THEN
istatus := &#39;OK&#39;;
ELSE
istatus := &#39;ERROR&#39;;
END IF;

-- 
UPDATE farma_lista_precios_farmacias
   SET principal=iprincipal, activa=iactiva, productos=iproductos, status = istatus
 WHERE idaccount=iidaccount;

fun_return := 1;
fun_msg := &#39;Registro actualizado&#39;;

        IF NOT found THEN
INSERT INTO farma_lista_precios_farmacias(
            idaccount, principal, activa, productos, status)
    VALUES (iidaccount, iprincipal, iactiva, iproductos, istatus) RETURNING idlista_precios INTO fun_return;
--fun_return := -100;
fun_msg := &#39;Nuevo registro insertado&#39;;
        END IF;
 

RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-firts-load">fun_firts_load()</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

BEGIN

fun_return := 0;
fun_msg := &#39;Carga inicial completada&#39;;

-- Insertamos el registro 0 si no existe
IF NOT EXISTS(SELECT * FROM identification_types WHERE ididtype = 0) THEN
INSERT INTO identification_types(
            ididtype, enabled, name, note)
    VALUES (0, true, &#39;Undefined&#39;, &#39;Valor inicial del sistema (No modificar)&#39;);
END IF;

-- Insertamos el registro 0 si no existe
IF NOT EXISTS(SELECT * FROM account_types WHERE idaccounttype = 0) THEN
INSERT INTO account_types(
            idaccounttype, type, note)
    VALUES (0, &#39;Undefined&#39;, &#39;Valor inicial del sistema (No modificar)&#39;);

END IF;

-- Insertamos el registro 0 si no existe
IF NOT EXISTS(SELECT * FROM account_states WHERE idaccountstate = 0) THEN
INSERT INTO account_states(
            idaccountstate, state, note)
    VALUES (0, &#39;Undefined&#39;, &#39;Valor inicial del sistema (No modificar)&#39;);
END IF;


-- Insertamos el registro 0 si no existe
IF NOT EXISTS(SELECT * FROM groups WHERE idgroup = 0) THEN
INSERT INTO groups(
            idgroup, enabled, name, description, note)
    VALUES (0, true, &#39;None&#39;, &#39;Ningun grupo establecido&#39;, &#39;Valor inicial del sistema (No modificar)&#39;);
END IF;


-- Insertamos el registro -1 si no existe
IF NOT EXISTS(SELECT * FROM groups WHERE idgroup = -1) THEN
INSERT INTO groups(
            idgroup, enabled, name, description, note)
    VALUES (-1, true, &#39;oams_admin&#39;, &#39;Admins&#39;, &#39;Grupo de Administradores&#39;);
END IF;


-- Insertamos el registro 0 si no existe
IF NOT EXISTS(SELECT * FROM phone_types WHERE idphonetype = 0) THEN
INSERT INTO phone_types(
            idphonetype, type)
    VALUES (0, &#39;Undefined&#39;);
END IF;

-- Insertamos el registro 0 si no existe
IF NOT EXISTS(SELECT * FROM eventtypes WHERE ideventtype = 0) THEN
INSERT INTO eventtypes(
            ideventtype, name, priority, treatment, manual, date_editable, note, label, code)
    VALUES (0, &#39;unknown&#39;, 50, true, false, false, &#39;Valor inicial del sistema (No modificar)&#39;, &#39;Evento Desconocido&#39;, &#39;oams-0&#39;);
END IF;

----------------------------------------------------------------------
-- Insertamos el registro 1000 si no existe
IF NOT EXISTS(SELECT * FROM eventtypes WHERE ideventtype = 1000) THEN
INSERT INTO eventtypes(
            ideventtype, name, priority, treatment, manual, date_editable, note, label, code)
    VALUES (1000, &#39;login&#39;, 100, false, false, false, &#39;Evento del sistema, no modificar&#39;, &#39;User Login&#39;, &#39;oams-1000&#39;);
END IF;

-- Insertamos el registro 1001 si no existe
IF NOT EXISTS(SELECT * FROM eventtypes WHERE ideventtype = 1001) THEN
INSERT INTO eventtypes(
            ideventtype, name, priority, treatment, manual, date_editable, note, label, code)
    VALUES (1001, &#39;logout&#39;, 100, false, false, false, &#39;Evento del sistema, no modificar&#39;, &#39;User Logout&#39;, &#39;oams-1001&#39;);
END IF;

-- Insertamos el registro 1002 si no existe
IF NOT EXISTS(SELECT * FROM eventtypes WHERE ideventtype = 1002) THEN
INSERT INTO eventtypes(
            ideventtype, name, priority, treatment, manual, date_editable, note, label, code)
    VALUES (1002, &#39;login fail&#39;, 20, false, false, false, &#39;Evento del sistema, no modificar&#39;, &#39;Login fail&#39;, &#39;oams-1002&#39;);
END IF;

-- Insertamos el registro 1003 si no existe
IF NOT EXISTS(SELECT * FROM eventtypes WHERE ideventtype = 1003) THEN
INSERT INTO eventtypes(
            ideventtype, name, priority, treatment, manual, date_editable, note, label, code)
    VALUES (1003, &#39;account_unknown&#39;, 20, false, false, false, &#39;Evento del sistema, no modificar&#39;, &#39;&quot;account_unknown&quot;&#39;, &#39;oams-1003&#39;);
END IF;


-- Insertamos el registro 1003 si no existe
IF NOT EXISTS(SELECT * FROM eventtypes WHERE ideventtype = 1004) THEN
INSERT INTO eventtypes(
            ideventtype, name, priority, treatment, manual, date_editable, note, label, code)
    VALUES (1004, &#39;Unauthorized&#39;, 10, false, false, false, &#39;Evento del sistema, no modificar&#39;, &#39;&quot;System Unauthorized Access&quot;&#39;, &#39;oams-1004&#39;);
END IF;

---------------------------------------------------------------
-- Insertamos el abonado 0 si no existe
IF NOT EXISTS(SELECT * FROM accounts WHERE idcontact = 0) THEN
INSERT INTO accounts(
            idcontact, enabled, first_name, last_name, birthday, identification, 
            ididtype, postal_code, gender, geox, geoy, note, address, address_ref, 
            idaccountstate, idaccounttype, start_date, end_date, account)
    VALUES (0, true, &#39;AMS&#39;, &#39;Open&#39;, now(), md5(&#39;oams&#39;), 
            0, &#39;0000&#39;, 0, 0, 0, &#39;&#39;, &#39;&#39;, &#39;&#39;, 
            0, 0, now(), &#39;2099-01-01 00:00&#39;, &#39;System&#39;);
END IF;

-- Insertamos el abonado 1 si no existe
IF NOT EXISTS(SELECT * FROM accounts WHERE idcontact = 1) THEN
INSERT INTO accounts(
            idcontact, enabled, first_name, last_name, birthday, identification, 
            ididtype, postal_code, gender, geox, geoy, note, address, address_ref, 
            idaccountstate, idaccounttype, start_date, end_date, account)
    VALUES (1, true, &#39;undefined&#39;, &#39;account&#39;, now(), md5(&#39;oams-undefined&#39;), 
            0, &#39;00000&#39;, 0, 0, 0, &#39;&#39;, &#39;&#39;, &#39;&#39;, 
            0, 0, now(), &#39;2099-01-01 00:00&#39;, &#39;undefined&#39;);
END IF;


-----------------------------------------------------------------
-- Insertamos el registro 0 si no existe
IF NOT EXISTS(SELECT * FROM providers WHERE idprovider = 0) THEN
INSERT INTO providers(
            idprovider, provider)
    VALUES (0, &#39;Undefined&#39;);
END IF;

----------------------------------------------------------------
-- Insertamos el registro 0 si no existe (Default) 
IF NOT EXISTS(SELECT * FROM contacts WHERE idcontact = -1) THEN
INSERT INTO contacts(
            idcontact, enabled, first_name, last_name, identification, 
            is_admin, admin_start, admin_end, admin_username, admin_pwd, 
            admin_level)
    VALUES (-1, true, &#39;Alarm Management System&#39;, &#39;Open&#39;, &#39;oams&#39;, 
            true, now(), &#39;2050-01-01 00:00:00&#39;, &#39;admin&#39;, &#39;admin&#39;, 
            0);
END IF;



RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-general-login-msg-text-idcontact-text-fullname-text-username-inet-login-boolean">fun_general_login(msg text, idcontact text, fullname text, username inet, login boolean)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

idcontact_admin bigint DEFAULT -100;
iideventtype INTEGER DEFAULT 0;

BEGIN

idcontact_admin := -500;
login := false;
fullname := &#39;anonymous&#39;;
msg := &#39;Error desconocido&#39;;
username := &#39;anonymous&#39;;
--sessionid := &#39;----&#39;;


IF isadmin THEN

CASE

WHEN NOT EXISTS(SELECT * FROM admins WHERE admin_username = iusername) THEN 
msg := &#39;- Intento de acceso con el usuario &#39;||iusername||&#39; no existe o no esta habilitado como administrador.&lt;/br&gt; [IP: &#39;||iip||&#39;] [Navegador: &#39;||iuseragent||&#39;]&#39;;
iideventtype := 1002;

WHEN NOT EXISTS(SELECT * FROM admins WHERE admin_username = iusername AND admin_pwd = md5(ipwd)) THEN
msg := &#39;- Intento de acceso con el usuario &#39;||iusername||&#39; - Usuario o clave incorrecta. [IP: &#39;||iip||&#39;] [Navegador: &#39;||iuseragent||&#39;]&#39;;
iideventtype := 1002;

WHEN NOT EXISTS(SELECT * FROM admins WHERE admin_username = iusername AND admin_pwd = md5(ipwd) AND (now() BETWEEN admin_start AND admin_end)) THEN
msg := &#39;- Intento de acceso del usuario &#39;||iusername||&#39; fuera del rango de fechas autorizadas para l. [IP: &#39;||iip||&#39;] [Navegador: &#39;||iuseragent||&#39;]&#39;;
iideventtype := 1002;

WHEN EXISTS(SELECT * FROM admins WHERE admin_username = iusername AND admin_pwd = md5(ipwd)) THEN
-- Actualizamos el ssessionid en la tabla
--UPDATE admins SET isessionid = md5(iusername||&#39;+&#39;||iip||&#39;+&#39;||iuseragent||&#39;+&#39;||(extract(epoch FROM now())::TEXT)), admin_ip = iip, last_access = now(), last_heartbeat = now() WHERE admin_username = iusername AND admin_pwd = md5(ipwd) RETURNING admins.idadmin, admins.idcontact INTO idadmin, idcontact_admin;
-- Insertamos en el log del sistema el ingreso
msg := &#39;- Acceso al sistema. Usuario: &#39;||iusername||&#39;. [IP: &#39;||iip||&#39;] [Navegador: &#39;||iuseragent||&#39;]&#39;;
iideventtype := 1000;
--sessionid := md5(iusername||&#39;+&#39;||iip||&#39;+&#39;||iuseragent||&#39;+&#39;||(extract(epoch FROM now())::TEXT));

--SELECT admin_username, admin_sessionid INTO username, sessionid FROM admins WHERE idcontact = idcontact_admin;
SELECT contacts.idcontact,   (contacts.last_name ||&#39; &#39;|| contacts.first_name) as full_name INTO idcontact, fullname FROM public.contacts, public.admins WHERE contacts.idcontact = admins.idcontact AND admins.admin_username = iusername AND admins.admin_pwd = md5(ipwd);

login := true;

PERFORM fun_notification_app_send(10, 10, true, &#39;&#39;, &#39;&#39;, &#39;Bienvenid@&#39;, fullname, idcontact);
PERFORM fun_notification_app_send(10, 10, TRUE, &#39;&#39;, &#39;&#39;, &#39;Usuario conectado&#39;, fullname, null);


ELSE

msg := &#39;- Ninguna validacion ha sido realizada para el usuario &#39;||iusername||&#39; no existe o no esta habilitado. [IP: &#39;||iip||&#39;] [Navegador: &#39;||iuseragent||&#39;]&#39;;
iideventtype := 1002;
--INSERT INTO event_login(            idaccount, ideventtype, description, idcontact)    VALUES (0, 1002, msg, idcontact);

END CASE;




ELSE
-------------------------------
-- Intenta como usuario
-------------------------------


END IF;

INSERT INTO events_login(idaccount, ideventtype, description, ip, idcontact) VALUES (0, iideventtype, msg, iip, idcontact);

RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-get-idaccount-by-account-iiddivision-text-iaccount-bigint">fun_get_idaccount_by_account(iiddivision text, iaccount bigint)</a>
		</h2>
<h3>Returns: integer</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

R INTEGER DEFAULT 1;

BEGIN

R := COALESCE((SELECT idcontact FROM accounts WHERE account = iaccount AND iddivision = iiddivision ORDER BY idcontact  DESC LIMIT 1), 1);

IF R &lt; 2 THEN
-- Verificamos si existe el account, caso contrario le asignamos como 0 (desconocido)
--PERFORM fun_event_insert_by_ideventtype(now()::timestamp without time zone, R, 0, 0, 1003, &#39;Account &#39;||iaccount||&#39; no found&#39;, 0);
INSERT INTO events( ideventtype, description)
    VALUES (1003, &#39;Account &#39;||iaccount||&#39; no found&#39;);

--R := 1;
END IF;

RETURN R;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-heartbeat-isessionid-bigint-iidadmin-text">fun_heartbeat(isessionid bigint, iidadmin text)</a>
		</h2>
<h3>Returns: boolean</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE
r boolean DEFAULT false;
idupdated bigint DEFAULT 0;
BEGIN
/*
PERFORM fun_expired_session();

IF EXISTS(SELECT * FROM admins WHERE idadmin = iidadmin AND admin_sessionid = isessionid) THEN
UPDATE admins SET last_heartbeat = now() WHERE idadmin = iidadmin AND admin_sessionid = isessionid;
r := true;
END IF;
*/

RETURN r;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-last-modified-table-remove-olds">fun_last_modified_table_remove_olds()</a>
		</h2>
<h3>Returns: integer</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

fun_return INTEGER DEFAULT 0;
cursor1 CURSOR FOR SELECT * FROM view_last_modif_tables;
    cursor1_row RECORD;

BEGIN


    FOR cursor1_row IN cursor1 LOOP

 DELETE FROM table_modification_log WHERE table_name = cursor1_row.table_name AND schema_name = cursor1_row.schema_name AND idtablemodif &lt; cursor1_row.idtablemodif;
fun_return := fun_return+1;
    END LOOP;

    

RETURN fun_return;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-login-system-iuseragent-text-iip-text-ipwd-inet-iuser-text">fun_login_system(iuseragent text, iip text, ipwd inet, iuser text)</a>
		</h2>
<h3>Returns: json</h3>
<h3>Language: PLPGSQL</h3>
        <p>Retorna los datos del usuario o administrador</p>
        <pre>DECLARE

r JSON;
iideventtype BIGINT;
msg TEXT;
islogged BOOLEAN DEFAULT false;

BEGIN

----------- Busca primero los datos como administrador -------------------
CASE

WHEN NOT EXISTS(SELECT * FROM admins WHERE admin_username = iuser) THEN 
--msg := &#39;- Intento de acceso con el usuario &#39;||iuser||&#39; no existe o no esta habilitado como administrador.&lt;/br&gt; [IP: &#39;||iip||&#39;] [Navegador: &#39;||iuseragent||&#39;]&#39;;
msg := &#39;- Intento de acceso con el usuario &#39;||iuser||&#39; no existe o no esta habilitado como administrador.&lt;/br&gt;&#39;;
iideventtype := 1002;

WHEN NOT EXISTS(SELECT * FROM admins WHERE admin_username = iuser AND admin_pwd = md5(ipwd)) THEN
--msg := &#39;- Intento de acceso con el usuario &#39;||iuser||&#39; - Usuario o clave incorrecta. [IP: &#39;||iip||&#39;] [Navegador: &#39;||iuseragent||&#39;]&#39;;
msg := &#39;- Intento de acceso con el usuario &#39;||iuser||&#39; - Usuario o clave incorrecta.&#39;;
iideventtype := 1002;

WHEN NOT EXISTS(SELECT * FROM admins WHERE admin_username = iuser AND admin_pwd = md5(ipwd) AND (now() BETWEEN admin_start AND admin_end)) THEN
--msg := &#39;- Intento de acceso del usuario &#39;||iuser||&#39; fuera del rango de fechas autorizadas para l. [IP: &#39;||iip||&#39;] [Navegador: &#39;||iuseragent||&#39;]&#39;;
msg := &#39;- Intento de acceso del usuario &#39;||iuser||&#39; fuera del rango de fechas autorizadas para l.&#39;;
iideventtype := 1002;

WHEN EXISTS(SELECT * FROM admins WHERE admin_username = iuser AND admin_pwd = md5(ipwd)) THEN
--msg := &#39;- Acceso al sistema. Administrador: &#39;||iuser||&#39;. [IP: &#39;||iip||&#39;] [Navegador: &#39;||iuseragent||&#39;]&#39;;
msg := &#39;- Acceso al sistema. Administrador: &#39;||iuser;

iideventtype := 1000;

SELECT row_to_json(t) INTO r
from (
   SELECT *, &#39;A&#39;||idadmin as idlogin, contact_name as fullname, true as isadmin FROM public.view_admins WHERE admin_username = iuser AND admin_pwd = md5(ipwd)
) t;

islogged := true;

ELSE
------ Buscamos como usuario ------
IF EXISTS(SELECT * FROM view_account_users WHERE account_user = iuser AND account_pwd = decode(ipwd::BYTEA, &#39;base64&#39;)) THEN
SELECT row_to_json(t) INTO r
from (
   SELECT * FROM view_account_users WHERE account_user = iuser AND account_pwd = decode(ipwd::BYTEA, &#39;base64&#39;)
) t;
islogged := true;
--msg := &#39;- Acceso autorizado al sistema. Usuario: &#39;||iuser||&#39;. [IP: &#39;||iip||&#39;] [Navegador: &#39;||iuseragent||&#39;]&#39;;
msg := &#39;- Acceso autorizado al sistema. Usuario: &#39;||iuser;
iideventtype := 1002;

ELSE

msg := &#39;- Intento de acceso al sistema. Usuario: &#39;||iuser;
iideventtype := 1002;
END IF;

END CASE;


RAISE NOTICE &#39;1) Es adsmin %&#39;, r-&gt;&gt;&#39;isadmin&#39;;
RAISE NOTICE &#39;2) Es idadmin %&#39;, r-&gt;&gt;&#39;idadmin&#39;;

IF r-&gt;&gt;&#39;isadmin&#39; = &#39;true&#39; THEN
INSERT INTO events.datas(
            idaccount, ideventtype, description, idadmin, idcontact_user, details)
    VALUES (0, iideventtype, msg, (r-&gt;&gt;&#39;idadmin&#39;)::BIGINT, (r-&gt;&gt;&#39;idcontact&#39;)::BIGINT, (SELECT row_to_json(t)from (  select iuseragent as useragent, iip as ip ) t));
ELSE

    
END IF;


IF islogged THEN
--PERFORM fun_notification_app_send(10, 10, true, &#39;&#39;, &#39;&#39;, &#39;Bienvenid@&#39;, fullname, idadmin);
PERFORM fun_notification_app_send(10, 10, TRUE, &#39;&#39;, &#39;&#39;, &#39;Usuario conectado&#39;, r-&gt;&gt;&#39;fullname&#39;, null);
END IF;



return r;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-logout-system-iip-boolean-ifullname-bigint-iid-text-iisadmin-inet">fun_logout_system(iip boolean, ifullname bigint, iid text, iisadmin inet)</a>
		</h2>
<h3>Returns: boolean</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

--Now timestamp without time zone default now();
R boolean DEFAULT FALSE;
iidcontact BIGINT;

BEGIN

IF iisadmin THEN

   SELECT idcontact INTO iidcontact FROM view_admins  WHERE idadmin = iid;


INSERT INTO events_login(
            idaccount, 
            ideventtype, idadmin, ip, isopen, idcontact_user)
    VALUES (0, 
            1001, iid, iip, FALSE, iidcontact);

PERFORM fun_notification_app_send(10, 10, TRUE, &#39;&#39;, &#39;&#39;, &#39;Usuario desconectado&#39;, ifullname, null);
            
ELSE

--SELECT idcontact INTO iidcontact FROM view_account_users WHERE idadmin = idadmin;


END IF;

            
R := TRUE;
RETURN R;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-notification-app-send-iidadmin-integer-inbody-integer-intitle-boolean-insnd-text-inimg-text-incloseable-text-intimeout-text-ipriority-bigint">fun_notification_app_send(iidadmin integer, inbody integer, intitle boolean, insnd text, inimg text, incloseable text, intimeout text, ipriority bigint)</a>
		</h2>
<h3>Returns: integer</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

isessionid text default &#39;all&#39;;

BEGIN

isessionid := COALESCE((SELECT admin_sessionid FROM admins WHERE idadmin = iidadmin limit 1), &#39;all&#39;);

INSERT INTO notification_area(
            urgency, timeout, closable, img, snd, title, body, 
            sessionid)
    VALUES (ipriority, intimeout, incloseable, inimg, insnd, intitle, inbody, 
            isessionid);


RETURN 0;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-oams-mapper">fun_oams_mapper()</a>
		</h2>
<h3>Returns: integer</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

fun_return INTEGER DEFAULT 0;
cursor1 CURSOR FOR SELECT table_name, column_name, data_type, column_default from information_schema.columns where table_name NOT LIKE &#39;%_20%&#39; AND table_name NOT LIKE &#39;%_19%&#39; AND table_catalog = &#39;open_ams&#39;  and table_schema = &#39;public&#39; ORDER BY table_name, column_name, data_type;
    cursor1_row RECORD;

BEGIN


    FOR cursor1_row IN cursor1 LOOP
    
UPDATE oams_table_columns
   SET data_type=cursor1_row.data_type, column_default=cursor1_row.column_default
 WHERE table_name=cursor1_row.table_name AND column_name=cursor1_row.column_name;
        IF NOT found THEN
INSERT INTO oams_table_columns(
            table_name, column_name, data_type, column_default, 
            column_label)
    VALUES (cursor1_row.table_name, cursor1_row.column_name, cursor1_row.data_type, cursor1_row.column_default, 
            cursor1_row.column_name);
        END IF;


    END LOOP;

    

RETURN fun_return;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-pnatural-import-accounts-fun-msg-text-fun-return-text-cedula-sup-operativo-text-iemail-text-telf2-text-telf1-timestamp-without-time-zone-idb-pwd-timestamp-without-time-zone-idb-user-text-iaccount-text-iend-date-text-istart-date-text-iaddress-ref-text-iaddress-text-ilast-name-text">fun_pnatural_import_accounts(fun_msg text, fun_return text, cedula_sup_operativo text, iemail text, telf2 text, telf1 timestamp without time zone, idb_pwd timestamp without time zone, idb_user text, iaccount text, iend_date text, istart_date text, iaddress_ref text, iaddress text, ilast_name text)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE
id BIGINT DEFAULT 0;
ienabled BOOLEAN DEFAULT TRUE;
idldf INTEGER DEFAULT 0;
ifirst_name text default &#39;&#39;;
iidaccounttype INTEGER DEFAULT 0;

ifname text default &#39;&#39;;
ilname text default &#39;&#39;;

BEGIN

fun_return := -100;
fun_msg := &#39;Error desconocido&#39;;
id := fun_get_idaccount_by_account(iaccount, 1);
idldf := COALESCE((SELECT idcontact FROM contacts WHERE identification = cedula_sup_operativo LIMIT 1), 0);

CASE
WHEN position(&#39;PUNTO&#39; in ilast_name) = 1 THEN
ifname := substring(ilast_name from 6 for 100);
ilname := &#39;PUNTO NATURAL&#39;;

WHEN position(&#39;ECO &#39; in ilast_name) = 1 THEN
ifname := substring(ilast_name from 5 for 100);
ilname := &#39;ECO&#39;;

WHEN position(&#39;PAF &#39; in ilast_name) = 1 THEN
ifname := substring(ilast_name from 5 for 100);
ilname := &#39;PAF&#39;;

ELSE

ifname := &#39; *&#39;;
ilname := ilast_name;

END CASE;

IF istatus != &#39;A&#39; THEN
ienabled := FALSE;
END IF;

IF franquicia = &#39;N&#39; THEN
iidaccounttype := 3;
ELSE
iidaccounttype := 4;
END IF;

RAISE NOTICE &#39;Account (%) con ID (%)&#39;, iaccount, id;

-- Para este caso ilast_name se lo utiliza como nombre y * como apellido

CASE

	WHEN id &lt;= 1 THEN
	BEGIN

-- Verificamos que no se repita el abonado
	iaccount := fun_account_auto_account(iaccount);

-- Ingresamos un nuevo registro
INSERT INTO accounts(
            enabled, first_name, last_name, birthday, identification, 
            address, address_ref, 
            start_date, end_date, account, idaccounttype, iddivision)
    VALUES (ienabled,  ilname, ifname, istart_date, iaccount, 
            iaddress, iaddress_ref, 
            istart_date, iend_date, iaccount, iidaccounttype, 2)
 RETURNING idcontact INTO fun_return;
fun_msg := &#39;Nuevo registro insertado&#39;;

IF fun_return &gt; 0 THEN

PERFORM fun_farma_import_accounts_insertphone(fun_return, telf1);
PERFORM fun_farma_import_accounts_insertphone(fun_return, telf2);
PERFORM fun_farma_import_accounts_insertemail(fun_return, iemail);

DELETE FROM account_contacts WHERE appointment = &#39;PNatural_LDF&#39; AND idaccount = fun_return;
IF idldf &gt; 0 THEN
INSERT INTO account_contacts (idaccount, idcontact, appointment, priority) VALUES (fun_return, idldf, &#39;PNatural_LDF&#39;, 2);
END IF;

END IF;

fun_msg := fun_return;

EXCEPTION WHEN unique_violation THEN
 -- do nothing
 fun_return := -2;
 fun_msg := &#39;Registro tiene campos que deben ser unicos&#39;||iaccount||&#39; &#39;||ilast_name||&#39; &#39;||iaccount;
END;


	WHEN id &gt; 1  THEN
BEGIN	
-- Actualizamos
RAISE NOTICE &#39;Account (%) con ID (%) para actualizar cuenta&#39;, iaccount, id;
UPDATE accounts
   SET iddivision = 1, first_name=ifname, last_name=ilname, birthday=istart_date, 
       identification=iaccount, address=iaddress, address_ref=iaddress_ref, start_date=istart_date, end_date=iend_date, account=iaccount, idaccounttype = iidaccounttype
 WHERE idcontact = id;
 fun_return := id;
 fun_msg := &#39;Registro Actualizado&#39;;
RAISE NOTICE &#39;Account (%) con ID (%) para actualizar telefonos&#39;, iaccount, id;

PERFORM fun_farma_import_accounts_insertphone(id, telf1);
PERFORM fun_farma_import_accounts_insertphone(id, telf2);
PERFORM fun_farma_import_accounts_insertemail(id, iemail);

RAISE NOTICE &#39;Account (%) con ID (%) para actualizar - Eliminamos el LDF&#39;, iaccount, id;
DELETE FROM account_contacts WHERE appointment = &#39;PNatural_LDF&#39; AND idaccount = id;

RAISE NOTICE &#39;Account (%) con ID (%) para actualizar ldf&#39;, iaccount, id;
IF idldf &gt; 0 THEN
INSERT INTO account_contacts (idaccount, idcontact, appointment, priority) VALUES (id, idldf, &#39;PNatural_LDF&#39;, 2);
END IF;

/*
RAISE NOTICE &#39;Account (%) con ID (%) para actualizar datos del servidor (% =&gt; %)&#39;, iaccount, id, idb_user, idb_pwd;
-- Actualizamos los datos del servidor
UPDATE network_devices
   SET username=idb_user, pwd=idb_pwd WHERE idaccount=id AND equipment=&#39;Server&#39; AND mark=&#39;Farma01&#39;;
        IF NOT found THEN

IF id &gt; 0 THEN
RAISE NOTICE &#39;Account (%) con ID (%) para actualizar / Datos del servidor no encontrados, se inserta.&#39;, iaccount, id;        
INSERT INTO network_devices(
            equipment, mark, description, 
            username, pwd, idaccount)
    VALUES (&#39;Server&#39;, &#39;Farma01&#39;, &#39;Servidor de farmacia Nueva &#39;||id::text, 
            idb_user, idb_pwd, fun_return);
END IF;
        END IF;
*/
 /*
-- Actualizamos los datos del gateway
UPDATE network_devices
   SET note = &#39;No modificar esta nota&#39; WHERE idaccount=fun_return AND equipment=&#39;Gateway&#39;;
        IF NOT found THEN
IF fun_return &gt; 0 THEN
INSERT INTO network_devices(
            equipment, description, idaccount, note)
    VALUES (&#39;Gateway&#39;, &#39;Gateway de farmacia &#39;||fun_return::text, 
            fun_return, &#39;No modificar o borrar esta nota&#39;);
END IF;
        END IF;
*/

fun_msg := id;

 EXCEPTION WHEN unique_violation THEN
 -- do nothing
 fun_return := -3;
 fun_msg := &#39;Registro tiene campos que deben ser unicos id=&#39;||id::TEXT||&#39; &#39;||iaccount||&#39; &#39;||ilast_name||;
 
END;




	WHEN id &lt; 0  THEN
-- Eliminamos
/*DELETE FROM accounts
 WHERE idcontact=id;
 fun_return := 0;
 fun_msg := &#39;Registro Eliminado&#39;;*/

ELSE

 END CASE;


RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-pnatural-import-asig-personal-pnatural-fun-msg-text-fun-return-text-oficina-text-estado-text-perfil-referencia-boolean-pwd-text">fun_pnatural_import_asig_personal_pnatural(fun_msg text, fun_return text, oficina text, estado text, perfil_referencia boolean, pwd text)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

iidaccount INTEGER;
iidcontact INTEGER;
ipriority INTEGER DEFAULT 5;


BEGIN

fun_return := -100;
fun_msg := &#39;Error desconocido&#39;;


-- Buscamos el idcontact segun la cedula
SELECT idcontact INTO iidcontact FROM contacts WHERE identification = cedula;

IF perfil_referencia LIKE &#39;PVAdm%&#39; THEN
ipriority := 3;
END IF;


-- Buscamos el idaccount segun la oficina
--iidaccount := fun_get_idaccount_by_account(oficina);
--iidaccount := fun_get_idaccount_by_account(oficina, 1);
iidaccount := fun_get_idaccount_by_account(oficina, 2);

IF iidaccount IS NOT NULL AND iidcontact IS NOT NULL THEN

INSERT INTO account_users(
            idaccount, idcontact, appointment, note, account_user, account_pwd, date_end, enabled, priority)
    VALUES (iidaccount, iidcontact, &#39;pnatural_&#39;||perfil_referencia::TEXT, &#39;Usuario asignado por Punto Natural, no modificar el appointment&#39;, nombrecorto, pwd, &#39;2050-01-01 00:00&#39;, estado, ipriority) RETURNING idaccountuser INTO fun_return;

 fun_msg := &#39;Registro insertado&#39;;
ELSE

fun_return := -1;
 fun_msg := &#39;El registro no pudo ser insertado, idaccount e idcontact no pueden ser nulos&#39;;
END IF;


 



RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-quick-create-account-fun-msg-integer-fun-return-integer-iaddress-ref-text-iaddress-text-iididtype-text-iidentification-text-ilast-name-integer-ifirst-name-text-iaccount-text">fun_quick_create_account(fun_msg integer, fun_return integer, iaddress_ref text, iaddress text, iididtype text, iidentification text, ilast_name integer, ifirst_name text, iaccount text)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

--iidcontact INTEGER DEFAULT 0;
--iidaccount INTEGER DEFAULT 0;

BEGIN
fun_msg := &#39;Ninguna accion realizada&#39;;
fun_return := 0;
  CASE

	WHEN EXISTS(SELECT * FROM accounts WHERE identification = iidentification AND ididtype = iididtype) THEN
		fun_msg := &#39;El numero de identificacin ya existe&#39;;
	WHEN EXISTS(SELECT * FROM accounts WHERE first_name = ifirst_name AND last_name = ilast_name) THEN 
		fun_msg := &#39;Un abonado o contacto ya existe con esos nombres&#39;;
  ELSE

INSERT INTO accounts(
            first_name, last_name, identification, 
            ididtype, address, address_ref, 
            idaccountstate, idaccounttype, account)
    VALUES (ifirst_name, ilast_name, iidentification, 
            iididtype, iaddress, iaddress_ref, 
            iidaccountstate, iidaccounttype, iaccount) RETURNING idcontact INTO fun_return;

IF fun_return &gt; 0 THEN
fun_msg := &#39;El abonado ha sido creado&#39;;
END IF;

  END CASE;          

RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-receiver-raid-reports-fun-msg-text-fun-return-timestamp-without-time-zone-iline-file-text-idescription-text-iproducttype-text-ihostname-integer">fun_receiver_raid_reports(fun_msg text, fun_return timestamp without time zone, iline_file text, idescription text, iproducttype text, ihostname integer)</a>
		</h2>
<h3>Returns: record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

descript text default &#39;&#39;;
idaccount INTEGER DEFAULT 1;
ideventtype INTEGER DEFAULT 0;

BEGIN

-- Determinamos el ideventtype segun el texto de la descripcion
CASE

WHEN idescription LIKE &#39;Logical drive%goes critical%&#39;  THEN
 ideventtype := 4;

WHEN idescription LIKE &#39;Port%unplugged%&#39;  THEN
 ideventtype := 5;

wHEN idescription LIKE &#39;Port%down%&#39;  THEN
 ideventtype := 6;
 
wHEN idescription LIKE &#39;Rebuild on logical drive%completed%&#39;  THEN
 ideventtype := 11; 

wHEN idescription LIKE &#39;Rebuild on logical drive%started%&#39;  THEN
 ideventtype := 12;

wHEN idescription LIKE &#39;Redundancy Check on logical drive%completed%&#39;  THEN
 ideventtype := 13; 

wHEN idescription LIKE &#39;S.M.A.R.T threshold exceeded%&#39;  THEN
 ideventtype := 14;

wHEN idescription LIKE &#39;Synchronization is requested to perform on the logical drive%that has never been initialized%&#39;  THEN
 ideventtype := 17;

wHEN idescription LIKE &#39;Synchronization on logical drive%completed%&#39;  THEN
 ideventtype := 18;

wHEN idescription LIKE &#39;%disk error%&#39;  THEN
 ideventtype := 19;

wHEN idescription LIKE &#39;%timeout on port%&#39;  THEN
 ideventtype := 20;

wHEN idescription LIKE &#39;%Unknown Event%&#39;  THEN
 ideventtype := 21;

END CASE;

SELECT account INTO ioficina FROM view_account_network_devices WHERE ip = ihostname::inet;

idaccount := fun_get_idaccount_by_account(ioficina::TEXT, 1);
descript := &#39;&lt;b&gt;IP:&lt;/b&gt; &#39;||ihostname||&#39;&lt;/br&gt;&lt;b&gt; Product Type:&lt;/b&gt; &#39;||iproducttype||&#39;&lt;/br&gt; &#39;||idescription; 
--fun_event_insert_by_ideventtype(IN idateevent timestamp without time zone, IN iidaccount integer, IN izu integer, IN ipriority integer, IN iideventtype integer, IN idescription text, IN iidadmin integer, OUT fun_return integer, OUT fun_msg text)
--SELECT * FROM fun_event_insert_by_ideventtype(ireceivetime, idaccount, 0, 0, ideventtype, descript, 0) INTO fun_return, fun_msg;  
INSERT INTO events_raid(
            dateevent, idaccount, ideventtype, description, hostname, line_file)
    VALUES (ireceivetime, idaccount, ideventtype, descript, ihostname::inet, iline_file);

RETURN;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-remove-notifications-old">fun_remove_notifications_old()</a>
		</h2>
<h3>Returns: boolean</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>BEGIN
DELETE FROM notification_area 
WHERE EXTRACT(EPOCH FROM (now() - ts) / 60) &gt; 2;
RETURN TRUE;
END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-set-expired-events">fun_set_expired_events()</a>
		</h2>
<h3>Returns: integer</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

fun_return INTEGER DEFAULT 0;
cursor1 CURSOR FOR select * from (select idevent, dateevent, ideventtype, (extract(epoch from age(now(), dateevent))/60) AS minutes_event, (select expiration from eventtypes where ideventtype = ev.ideventtype) as limit_expiration
 from events ev where isopen = true ) as v WHERE minutes_event &gt;=  limit_expiration;
    cursor1_row RECORD;

BEGIN


    FOR cursor1_row IN cursor1 LOOP
            -- if cursor1_row.minutes_event &gt;=  cursor1_row.limit_expiration then
        --  PERFORM fun_edit_event_comments(0, 0, now()::timestamp without time zone, 1, &#39;Event expired. Automatically closed by the system.&#39;::text, 5, cursor1_row.idevent::bigint);   
INSERT INTO event_comments(
            idadmin, start, seconds, comment_event, ideventstatustype, idevent)
    VALUES (0, now(), 1, &#39;Event expired. Automatically closed by the system.&#39;, 5, cursor1_row.idevent::bigint);
fun_return := fun_return+1;
  --     end if;  
    END LOOP;

    

RETURN fun_return;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-sufix-name-by-date-idate-timestamp-with-time-zone">fun_sufix_name_by_date(idate timestamp with time zone)</a>
		</h2>
<h3>Returns: text</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

r TEXT DEFAULT &#39;19900101&#39;;

BEGIN
--r := to_char(idate, &#39;YYYYMMDD&#39;)::TEXT;
--r := to_char(idate, &#39;YYYYMM&#39;)::TEXT;
r := to_char(idate, &#39;YYYY&#39;)::TEXT;

return r;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-udc-get-structure-table-view-table-view-fields-text-table-view-name-textARRAY">fun_udc_get_structure_table_view(table_view_fields text, table_view_name text[])</a>
		</h2>
<h3>Returns: text</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>

DECLARE

r text;

BEGIN

select row_to_json(t) into r  
from (
  select *,
    (
      select array_to_json(array_agg(row_to_json(d)))
      from (
      -- dgrid_editable as &quot;canEdit&quot;,
        select dgrid_editor_args as &quot;editorArgs&quot;, dgrid_sortable as sortable, dgrid_editon as &quot;editOn&quot;, dgrid_resizable as resizable, column_name as field, column_label as &quot;label&quot;, dgrid_rendercell as &quot;renderCell&quot;, dgrid_classname as &quot;className&quot;, dgrid_formatter as formatter, dgrid_editor as editor
        from udc_columns where idtableview = udc_tables_views.idtableview AND &quot;show&quot; = true AND column_name = ANY(table_view_fields) ORDER BY column_position
      ) d
    ) as udc_column_definition
  from udc_tables_views where idtableview = (SELECT oid FROM pg_class WHERE relname = table_view_name)::bigint
) t;


return r;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-udc-get-structure-table-view-all-table-view-fields-text-table-view-name-textARRAY">fun_udc_get_structure_table_view_all(table_view_fields text, table_view_name text[])</a>
		</h2>
<h3>Returns: text</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>

DECLARE

r text;

BEGIN

select row_to_json(t) into r  
from (
  select *,
    (
      select array_to_json(array_agg(row_to_json(d)))
      from (
      -- dgrid_editable as &quot;canEdit&quot;,
        select dgrid_editor_args as &quot;editorArgs&quot;, dgrid_sortable as sortable, dgrid_editon as &quot;editOn&quot;, dgrid_resizable as resizable, column_name as field, column_label as &quot;label&quot;, dgrid_rendercell as &quot;renderCell&quot;, dgrid_classname as &quot;className&quot;, dgrid_formatter as formatter, dgrid_editor as editor
        from udc_columns where idtableview = udc_tables_views.idtableview  ORDER BY column_position
      ) d
    ) as udc_column_definition
  from udc_tables_views
) t;


return r;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-udc-mapper-tables-views">fun_udc_mapper_tables_views()</a>
		</h2>
<h3>Returns: integer</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>DECLARE

old_idtableview BIGINT;
idata_type text;
--oid_id BIGINT;
fun_return INTEGER DEFAULT 0;

cursor1 CURSOR FOR SELECT (SELECT oid FROM pg_class WHERE relname = ics.table_name)::bigint as idtableview, table_name, column_name, data_type, column_default, udt_name from information_schema.columns ics where table_name NOT LIKE &#39;%_20%&#39; AND table_name NOT LIKE &#39;%_19%&#39; AND table_schema = &#39;public&#39; ORDER BY table_name, column_name, data_type;
    cursor1_row RECORD;

--cursor2 CURSOR FOR SELECT table_name, column_name, data_type, column_default, udt_name from information_schema.columns where table_name NOT LIKE &#39;%_20%&#39; AND table_name NOT LIKE &#39;%_19%&#39; AND table_schema = &#39;public&#39; ORDER BY table_name, column_name, data_type;
  --  cursor2_row RECORD;


BEGIN

------------------------------------
    FOR cursor1_row IN cursor1 LOOP

-- Verificamos si el nombre de la tabla ya existe, si es asi obtenemos el idtableview y actualizamos en udc_tables_views
IF  EXISTS(SELECT * FROM udc_tables_views WHERE tv_name = cursor1_row.table_name) THEN
SELECT idtableview INTO old_idtableview FROM udc_tables_views WHERE tv_name = cursor1_row.table_name;
-- Actualizamos el idtableview
IF old_idtableview != cursor1_row.idtableview THEN
UPDATE udc_tables_views SET idtableview = cursor1_row.idtableview WHERE idtableview = old_idtableview;
END IF;

END IF;


  
-- Actualizamos el nombre de la tabla si ha cambiado el nombre de la tabla manteniendo el mismo OID
UPDATE udc_tables_views SET tv_name=cursor1_row.table_name WHERE idtableview = cursor1_row.idtableview;

-- Si no existe creamos el registro
        IF NOT found THEN
INSERT INTO udc_tables_views(
            idtableview, title_dgrid, tv_name)
    VALUES (cursor1_row.idtableview, cursor1_row.table_name, cursor1_row.table_name);
        END IF;

 END LOOP;



------------------------------------
    FOR cursor1_row IN cursor1 LOOP

idata_type := cursor1_row.data_type;

IF cursor1_row.data_type::TEXT = &#39;ARRAY&#39; THEN
idata_type := replace(cursor1_row.udt_name::TEXT, &#39;_&#39;, &#39;&#39;)||&#39;[]&#39;;
END IF;

   
UPDATE udc_columns
   SET data_type=idata_type, column_default=cursor1_row.column_default
 WHERE idtableview=cursor1_row.idtableview AND column_name=cursor1_row.column_name;
        IF NOT found THEN
INSERT INTO udc_columns(
            idtableview, column_name, data_type, column_default, 
            column_label)
    VALUES (cursor1_row.idtableview, cursor1_row.column_name, cursor1_row.data_type, cursor1_row.column_default, 
            cursor1_row.column_name);
        END IF;


    END LOOP;

    

RETURN fun_return;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-view-contact-groups-they-belong-note-bigint">fun_view_contact_groups_they_belong(note bigint)</a>
		</h2>
<h3>Returns: SET OF record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>
DECLARE myrow groups%ROWTYPE;
BEGIN
   FOR myrow IN SELECT * FROM groups where groups.idgroup &gt; 0
   LOOP
idgroup :=  myrow.idgroup;
ts:= myrow.ts;


--IF EXISTS(SELECT * FROM contacts_groups WHERE idcontact = iidcontact AND contacts_groups.idgroup = myrow.idgroup) THEN
--SELECT * FROM contacts WHERE idcontact = 0 AND 0 = ANY (groups)
IF EXISTS(SELECT * FROM contacts WHERE contacts.idcontact = iidcontact AND myrow.idgroup = ANY(groups)) THEN
ismember:=true;
ELSE
ismember:=false;
END IF;
idcontact := iidcontact;
enabled:= myrow.enabled;
name:= myrow.name;
description:=myrow.description;
note:=myrow.note;
   RETURN NEXT;
   END LOOP;
   RETURN;
END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.fun-view-farma-lista-precios">fun_view_farma_lista_precios()</a>
		</h2>
<h3>Returns: SET OF record</h3>
<h3>Language: PLPGSQL</h3>
        
        <pre>
DECLARE myrow accounts%ROWTYPE;
DECLARE mylista farma_lista_precios_farmacias%ROWTYPE;
BEGIN
   FOR myrow IN SELECT * FROM accounts where accounts.enabled = true
   LOOP
iddivision :=  myrow.iddivision;
SELECT * INTO mylista FROM farma_lista_precios_farmacias WHERE farma_lista_precios_farmacias.idaccount = myrow.idaccount;
SELECT contact_name INTO tecnico FROM view_accounts_oams_assigned WHERE view_accounts_oams_assigned.idaccount = myrow.idaccount;


idaccount := myrow.idaccount;
account := myrow.account;
account_name:= myrow.account_name;
address:=myrow.address;
note:=myrow.note;
--tecnico := &#39;???&#39;;


srv159_principal := mylista.srv159_principal;
srv159_activa := mylista.srv159_activa;
srv159_productos := mylista.srv159_productos;

ip := mylista.ip;
provincia := mylista.provincia;


principal := mylista.principal;
activa := mylista.activa;
productos := mylista.productos;
estado := mylista.status;
sincronizado := mylista.sincronizado;

ts_farmacia:= mylista.ts_lista_farmacia;
ts_server159:= mylista.ts_lista_srv159;

   RETURN NEXT;
   END LOOP;
   RETURN;
END;
</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.notifications-before-insert">notifications_before_insert()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        <p>Acciones y comprobaciones antes de insertar el registro de notificacion</p>
        <pre>BEGIN

/*
UPDATE sys_table_ts SET ts = now() WHERE table_name = TG_TABLE_NAME;
        IF NOT found THEN
INSERT INTO sys_table_ts (table_name) VALUES (TG_TABLE_NAME);
        END IF;
*/


IF NEW.timeout &lt; 5 THEN
NEW.timeout := 5;
END IF;

IF NEW.img IS NULL OR LENGTH(NEW.img) &lt; 4 THEN
NEW.img := &#39;/notifications_media/img/dialog-error.png&#39;;
END IF;

IF NEW.snd IS NULL OR LENGTH(NEW.snd) &lt; 4 THEN
NEW.snd := &#39;/notifications_media/snd/snd00.mp3&#39;;
END IF;

IF NEW.title IS NULL OR LENGTH(NEW.title) &lt; 3 THEN
NEW.title := &#39;Notification&#39;;
END IF;

IF NEW.body IS NULL OR  LENGTH(NEW.body) &lt; 3 THEN
NEW.body := &#39;Empty notification message&#39;;
END IF;

RETURN NEW;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.on-changed-table">on_changed_table()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        <p>Debe ser disparado despues de que la tabla ha sufrido cambios.</p>
        <pre>DECLARE

parent_table TEXT DEFAULT &#39;&#39;;

BEGIN


CASE
WHEN TG_TABLE_NAME ILIKE &#39;events_%&#39; THEN
parent_table:= &#39;events&#39;;

INSERT INTO table_modification_log(
            table_name, schema_name)
    VALUES (parent_table, TG_TABLE_SCHEMA);

WHEN TG_TABLE_NAME ILIKE &#39;event_comments_%&#39; THEN
parent_table:= &#39;event_comments&#39;;

INSERT INTO table_modification_log(
            table_name, schema_name)
    VALUES (parent_table, TG_TABLE_SCHEMA);


ELSE

INSERT INTO table_modification_log(
            table_name, schema_name)
    VALUES (TG_TABLE_NAME, TG_TABLE_SCHEMA);

END CASE;
    

/*

RAISE NOTICE &#39;1) Inicia Trigger on_changed_table&#39;;

UPDATE sys_table_ts SET ts = now() WHERE table_name = TG_TABLE_NAME;
RAISE NOTICE &#39;2) Se ha actualizado&#39;;

        IF NOT found THEN
RAISE NOTICE &#39;3) Registro no encontrado, se crea uno nuevo&#39;;
INSERT INTO sys_table_ts (table_name) VALUES (TG_TABLE_NAME);
        END IF;

RAISE NOTICE &#39;4) Termina on_changed_table&#39;;


BEGIN

CASE
WHEN TG_TABLE_NAME ILIKE &#39;events_%&#39; THEN
parent_table:= &#39;events&#39;;
WHEN TG_TABLE_NAME ILIKE &#39;event_comments_%&#39; THEN
parent_table:= &#39;event_comments&#39;;
ELSE

END CASE;


IF LENGTH(parent_table) &gt; 0 THEN

UPDATE sys_table_ts SET ts = now() WHERE table_name = parent_table;
RAISE NOTICE &#39;A) Se ha actualizado tabla padre %&#39;,parent_table;

        IF NOT found THEN
RAISE NOTICE &#39;B) Registro no encontrado, se crea uno nuevo %&#39;,parent_table;
INSERT INTO sys_table_ts (table_name) VALUES (parent_table);
        END IF;

END IF;



END;
*/

RETURN NULL;
END;</pre>
	
		<hr>
		<h2>Function:
			<a href="#public.schema">public</a>.<a name="public.function.on-update-row-update-ts">on_update_row_update_ts()</a>
		</h2>
<h3>Returns: trigger</h3>
<h3>Language: PLPGSQL</h3>
        <p>Debe ser disparado antes de actualizar un registro de una tabla para que el campo ts sea actualizado.</p>
        <pre>
BEGIN

RAISE NOTICE &#39;1) on_update_row_update_ts&#39;;


	NEW.footprint_row = (random() * 9999 + 1 )::smallint;
   NEW.ts = now(); 
   RETURN NEW;
END;
</pre>
	

<!-- scheduled_tasksscheduled_tasks -->

		
		<hr>
		<h1>Schema scheduled_tasks</h1>
		

		
		
        <hr>
		<h2>Table:
			
			<a href="#scheduled-tasks.schema">scheduled_tasks</a>.<a name="scheduled-tasks.table.task-list">task_list</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>scheduled_tasks.task_list Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idtask</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>ts</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>enabled</td>
            	<td>boolean</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>function_name</td>
            	<td>text</td>
                <td><i>
				

				NOT NULL
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>task_start</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>task_end</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>task_trigger</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>last_run</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>next_run</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>status</td>
            	<td>smallint</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>description</td>
            	<td>text</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>task_parameters</td>
            	<td>jsonb</td>
                <td><i>
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr0">
				<td>
                
                </td>
            	<td>duration</td>
            	<td>integer</td>
                <td><i>
				

				
				DEFAULT &#39;-1&#39;::integer
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#scheduled-tasks.schema">Schema scheduled_tasks</a>
    </p>
	

	<!-- We've gone through the table structure, now lets take a look at user functions -->
	

<!-- secondarysecondary -->

		
		<hr>
		<h1>Schema secondary</h1>
		
			<p>Esquema donde se colocaran tablas de apoyo o que no son parte fundamental de Open Monitoring System</p>
		

		
		
        <hr>
		<h2>Table:
			
			<a href="#secondary.schema">secondary</a>.<a name="secondary.table.eta-movinventarios">eta_movinventarios</a>
		</h2>
        


        <table width="100%" cellspacing="0" cellpadding="3">
                <caption>secondary.eta_movinventarios Structure</caption>
                <tr>
                <th>F-Key</th>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                </tr>
            
            <tr class="tr0">
				<td>
                
                  
                
                </td>
            	<td>idetamovinv</td>
            	<td>bigserial</td>
                <td><i>
				
					PRIMARY KEY
					

					
				

				
				
				</i>
				
				</td>
			 </tr>
            
            <tr class="tr1">
				<td>
                
                </td>
            	<td>dateload</td>
            	<td>timestamp with time zone</td>
                <td><i>
				

				NOT NULL
				DEFAULT now()
				</i>
				
				</td>
			 </tr>
            
        </table>

        <!-- Inherits -->
		

		
		
		

        <!-- Constraint List -->
		

        <!-- Foreign Key Discovery -->
		

    <!-- Indexes -->
    

	<!-- View Definition -->
	

	<!-- List off permissions -->
	

	<p>
		<a href="#index">Index</a> -
		<a href="#secondary.schema">Schema secondary</a>
    </p>
	

	<!-- We've gone through the table structure, now lets take a look at user functions -->
	


<p class="w3ref">Generated by <a href="http://www.rbt.ca/autodoc/">PostgreSQL Autodoc</a></p>
<p class="w3ref"><a href="http://validator.w3.org/check/referer">W3C HTML 4.01 Strict</a></p>
</body></html>
